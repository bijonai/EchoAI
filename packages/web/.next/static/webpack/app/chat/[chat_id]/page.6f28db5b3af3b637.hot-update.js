"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[chat_id]/page",{

/***/ "(app-pages-browser)/./components/board.tsx":
/*!******************************!*\
  !*** ./components/board.tsx ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Board: () => (/* binding */ Board)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var shikiji__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! shikiji */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/bundle-full.mjs\");\n\n\nasync function Board(param) {\n    let { content } = param;\n    const highlighter = await (0,shikiji__WEBPACK_IMPORTED_MODULE_1__.getHighlighter)();\n    highlighter.loadLanguage('markdown');\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"size-full flex\",\n            dangerouslySetInnerHTML: {\n                __html: highlighter.codeToHtml(content, {\n                    lang: 'markdown',\n                    theme: 'github-dark'\n                })\n            }\n        }, void 0, false, {\n            fileName: \"/Users/acboxliu/projects/bijon/echoai/components/board.tsx\",\n            lineNumber: 9,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/acboxliu/projects/bijon/echoai/components/board.tsx\",\n        lineNumber: 8,\n        columnNumber: 5\n    }, this);\n}\n_c = Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYm9hcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0M7QUFFakMsZUFBZUMsTUFBTSxLQUFnQztRQUFoQyxFQUFFQyxPQUFPLEVBQXVCLEdBQWhDO0lBQzFCLE1BQU1DLGNBQWMsTUFBTUgsdURBQWNBO0lBQ3hDRyxZQUFZQyxZQUFZLENBQUM7SUFFekIscUJBQ0UsOERBQUNDO2tCQUNDLDRFQUFDQTtZQUFJQyxXQUFVO1lBQWlCQyx5QkFBeUI7Z0JBQUVDLFFBQVFMLFlBQVlNLFVBQVUsQ0FBQ1AsU0FBUztvQkFBRVEsTUFBTTtvQkFBWUMsT0FBTztnQkFBYztZQUFHOzs7Ozs7Ozs7OztBQUdySjtLQVRzQlYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hY2JveGxpdS9wcm9qZWN0cy9iaWpvbi9lY2hvYWkvY29tcG9uZW50cy9ib2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0SGlnaGxpZ2h0ZXIgfSBmcm9tIFwic2hpa2lqaVwiXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBCb2FyZCh7IGNvbnRlbnQgfTogeyBjb250ZW50OiBzdHJpbmcgfSkge1xuICBjb25zdCBoaWdobGlnaHRlciA9IGF3YWl0IGdldEhpZ2hsaWdodGVyKClcbiAgaGlnaGxpZ2h0ZXIubG9hZExhbmd1YWdlKCdtYXJrZG93bicpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaXplLWZ1bGwgZmxleFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaGlnaGxpZ2h0ZXIuY29kZVRvSHRtbChjb250ZW50LCB7IGxhbmc6ICdtYXJrZG93bicsIHRoZW1lOiAnZ2l0aHViLWRhcmsnIH0pIH19PjwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbImdldEhpZ2hsaWdodGVyIiwiQm9hcmQiLCJjb250ZW50IiwiaGlnaGxpZ2h0ZXIiLCJsb2FkTGFuZ3VhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsImNvZGVUb0h0bWwiLCJsYW5nIiwidGhlbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/board.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/chat.tsx":
/*!*****************************!*\
  !*** ./components/chat.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: () => (/* binding */ Chat),\n/* harmony export */   END: () => (/* binding */ END)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _message_box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message-box */ \"(app-pages-browser)/./components/message-box.tsx\");\n/* harmony import */ var _tool_box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tool-box */ \"(app-pages-browser)/./components/tool-box.tsx\");\n/* harmony import */ var _prompt_area__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prompt-area */ \"(app-pages-browser)/./components/prompt-area.tsx\");\n/* harmony import */ var _apis_designer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/apis/designer */ \"(app-pages-browser)/./apis/designer.ts\");\n/* harmony import */ var _timeline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./timeline */ \"(app-pages-browser)/./components/timeline.tsx\");\n/* harmony import */ var _apis_speaker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/apis/speaker */ \"(app-pages-browser)/./apis/speaker.ts\");\n/* harmony import */ var _board__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./board */ \"(app-pages-browser)/./components/board.tsx\");\n/* harmony import */ var _apis_layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/apis/layout */ \"(app-pages-browser)/./apis/layout.ts\");\n/* __next_internal_client_entry_do_not_use__ END,Chat auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nconst END = Symbol('END_FLAG');\nconst convert = (displayedMessages)=>{\n    return displayedMessages.map((msg, index)=>{\n        if (msg.role === 'user') {\n            return {\n                avatar: 'https://picsum.photos/200/300',\n                role: 'user',\n                content: msg.content\n            };\n        } else if (msg.role === 'processor') {\n            return {\n                role: 'tip',\n                content: msg.content\n            };\n        } else {\n            return {\n                role: 'assistant',\n                content: msg.content\n            };\n        }\n    });\n};\nconst findStep = (stepId, branches)=>{\n    for (const branch of branches){\n        for (const step of branch.steps){\n            if (step.step.toString() === stepId.toString()) {\n                return step;\n            }\n        }\n    }\n    return null;\n};\nconst findStepNext = (stepId, branches)=>{\n    for (const [index, branch] of branches.entries()){\n        for (const [stepIndex, step] of branch.steps.entries()){\n            if (step.step.toString() === stepId.toString()) {\n                if (stepIndex < branch.steps.length - 1) {\n                    return branch.steps[stepIndex + 1];\n                } else if (branch.start && branch.end) {\n                    return findStep(branch.end, branches);\n                } else {\n                    return END;\n                }\n            }\n        }\n    }\n    return null;\n};\nfunction Chat(param) {\n    let { chatId, info, status } = param;\n    _s();\n    const [fetchStatus, setFetchStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(status);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(convert(info.displayed_messages));\n    const [updateTrigger, setUpdateTrigger] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [branches, setBranches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(info.branches);\n    const currentStep = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const calledRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [nextAvailablity, setNextAvailablity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [boardContent, setBoardContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const requestDesigner = async (inputPrompt)=>{\n        console.log('fetchMessages called', {\n            fetchStatus,\n            inputPrompt\n        });\n        try {\n            calledRef.current = true;\n            setFetchStatus('streaming');\n            setIsLoading(true);\n            messages.current.push(...prompt ? [\n                {\n                    avatar: 'https://picsum.photos/200/300',\n                    role: 'user',\n                    content: inputPrompt\n                }\n            ] : [], {\n                role: 'tip',\n                content: 'Designing...',\n                isLoading: true\n            });\n            setUpdateTrigger((v)=>v + 1);\n            const designerResponse = await (0,_apis_designer__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n                chat_id: chatId,\n                prompt\n            });\n            setBranches(designerResponse.branches);\n            currentStep.current = designerResponse.branches[designerResponse.branches.length - 1].steps[0].step;\n            messages.current.length = 0;\n            messages.current.push(...convert(designerResponse.displayed_messages));\n            setUpdateTrigger((v)=>v + 1);\n            let content = '';\n            await request(content, designerResponse.branches);\n            setNextAvailablity(true);\n        } catch (error) {\n            console.error('Error in fetchMessages:', error);\n            setFetchStatus('error');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const requestSpeaker = async (content, currentBranches)=>{\n        const step = findStep(currentStep.current, currentBranches);\n        console.log('requestSpeaker', step, currentStep.current, currentBranches);\n        await (0,_apis_speaker__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n            chat_id: chatId,\n            stream: true,\n            ...step\n        }, (chunk)=>{\n            setUpdateTrigger((v)=>v + 1);\n            if (content.length > 0) messages.current.pop();\n            content += chunk.content;\n            messages.current.push({\n                role: 'assistant',\n                content\n            });\n            setUpdateTrigger((v)=>v + 1);\n        });\n    };\n    const requestLayout = async (currentBranches)=>{\n        const step = findStep(currentStep.current, currentBranches);\n        const layoutResponse = await (0,_apis_layout__WEBPACK_IMPORTED_MODULE_9__.layout)({\n            chat_id: chatId,\n            prompt,\n            ...step\n        });\n        setBoardContent(layoutResponse.content);\n        setUpdateTrigger((v)=>v + 1);\n    };\n    const request = async (content, currentBranches)=>{\n        await Promise.all([\n            requestSpeaker(content, currentBranches),\n            requestLayout(currentBranches)\n        ]);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Chat.useEffect\": ()=>{\n            console.log('useEffect triggered', {\n                calledRef: calledRef.current\n            });\n            if (calledRef.current) return;\n            requestDesigner(prompt);\n        }\n    }[\"Chat.useEffect\"], [\n        chatId\n    ]);\n    async function handleNext() {\n        setNextAvailablity(false);\n        const nextStep = findStepNext(currentStep.current, branches);\n        if (nextStep === END) {\n        // TODO: END\n        } else {\n            currentStep.current = nextStep === null || nextStep === void 0 ? void 0 : nextStep.step;\n            let content = '';\n            await request(content, branches);\n            setUpdateTrigger((v)=>v + 1);\n        }\n        setNextAvailablity(true);\n    }\n    function handleSend() {\n        console.log('send', prompt);\n        requestDesigner(prompt);\n        setPrompt('');\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex w-full gap-2 h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col h-full w-2/3 gap-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-3/4 h-full bg-gray-100 rounded-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_board__WEBPACK_IMPORTED_MODULE_8__.Board, {\n                                content: boardContent\n                            }, void 0, false, {\n                                fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-1/4 h-full bg-gray-100 rounded-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_timeline__WEBPACK_IMPORTED_MODULE_6__.Timeline, {\n                            branches: branches\n                        }, void 0, false, {\n                            fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                            lineNumber: 227,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                        lineNumber: 226,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                lineNumber: 220,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col w-1/3 gap-y-2 bg-gray-100 rounded-lg p-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-1 overflow-y-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"size-full\",\n                            children: messages.current.map((message, index)=>{\n                                var _message_isLoading, _message_avatar;\n                                return message.role === 'tip' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tool_box__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    content: message.content,\n                                    isLoading: (_message_isLoading = message.isLoading) !== null && _message_isLoading !== void 0 ? _message_isLoading : false\n                                }, index, false, {\n                                    fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                                    lineNumber: 235,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_message_box__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    avatar: (_message_avatar = message.avatar) !== null && _message_avatar !== void 0 ? _message_avatar : 'https://picsum.photos/200/300',\n                                    role: message.role,\n                                    content: message.content\n                                }, index, false, {\n                                    fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                                    lineNumber: 241,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                            lineNumber: 232,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-[200px] w-full \",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_prompt_area__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            onNext: handleNext,\n                            onSend: handleSend,\n                            setPrompt: setPrompt,\n                            next: nextAvailablity\n                        }, void 0, false, {\n                            fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                            lineNumber: 252,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                        lineNumber: 251,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n                lineNumber: 230,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/acboxliu/projects/bijon/echoai/components/chat.tsx\",\n        lineNumber: 219,\n        columnNumber: 5\n    }, this);\n}\n_s(Chat, \"flY/eScIHwC33MP1CxVzekuXGVg=\");\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTZEO0FBQ3ZCO0FBQ047QUFDTTtBQUNLO0FBQ047QUFFSTtBQUVWO0FBQ087QUFFL0IsTUFBTVksTUFBTUMsT0FBTyxZQUFXO0FBZ0JyQyxNQUFNQyxVQUFVLENBQUNDO0lBQ2YsT0FBT0Esa0JBQWtCQyxHQUFHLENBQUMsQ0FBQ0MsS0FBS0M7UUFDakMsSUFBSUQsSUFBSUUsSUFBSSxLQUFLLFFBQVE7WUFDdkIsT0FBTztnQkFDTEMsUUFBUTtnQkFDUkQsTUFBTTtnQkFDTkUsU0FBU0osSUFBSUksT0FBTztZQUN0QjtRQUNGLE9BQU8sSUFBSUosSUFBSUUsSUFBSSxLQUFLLGFBQWE7WUFDbkMsT0FBTztnQkFDTEEsTUFBTTtnQkFDTkUsU0FBU0osSUFBSUksT0FBTztZQUN0QjtRQUNGLE9BQU87WUFDTCxPQUFPO2dCQUNMRixNQUFNO2dCQUNORSxTQUFTSixJQUFJSSxPQUFPO1lBQ3RCO1FBQ0Y7SUFDRjtBQUNGO0FBRUEsTUFBTUMsV0FBVyxDQUFDQyxRQUFnQkM7SUFDaEMsS0FBSyxNQUFNQyxVQUFVRCxTQUFVO1FBQzdCLEtBQUssTUFBTUUsUUFBUUQsT0FBT0UsS0FBSyxDQUFFO1lBQy9CLElBQUlELEtBQUtBLElBQUksQ0FBQ0UsUUFBUSxPQUFPTCxPQUFPSyxRQUFRLElBQUk7Z0JBQzlDLE9BQU9GO1lBQ1Q7UUFDRjtJQUNGO0lBQ0EsT0FBTztBQUNUO0FBRUEsTUFBTUcsZUFBZSxDQUFDTixRQUFnQkM7SUFDcEMsS0FBSyxNQUFNLENBQUNOLE9BQU9PLE9BQU8sSUFBSUQsU0FBU00sT0FBTyxHQUFJO1FBQ2hELEtBQUssTUFBTSxDQUFDQyxXQUFXTCxLQUFLLElBQUlELE9BQU9FLEtBQUssQ0FBQ0csT0FBTyxHQUFJO1lBQ3RELElBQUlKLEtBQUtBLElBQUksQ0FBQ0UsUUFBUSxPQUFPTCxPQUFPSyxRQUFRLElBQUk7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OzRCQUFZTyxRQUFRTDs0QkFBWTVCLFdBQVdBOzRCQUFXa0MsTUFBTWhDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUsxRjtHQTlLZ0JqQjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FjYm94bGl1L3Byb2plY3RzL2Jpam9uL2VjaG9haS9jb21wb25lbnRzL2NoYXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyBEZXNpZ25lclN0ZXAsIFN0ZXBCcmFuY2ggfSBmcm9tICdAL3dvcmtmbG93L2Rlc2lnbmVyJ1xuaW1wb3J0IHsgRGVzaWduZXJSZXNwb25zZSB9IGZyb20gJ0Avc2VydmljZXMvZGVzaWduZXInXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgTWVzc2FnZUJveCBmcm9tICcuL21lc3NhZ2UtYm94J1xuaW1wb3J0IFRvb2xCb3ggZnJvbSAnLi90b29sLWJveCdcbmltcG9ydCBQcm9tcHRBcmVhIGZyb20gJy4vcHJvbXB0LWFyZWEnXG5pbXBvcnQgZmV0Y2hEZXNpZ25lciBmcm9tICdAL2FwaXMvZGVzaWduZXInXG5pbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gJy4vdGltZWxpbmUnXG5pbXBvcnQgeyBEaXNwbGF5ZWRNZXNzYWdlLCBHZXRDaGF0UmVzcG9uc2UgfSBmcm9tICdAL3NlcnZpY2VzL2dldC1jaGF0J1xuaW1wb3J0IGZldGNoU3BlYWtlciBmcm9tICdAL2FwaXMvc3BlYWtlcidcbmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCdcbmltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi9ib2FyZCdcbmltcG9ydCB7IGxheW91dCB9IGZyb20gJ0AvYXBpcy9sYXlvdXQnXG5cbmV4cG9ydCBjb25zdCBFTkQgPSBTeW1ib2woJ0VORF9GTEFHJylcblxuaW50ZXJmYWNlIFRpcE1lc3NhZ2VCb3hUeXBlIHtcbiAgcm9sZTogJ3RpcCdcbiAgY29udGVudDogc3RyaW5nXG4gIGlzTG9hZGluZz86IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIENoYXRNZXNzYWdlQm94VHlwZSB7XG4gIGF2YXRhcj86IHN0cmluZ1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50J1xuICBjb250ZW50OiBzdHJpbmdcbn1cblxudHlwZSBNZXNzYWdlQm94VHlwZSA9IFRpcE1lc3NhZ2VCb3hUeXBlIHwgQ2hhdE1lc3NhZ2VCb3hUeXBlXG5cbmNvbnN0IGNvbnZlcnQgPSAoZGlzcGxheWVkTWVzc2FnZXM6IERpc3BsYXllZE1lc3NhZ2VbXSk6IE1lc3NhZ2VCb3hUeXBlW10gPT4ge1xuICByZXR1cm4gZGlzcGxheWVkTWVzc2FnZXMubWFwKChtc2csIGluZGV4KSA9PiB7XG4gICAgaWYgKG1zZy5yb2xlID09PSAndXNlcicpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF2YXRhcjogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy8yMDAvMzAwJyxcbiAgICAgICAgcm9sZTogJ3VzZXInIGFzIGNvbnN0LFxuICAgICAgICBjb250ZW50OiBtc2cuY29udGVudFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobXNnLnJvbGUgPT09ICdwcm9jZXNzb3InKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAndGlwJyBhcyBjb25zdCxcbiAgICAgICAgY29udGVudDogbXNnLmNvbnRlbnQsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnIGFzIGNvbnN0LFxuICAgICAgICBjb250ZW50OiBtc2cuY29udGVudFxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuY29uc3QgZmluZFN0ZXAgPSAoc3RlcElkOiBzdHJpbmcsIGJyYW5jaGVzOiBTdGVwQnJhbmNoW10pOiBEZXNpZ25lclN0ZXAgfCBudWxsID0+IHtcbiAgZm9yIChjb25zdCBicmFuY2ggb2YgYnJhbmNoZXMpIHtcbiAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgYnJhbmNoLnN0ZXBzKSB7XG4gICAgICBpZiAoc3RlcC5zdGVwLnRvU3RyaW5nKCkgPT09IHN0ZXBJZC50b1N0cmluZygpKSB7XG4gICAgICAgIHJldHVybiBzdGVwXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IGZpbmRTdGVwTmV4dCA9IChzdGVwSWQ6IHN0cmluZywgYnJhbmNoZXM6IFN0ZXBCcmFuY2hbXSk6IERlc2lnbmVyU3RlcCB8IG51bGwgfCB0eXBlb2YgRU5EID0+IHtcbiAgZm9yIChjb25zdCBbaW5kZXgsIGJyYW5jaF0gb2YgYnJhbmNoZXMuZW50cmllcygpKSB7XG4gICAgZm9yIChjb25zdCBbc3RlcEluZGV4LCBzdGVwXSBvZiBicmFuY2guc3RlcHMuZW50cmllcygpKSB7XG4gICAgICBpZiAoc3RlcC5zdGVwLnRvU3RyaW5nKCkgPT09IHN0ZXBJZC50b1N0cmluZygpKSB7XG4gICAgICAgIGlmIChzdGVwSW5kZXggPCBicmFuY2guc3RlcHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHJldHVybiBicmFuY2guc3RlcHNbc3RlcEluZGV4ICsgMV1cbiAgICAgICAgfSBlbHNlIGlmIChicmFuY2guc3RhcnQgJiYgYnJhbmNoLmVuZCkge1xuICAgICAgICAgIHJldHVybiBmaW5kU3RlcChicmFuY2guZW5kLCBicmFuY2hlcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gRU5EXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYXQoe1xuICBjaGF0SWQsXG4gIGluZm8sXG4gIHN0YXR1cyxcbn06IHtcbiAgY2hhdElkOiBzdHJpbmdcbiAgaW5mbzogR2V0Q2hhdFJlc3BvbnNlXG4gIHN0YXR1czogJ3N1Ym1pdHRlZCcgfCAnc3RyZWFtaW5nJyB8ICdyZWFkeScgfCAnZXJyb3InXG59KSB7XG4gIGNvbnN0IFtmZXRjaFN0YXR1cywgc2V0RmV0Y2hTdGF0dXNdID0gdXNlU3RhdGU8J3N1Ym1pdHRlZCcgfCAnc3RyZWFtaW5nJyB8ICdyZWFkeScgfCAnZXJyb3InPihzdGF0dXMpXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgbWVzc2FnZXMgPSB1c2VSZWY8TWVzc2FnZUJveFR5cGVbXT4oY29udmVydChpbmZvLmRpc3BsYXllZF9tZXNzYWdlcykpXG4gIGNvbnN0IFt1cGRhdGVUcmlnZ2VyLCBzZXRVcGRhdGVUcmlnZ2VyXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFticmFuY2hlcywgc2V0QnJhbmNoZXNdID0gdXNlU3RhdGU8U3RlcEJyYW5jaFtdPihpbmZvLmJyYW5jaGVzKVxuICBjb25zdCBjdXJyZW50U3RlcCA9IHVzZVJlZjxzdHJpbmcgfCBudWxsIHwgdHlwZW9mIEVORD4obnVsbClcbiAgY29uc3QgW3Byb21wdCwgc2V0UHJvbXB0XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIGNvbnN0IGNhbGxlZFJlZiA9IHVzZVJlZihmYWxzZSlcbiAgY29uc3QgW25leHRBdmFpbGFibGl0eSwgc2V0TmV4dEF2YWlsYWJsaXR5XSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBbYm9hcmRDb250ZW50LCBzZXRCb2FyZENvbnRlbnRdID0gdXNlU3RhdGU8c3RyaW5nPignJylcblxuICBjb25zdCByZXF1ZXN0RGVzaWduZXIgPSBhc3luYyAoaW5wdXRQcm9tcHQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdmZXRjaE1lc3NhZ2VzIGNhbGxlZCcsIHsgZmV0Y2hTdGF0dXMsIGlucHV0UHJvbXB0IH0pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjYWxsZWRSZWYuY3VycmVudCA9IHRydWVcbiAgICAgIHNldEZldGNoU3RhdHVzKCdzdHJlYW1pbmcnKVxuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICBcbiAgICAgIG1lc3NhZ2VzLmN1cnJlbnQucHVzaCguLi4ocHJvbXB0ID8gW3tcbiAgICAgICAgYXZhdGFyOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzIwMC8zMDAnLFxuICAgICAgICByb2xlOiAndXNlcicgYXMgY29uc3QsXG4gICAgICAgIGNvbnRlbnQ6IGlucHV0UHJvbXB0LFxuICAgICAgfV0gOiBbXSksXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICd0aXAnIGFzIGNvbnN0LFxuICAgICAgICBjb250ZW50OiAnRGVzaWduaW5nLi4uJyxcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgfSlcbiAgICAgIHNldFVwZGF0ZVRyaWdnZXIodiA9PiB2ICsgMSlcblxuICAgICAgY29uc3QgZGVzaWduZXJSZXNwb25zZSA9IGF3YWl0IGZldGNoRGVzaWduZXIoe1xuICAgICAgICBjaGF0X2lkOiBjaGF0SWQsXG4gICAgICAgIHByb21wdCxcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHNldEJyYW5jaGVzKGRlc2lnbmVyUmVzcG9uc2UuYnJhbmNoZXMpXG4gICAgICBjdXJyZW50U3RlcC5jdXJyZW50ID0gZGVzaWduZXJSZXNwb25zZS5icmFuY2hlc1tkZXNpZ25lclJlc3BvbnNlLmJyYW5jaGVzLmxlbmd0aCAtIDFdLnN0ZXBzWzBdLnN0ZXBcbiAgICAgIG1lc3NhZ2VzLmN1cnJlbnQubGVuZ3RoID0gMFxuICAgICAgbWVzc2FnZXMuY3VycmVudC5wdXNoKC4uLmNvbnZlcnQoZGVzaWduZXJSZXNwb25zZS5kaXNwbGF5ZWRfbWVzc2FnZXMpKVxuICAgICAgc2V0VXBkYXRlVHJpZ2dlcih2ID0+IHYgKyAxKVxuXG4gICAgICBsZXQgY29udGVudCA9ICcnXG4gICAgICBhd2FpdCByZXF1ZXN0KGNvbnRlbnQsIGRlc2lnbmVyUmVzcG9uc2UuYnJhbmNoZXMpXG4gICAgICBzZXROZXh0QXZhaWxhYmxpdHkodHJ1ZSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBmZXRjaE1lc3NhZ2VzOicsIGVycm9yKTtcbiAgICAgIHNldEZldGNoU3RhdHVzKCdlcnJvcicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVxdWVzdFNwZWFrZXIgPSBhc3luYyAoXG4gICAgY29udGVudDogc3RyaW5nLFxuICAgIGN1cnJlbnRCcmFuY2hlczogU3RlcEJyYW5jaFtdXG4gICkgPT4ge1xuICAgIGNvbnN0IHN0ZXAgPSBmaW5kU3RlcChjdXJyZW50U3RlcC5jdXJyZW50IGFzIHN0cmluZywgY3VycmVudEJyYW5jaGVzKSFcbiAgICBjb25zb2xlLmxvZygncmVxdWVzdFNwZWFrZXInLCBzdGVwLCBjdXJyZW50U3RlcC5jdXJyZW50LCBjdXJyZW50QnJhbmNoZXMpXG4gICAgYXdhaXQgZmV0Y2hTcGVha2VyKHtcbiAgICAgIGNoYXRfaWQ6IGNoYXRJZCxcbiAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgIC4uLnN0ZXAsXG4gICAgfSwgKGNodW5rKSA9PiB7XG4gICAgICBzZXRVcGRhdGVUcmlnZ2VyKHYgPT4gdiArIDEpXG4gICAgICBcbiAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIG1lc3NhZ2VzLmN1cnJlbnQucG9wKClcbiAgICAgIGNvbnRlbnQgKz0gY2h1bmsuY29udGVudFxuICAgICAgbWVzc2FnZXMuY3VycmVudC5wdXNoKHtcbiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcgYXMgY29uc3QsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KVxuICAgICAgc2V0VXBkYXRlVHJpZ2dlcih2ID0+IHYgKyAxKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCByZXF1ZXN0TGF5b3V0ID0gYXN5bmMgKFxuICAgIGN1cnJlbnRCcmFuY2hlczogU3RlcEJyYW5jaFtdXG4gICkgPT4ge1xuICAgIGNvbnN0IHN0ZXAgPSBmaW5kU3RlcChjdXJyZW50U3RlcC5jdXJyZW50IGFzIHN0cmluZywgY3VycmVudEJyYW5jaGVzKSFcbiAgICBjb25zdCBsYXlvdXRSZXNwb25zZSA9IGF3YWl0IGxheW91dCh7XG4gICAgICBjaGF0X2lkOiBjaGF0SWQsXG4gICAgICBwcm9tcHQsXG4gICAgICAuLi5zdGVwLFxuICAgIH0pXG4gICAgc2V0Qm9hcmRDb250ZW50KGxheW91dFJlc3BvbnNlLmNvbnRlbnQpXG4gICAgc2V0VXBkYXRlVHJpZ2dlcih2ID0+IHYgKyAxKVxuICB9XG5cbiAgY29uc3QgcmVxdWVzdCA9IGFzeW5jIChcbiAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgY3VycmVudEJyYW5jaGVzOiBTdGVwQnJhbmNoW11cbiAgKSA9PiB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgcmVxdWVzdFNwZWFrZXIoY29udGVudCwgY3VycmVudEJyYW5jaGVzKSxcbiAgICAgIHJlcXVlc3RMYXlvdXQoY3VycmVudEJyYW5jaGVzKSxcbiAgICBdKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygndXNlRWZmZWN0IHRyaWdnZXJlZCcsIHsgY2FsbGVkUmVmOiBjYWxsZWRSZWYuY3VycmVudCB9KTtcbiAgICBpZiAoY2FsbGVkUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICByZXF1ZXN0RGVzaWduZXIocHJvbXB0KTtcbiAgfSwgW2NoYXRJZF0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZU5leHQoKSB7XG4gICAgc2V0TmV4dEF2YWlsYWJsaXR5KGZhbHNlKVxuICAgIGNvbnN0IG5leHRTdGVwID0gZmluZFN0ZXBOZXh0KGN1cnJlbnRTdGVwLmN1cnJlbnQgYXMgc3RyaW5nLCBicmFuY2hlcylcbiAgICBpZiAobmV4dFN0ZXAgPT09IEVORCkge1xuICAgICAgLy8gVE9ETzogRU5EXG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRTdGVwLmN1cnJlbnQgPSBuZXh0U3RlcD8uc3RlcCFcbiAgICAgIGxldCBjb250ZW50ID0gJydcbiAgICAgIGF3YWl0IHJlcXVlc3QoY29udGVudCwgYnJhbmNoZXMpXG4gICAgICBzZXRVcGRhdGVUcmlnZ2VyKHYgPT4gdiArIDEpXG4gICAgfVxuICAgIHNldE5leHRBdmFpbGFibGl0eSh0cnVlKVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2VuZCgpIHtcbiAgICBjb25zb2xlLmxvZygnc2VuZCcsIHByb21wdClcbiAgICByZXF1ZXN0RGVzaWduZXIocHJvbXB0KVxuICAgIHNldFByb21wdCgnJylcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBnYXAtMiBoLWZ1bGxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgdy0yLzMgZ2FwLXktMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC0zLzQgaC1mdWxsIGJnLWdyYXktMTAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8U3VzcGVuc2U+XG4gICAgICAgICAgICA8Qm9hcmQgY29udGVudD17Ym9hcmRDb250ZW50fSAvPlxuICAgICAgICAgIDwvU3VzcGVuc2U+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC0xLzQgaC1mdWxsIGJnLWdyYXktMTAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8VGltZWxpbmUgYnJhbmNoZXM9e2JyYW5jaGVzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctMS8zIGdhcC15LTIgYmctZ3JheS0xMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtMSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpemUtZnVsbFwiPlxuICAgICAgICAgICAge21lc3NhZ2VzLmN1cnJlbnQubWFwKChtZXNzYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAobWVzc2FnZS5yb2xlID09PSAndGlwJykgPyAoXG4gICAgICAgICAgICAgICAgPFRvb2xCb3hcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZz17bWVzc2FnZS5pc0xvYWRpbmcgPz8gZmFsc2V9XG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPE1lc3NhZ2VCb3hcbiAgICAgICAgICAgICAgICAgIGF2YXRhcj17bWVzc2FnZS5hdmF0YXIgPz8gJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy8yMDAvMzAwJ31cbiAgICAgICAgICAgICAgICAgIHJvbGU9e21lc3NhZ2Uucm9sZX1cbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtWzIwMHB4XSB3LWZ1bGwgXCI+XG4gICAgICAgICAgPFByb21wdEFyZWEgb25OZXh0PXtoYW5kbGVOZXh0fSBvblNlbmQ9e2hhbmRsZVNlbmR9IHNldFByb21wdD17c2V0UHJvbXB0fSBuZXh0PXtuZXh0QXZhaWxhYmxpdHl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIlN1c3BlbnNlIiwiTWVzc2FnZUJveCIsIlRvb2xCb3giLCJQcm9tcHRBcmVhIiwiZmV0Y2hEZXNpZ25lciIsIlRpbWVsaW5lIiwiZmV0Y2hTcGVha2VyIiwiQm9hcmQiLCJsYXlvdXQiLCJFTkQiLCJTeW1ib2wiLCJjb252ZXJ0IiwiZGlzcGxheWVkTWVzc2FnZXMiLCJtYXAiLCJtc2ciLCJpbmRleCIsInJvbGUiLCJhdmF0YXIiLCJjb250ZW50IiwiZmluZFN0ZXAiLCJzdGVwSWQiLCJicmFuY2hlcyIsImJyYW5jaCIsInN0ZXAiLCJzdGVwcyIsInRvU3RyaW5nIiwiZmluZFN0ZXBOZXh0IiwiZW50cmllcyIsInN0ZXBJbmRleCIsImxlbmd0aCIsInN0YXJ0IiwiZW5kIiwiQ2hhdCIsImNoYXRJZCIsImluZm8iLCJzdGF0dXMiLCJmZXRjaFN0YXR1cyIsInNldEZldGNoU3RhdHVzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwibWVzc2FnZXMiLCJkaXNwbGF5ZWRfbWVzc2FnZXMiLCJ1cGRhdGVUcmlnZ2VyIiwic2V0VXBkYXRlVHJpZ2dlciIsInNldEJyYW5jaGVzIiwiY3VycmVudFN0ZXAiLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJjYWxsZWRSZWYiLCJuZXh0QXZhaWxhYmxpdHkiLCJzZXROZXh0QXZhaWxhYmxpdHkiLCJib2FyZENvbnRlbnQiLCJzZXRCb2FyZENvbnRlbnQiLCJyZXF1ZXN0RGVzaWduZXIiLCJpbnB1dFByb21wdCIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50IiwicHVzaCIsInYiLCJkZXNpZ25lclJlc3BvbnNlIiwiY2hhdF9pZCIsInJlcXVlc3QiLCJlcnJvciIsInJlcXVlc3RTcGVha2VyIiwiY3VycmVudEJyYW5jaGVzIiwic3RyZWFtIiwiY2h1bmsiLCJwb3AiLCJyZXF1ZXN0TGF5b3V0IiwibGF5b3V0UmVzcG9uc2UiLCJQcm9taXNlIiwiYWxsIiwiaGFuZGxlTmV4dCIsIm5leHRTdGVwIiwiaGFuZGxlU2VuZCIsImRpdiIsImNsYXNzTmFtZSIsIm1lc3NhZ2UiLCJvbk5leHQiLCJvblNlbmQiLCJuZXh0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/chat.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/index.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/index.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontStyle: () => (/* reexport safe */ _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle),\n/* harmony export */   addClassToHast: () => (/* binding */ addClassToHast),\n/* harmony export */   applyColorReplacements: () => (/* binding */ applyColorReplacements),\n/* harmony export */   codeToHast: () => (/* binding */ codeToHast),\n/* harmony export */   codeToHtml: () => (/* binding */ codeToHtml),\n/* harmony export */   codeToThemedTokens: () => (/* binding */ codeToThemedTokens),\n/* harmony export */   codeToTokensWithThemes: () => (/* binding */ codeToTokensWithThemes),\n/* harmony export */   createSingletonShorthands: () => (/* binding */ createSingletonShorthands),\n/* harmony export */   createdBundledHighlighter: () => (/* binding */ createdBundledHighlighter),\n/* harmony export */   getHighlighterCore: () => (/* binding */ getHighlighterCore),\n/* harmony export */   getShikiInternal: () => (/* binding */ getShikiInternal),\n/* harmony export */   hastToHtml: () => (/* binding */ toHtml),\n/* harmony export */   isNoneTheme: () => (/* binding */ isNoneTheme),\n/* harmony export */   isPlainLang: () => (/* binding */ isPlainLang),\n/* harmony export */   isPlaintext: () => (/* binding */ isPlaintext),\n/* harmony export */   isSpecialLang: () => (/* binding */ isSpecialLang),\n/* harmony export */   isSpecialTheme: () => (/* binding */ isSpecialTheme),\n/* harmony export */   loadWasm: () => (/* binding */ loadWasm),\n/* harmony export */   normalizeTheme: () => (/* binding */ normalizeTheme),\n/* harmony export */   setDefaultWasmLoader: () => (/* binding */ setDefaultWasmLoader),\n/* harmony export */   splitLines: () => (/* binding */ splitLines),\n/* harmony export */   splitToken: () => (/* binding */ splitToken),\n/* harmony export */   toArray: () => (/* binding */ toArray),\n/* harmony export */   tokenizeAnsiWithTheme: () => (/* binding */ tokenizeAnsiWithTheme),\n/* harmony export */   tokenizeWithTheme: () => (/* binding */ tokenizeWithTheme)\n/* harmony export */ });\n/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/types.mjs\");\n/* harmony import */ var _textmate_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./textmate.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/textmate.mjs\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n\n\n\nfunction toArray(x) {\n    return Array.isArray(x) ? x : [x];\n}\n/**\n * Slipt a string into lines, each line preserves the line ending.\n */\nfunction splitLines(str) {\n    return Array.from(str.matchAll(/^.*$/mg)).map(x => [x[0], x.index]);\n}\n/**\n * Check if the language is plaintext that is ignored by Shikiji.\n *\n * Hard-coded plain text languages: `plaintext`, `txt`, `text`, `plain`.\n */\nfunction isPlainLang(lang) {\n    return !lang || ['plaintext', 'txt', 'text', 'plain'].includes(lang);\n}\n/**\n * Check if the language is specially handled or bypassed by Shikiji.\n *\n * Hard-coded languages: `ansi` and plaintexts like `plaintext`, `txt`, `text`, `plain`.\n */\nfunction isSpecialLang(lang) {\n    return lang === 'ansi' || isPlainLang(lang);\n}\n/**\n * Check if the theme is specially handled or bypassed by Shikiji.\n *\n * Hard-coded themes: `none`.\n */\nfunction isNoneTheme(theme) {\n    return theme === 'none';\n}\n/**\n * Check if the theme is specially handled or bypassed by Shikiji.\n *\n * Hard-coded themes: `none`.\n */\nfunction isSpecialTheme(theme) {\n    return isNoneTheme(theme);\n}\n/**\n * Utility to append class to a hast node\n *\n * If the `property.class` is a string, it will be splitted by space and converted to an array.\n */\nfunction addClassToHast(node, className) {\n    if (!className)\n        return;\n    node.properties ||= {};\n    node.properties.class ||= [];\n    if (typeof node.properties.class === 'string')\n        node.properties.class = node.properties.class.split(/\\s+/g);\n    if (!Array.isArray(node.properties.class))\n        node.properties.class = [];\n    const targets = Array.isArray(className) ? className : className.split(/\\s+/g);\n    for (const c of targets) {\n        if (c && !node.properties.class.includes(c))\n            node.properties.class.push(c);\n    }\n}\n/**\n * Split a token into multiple tokens by given offsets.\n *\n * The offsets are relative to the token, and should be sorted.\n */\nfunction splitToken(token, offsets) {\n    let lastOffset = 0;\n    const tokens = [];\n    for (const offset of offsets) {\n        if (offset > lastOffset) {\n            tokens.push({\n                ...token,\n                content: token.content.slice(lastOffset, offset),\n                offset: token.offset + lastOffset,\n            });\n        }\n        lastOffset = offset;\n    }\n    if (lastOffset < token.content.length) {\n        tokens.push({\n            ...token,\n            content: token.content.slice(lastOffset),\n            offset: token.offset + lastOffset,\n        });\n    }\n    return tokens;\n}\nfunction applyColorReplacements(color, replacements) {\n    return replacements?.[color.toLowerCase()] || color;\n}\n/**\n * @deprecated Use `isPlainLang` instead.\n */\nconst isPlaintext = isPlainLang;\n\n// src/colors.ts\nvar namedColors = [\n  \"black\",\n  \"red\",\n  \"green\",\n  \"yellow\",\n  \"blue\",\n  \"magenta\",\n  \"cyan\",\n  \"white\",\n  \"brightBlack\",\n  \"brightRed\",\n  \"brightGreen\",\n  \"brightYellow\",\n  \"brightBlue\",\n  \"brightMagenta\",\n  \"brightCyan\",\n  \"brightWhite\"\n];\n\n// src/decorations.ts\nvar decorations = {\n  1: \"bold\",\n  2: \"dim\",\n  3: \"italic\",\n  4: \"underline\",\n  7: \"reverse\",\n  9: \"strikethrough\"\n};\n\n// src/parser.ts\nfunction findSequence(value, position) {\n  const nextEscape = value.indexOf(\"\\x1B[\", position);\n  if (nextEscape !== -1) {\n    const nextClose = value.indexOf(\"m\", nextEscape);\n    return {\n      sequence: value.substring(nextEscape + 2, nextClose).split(\";\"),\n      startPosition: nextEscape,\n      position: nextClose + 1\n    };\n  }\n  return {\n    position: value.length\n  };\n}\nfunction parseColor(sequence, index) {\n  let offset = 1;\n  const colorMode = sequence[index + offset++];\n  let color;\n  if (colorMode === \"2\") {\n    const rgb = [\n      sequence[index + offset++],\n      sequence[index + offset++],\n      sequence[index + offset]\n    ].map((x) => Number.parseInt(x));\n    if (rgb.length === 3 && !rgb.some((x) => Number.isNaN(x))) {\n      color = {\n        type: \"rgb\",\n        rgb\n      };\n    }\n  } else if (colorMode === \"5\") {\n    const colorIndex = Number.parseInt(sequence[index + offset]);\n    if (!Number.isNaN(colorIndex)) {\n      color = { type: \"table\", index: Number(colorIndex) };\n    }\n  }\n  return [offset, color];\n}\nfunction parseSequence(sequence) {\n  const commands = [];\n  for (let i = 0; i < sequence.length; i++) {\n    const code = sequence[i];\n    const codeInt = Number.parseInt(code);\n    if (Number.isNaN(codeInt))\n      continue;\n    if (codeInt === 0) {\n      commands.push({ type: \"resetAll\" });\n    } else if (codeInt <= 9) {\n      const decoration = decorations[codeInt];\n      if (decoration) {\n        commands.push({\n          type: \"setDecoration\",\n          value: decorations[codeInt]\n        });\n      }\n    } else if (codeInt <= 29) {\n      const decoration = decorations[codeInt - 20];\n      if (decoration) {\n        commands.push({\n          type: \"resetDecoration\",\n          value: decoration\n        });\n      }\n    } else if (codeInt <= 37) {\n      commands.push({\n        type: \"setForegroundColor\",\n        value: { type: \"named\", name: namedColors[codeInt - 30] }\n      });\n    } else if (codeInt === 38) {\n      const [offset, color] = parseColor(sequence, i);\n      if (color) {\n        commands.push({\n          type: \"setForegroundColor\",\n          value: color\n        });\n      }\n      i += offset;\n    } else if (codeInt === 39) {\n      commands.push({\n        type: \"resetForegroundColor\"\n      });\n    } else if (codeInt <= 47) {\n      commands.push({\n        type: \"setBackgroundColor\",\n        value: { type: \"named\", name: namedColors[codeInt - 40] }\n      });\n    } else if (codeInt === 48) {\n      const [offset, color] = parseColor(sequence, i);\n      if (color) {\n        commands.push({\n          type: \"setBackgroundColor\",\n          value: color\n        });\n      }\n      i += offset;\n    } else if (codeInt === 49) {\n      commands.push({\n        type: \"resetBackgroundColor\"\n      });\n    } else if (codeInt >= 90 && codeInt <= 97) {\n      commands.push({\n        type: \"setForegroundColor\",\n        value: { type: \"named\", name: namedColors[codeInt - 90 + 8] }\n      });\n    } else if (codeInt >= 100 && codeInt <= 107) {\n      commands.push({\n        type: \"setBackgroundColor\",\n        value: { type: \"named\", name: namedColors[codeInt - 100 + 8] }\n      });\n    }\n  }\n  return commands;\n}\nfunction createAnsiSequenceParser() {\n  let foreground = null;\n  let background = null;\n  let decorations2 = /* @__PURE__ */ new Set();\n  return {\n    parse(value) {\n      const tokens = [];\n      let position = 0;\n      do {\n        const findResult = findSequence(value, position);\n        const text = findResult.sequence ? value.substring(position, findResult.startPosition) : value.substring(position);\n        if (text.length > 0) {\n          tokens.push({\n            value: text,\n            foreground,\n            background,\n            decorations: new Set(decorations2)\n          });\n        }\n        if (findResult.sequence) {\n          const commands = parseSequence(findResult.sequence);\n          for (const styleToken of commands) {\n            if (styleToken.type === \"resetAll\") {\n              foreground = null;\n              background = null;\n              decorations2.clear();\n            } else if (styleToken.type === \"resetForegroundColor\") {\n              foreground = null;\n            } else if (styleToken.type === \"resetBackgroundColor\") {\n              background = null;\n            } else if (styleToken.type === \"resetDecoration\") {\n              decorations2.delete(styleToken.value);\n            }\n          }\n          for (const styleToken of commands) {\n            if (styleToken.type === \"setForegroundColor\") {\n              foreground = styleToken.value;\n            } else if (styleToken.type === \"setBackgroundColor\") {\n              background = styleToken.value;\n            } else if (styleToken.type === \"setDecoration\") {\n              decorations2.add(styleToken.value);\n            }\n          }\n        }\n        position = findResult.position;\n      } while (position < value.length);\n      return tokens;\n    }\n  };\n}\n\n// src/palette.ts\nvar defaultNamedColorsMap = {\n  black: \"#000000\",\n  red: \"#bb0000\",\n  green: \"#00bb00\",\n  yellow: \"#bbbb00\",\n  blue: \"#0000bb\",\n  magenta: \"#ff00ff\",\n  cyan: \"#00bbbb\",\n  white: \"#eeeeee\",\n  brightBlack: \"#555555\",\n  brightRed: \"#ff5555\",\n  brightGreen: \"#00ff00\",\n  brightYellow: \"#ffff55\",\n  brightBlue: \"#5555ff\",\n  brightMagenta: \"#ff55ff\",\n  brightCyan: \"#55ffff\",\n  brightWhite: \"#ffffff\"\n};\nfunction createColorPalette(namedColorsMap = defaultNamedColorsMap) {\n  function namedColor(name) {\n    return namedColorsMap[name];\n  }\n  function rgbColor(rgb) {\n    return `#${rgb.map((x) => Math.max(0, Math.min(x, 255)).toString(16).padStart(2, \"0\")).join(\"\")}`;\n  }\n  let colorTable;\n  function getColorTable() {\n    if (colorTable) {\n      return colorTable;\n    }\n    colorTable = [];\n    for (let i = 0; i < namedColors.length; i++) {\n      colorTable.push(namedColor(namedColors[i]));\n    }\n    let levels = [0, 95, 135, 175, 215, 255];\n    for (let r = 0; r < 6; r++) {\n      for (let g = 0; g < 6; g++) {\n        for (let b = 0; b < 6; b++) {\n          colorTable.push(rgbColor([levels[r], levels[g], levels[b]]));\n        }\n      }\n    }\n    let level = 8;\n    for (let i = 0; i < 24; i++, level += 10) {\n      colorTable.push(rgbColor([level, level, level]));\n    }\n    return colorTable;\n  }\n  function tableColor(index) {\n    return getColorTable()[index];\n  }\n  function value(color) {\n    switch (color.type) {\n      case \"named\":\n        return namedColor(color.name);\n      case \"rgb\":\n        return rgbColor(color.rgb);\n      case \"table\":\n        return tableColor(color.index);\n    }\n  }\n  return {\n    value\n  };\n}\n\nfunction tokenizeAnsiWithTheme(theme, fileContents, options) {\n    const colorReplacements = {\n        ...theme.colorReplacements,\n        ...options?.colorReplacements,\n    };\n    const lines = splitLines(fileContents);\n    const colorPalette = createColorPalette(Object.fromEntries(namedColors.map(name => [\n        name,\n        theme.colors?.[`terminal.ansi${name[0].toUpperCase()}${name.substring(1)}`],\n    ])));\n    const parser = createAnsiSequenceParser();\n    return lines.map(line => parser.parse(line[0]).map((token) => {\n        let color;\n        if (token.decorations.has('reverse'))\n            color = token.background ? colorPalette.value(token.background) : theme.bg;\n        else\n            color = token.foreground ? colorPalette.value(token.foreground) : theme.fg;\n        color = applyColorReplacements(color, colorReplacements);\n        if (token.decorations.has('dim'))\n            color = dimColor(color);\n        let fontStyle = _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.None;\n        if (token.decorations.has('bold'))\n            fontStyle |= _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Bold;\n        if (token.decorations.has('italic'))\n            fontStyle |= _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Italic;\n        if (token.decorations.has('underline'))\n            fontStyle |= _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Underline;\n        return {\n            content: token.value,\n            offset: line[1], // TODO: more accurate offset? might need to fork ansi-sequence-parser\n            color,\n            fontStyle,\n        };\n    }));\n}\n/**\n * Adds 50% alpha to a hex color string or the \"-dim\" postfix to a CSS variable\n */\nfunction dimColor(color) {\n    const hexMatch = color.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);\n    if (hexMatch) {\n        if (hexMatch[3]) {\n            // convert from #rrggbbaa to #rrggbb(aa/2)\n            const alpha = Math.round(Number.parseInt(hexMatch[3], 16) / 2)\n                .toString(16)\n                .padStart(2, '0');\n            return `#${hexMatch[1]}${hexMatch[2]}${alpha}`;\n        }\n        else if (hexMatch[2]) {\n            // convert from #rrggbb to #rrggbb80\n            return `#${hexMatch[1]}${hexMatch[2]}80`;\n        }\n        else {\n            // convert from #rgb to #rrggbb80\n            return `#${Array.from(hexMatch[1])\n                .map(x => `${x}${x}`)\n                .join('')}80`;\n        }\n    }\n    const cssVarMatch = color.match(/var\\((--[\\w-]+-ansi-[\\w-]+)\\)/);\n    if (cssVarMatch)\n        return `var(${cssVarMatch[1]}-dim)`;\n    return color;\n}\n\nfunction codeToThemedTokens(internal, code, options = {}) {\n    const { lang = 'text', theme: themeName = internal.getLoadedThemes()[0], } = options;\n    if (isPlainLang(lang) || isNoneTheme(themeName))\n        return splitLines(code).map(line => [{ content: line[0], offset: line[1] }]);\n    const { theme, colorMap } = internal.setTheme(themeName);\n    if (lang === 'ansi')\n        return tokenizeAnsiWithTheme(theme, code, options);\n    const _grammar = internal.getLangGrammar(lang);\n    return tokenizeWithTheme(code, _grammar, theme, colorMap, options);\n}\nfunction tokenizeWithTheme(code, grammar, theme, colorMap, options) {\n    const colorReplacements = {\n        ...theme.colorReplacements,\n        ...options?.colorReplacements,\n    };\n    const lines = splitLines(code);\n    let ruleStack = _textmate_mjs__WEBPACK_IMPORTED_MODULE_1__.INITIAL;\n    let actual = [];\n    const final = [];\n    for (let i = 0, len = lines.length; i < len; i++) {\n        const [line, lineOffset] = lines[i];\n        if (line === '') {\n            actual = [];\n            final.push([]);\n            continue;\n        }\n        let resultWithScopes;\n        let tokensWithScopes;\n        let tokensWithScopesIndex;\n        if (options.includeExplanation) {\n            resultWithScopes = grammar.tokenizeLine(line, ruleStack);\n            tokensWithScopes = resultWithScopes.tokens;\n            tokensWithScopesIndex = 0;\n        }\n        const result = grammar.tokenizeLine2(line, ruleStack);\n        const tokensLength = result.tokens.length / 2;\n        for (let j = 0; j < tokensLength; j++) {\n            const startIndex = result.tokens[2 * j];\n            const nextStartIndex = j + 1 < tokensLength ? result.tokens[2 * j + 2] : line.length;\n            if (startIndex === nextStartIndex)\n                continue;\n            const metadata = result.tokens[2 * j + 1];\n            const foreground = _textmate_mjs__WEBPACK_IMPORTED_MODULE_1__.StackElementMetadata.getForeground(metadata);\n            const foregroundColor = applyColorReplacements(colorMap[foreground], colorReplacements);\n            const fontStyle = _textmate_mjs__WEBPACK_IMPORTED_MODULE_1__.StackElementMetadata.getFontStyle(metadata);\n            const token = {\n                content: line.substring(startIndex, nextStartIndex),\n                offset: lineOffset + startIndex,\n                color: foregroundColor,\n                fontStyle,\n            };\n            if (options.includeExplanation) {\n                token.explanation = [];\n                let offset = 0;\n                while (startIndex + offset < nextStartIndex) {\n                    const tokenWithScopes = tokensWithScopes[tokensWithScopesIndex];\n                    const tokenWithScopesText = line.substring(tokenWithScopes.startIndex, tokenWithScopes.endIndex);\n                    offset += tokenWithScopesText.length;\n                    token.explanation.push({\n                        content: tokenWithScopesText,\n                        scopes: explainThemeScopes(theme, tokenWithScopes.scopes),\n                    });\n                    tokensWithScopesIndex += 1;\n                }\n            }\n            actual.push(token);\n        }\n        final.push(actual);\n        actual = [];\n        ruleStack = result.ruleStack;\n    }\n    return final;\n}\nfunction explainThemeScopes(theme, scopes) {\n    const result = [];\n    for (let i = 0, len = scopes.length; i < len; i++) {\n        const parentScopes = scopes.slice(0, i);\n        const scope = scopes[i];\n        result[i] = {\n            scopeName: scope,\n            themeMatches: explainThemeScope(theme, scope, parentScopes),\n        };\n    }\n    return result;\n}\nfunction matchesOne(selector, scope) {\n    const selectorPrefix = `${selector}.`;\n    if (selector === scope || scope.substring(0, selectorPrefix.length) === selectorPrefix)\n        return true;\n    return false;\n}\nfunction matches(selector, selectorParentScopes, scope, parentScopes) {\n    if (!matchesOne(selector, scope))\n        return false;\n    let selectorParentIndex = selectorParentScopes.length - 1;\n    let parentIndex = parentScopes.length - 1;\n    while (selectorParentIndex >= 0 && parentIndex >= 0) {\n        if (matchesOne(selectorParentScopes[selectorParentIndex], parentScopes[parentIndex]))\n            selectorParentIndex -= 1;\n        parentIndex -= 1;\n    }\n    if (selectorParentIndex === -1)\n        return true;\n    return false;\n}\nfunction explainThemeScope(theme, scope, parentScopes) {\n    const result = [];\n    let resultLen = 0;\n    for (let i = 0, len = theme.settings.length; i < len; i++) {\n        const setting = theme.settings[i];\n        let selectors;\n        if (typeof setting.scope === 'string')\n            selectors = setting.scope.split(/,/).map(scope => scope.trim());\n        else if (Array.isArray(setting.scope))\n            selectors = setting.scope;\n        else\n            continue;\n        for (let j = 0, lenJ = selectors.length; j < lenJ; j++) {\n            const rawSelector = selectors[j];\n            const rawSelectorPieces = rawSelector.split(/ /);\n            const selector = rawSelectorPieces[rawSelectorPieces.length - 1];\n            const selectorParentScopes = rawSelectorPieces.slice(0, rawSelectorPieces.length - 1);\n            if (matches(selector, selectorParentScopes, scope, parentScopes)) {\n                // match!\n                result[resultLen++] = setting;\n                // break the loop\n                j = lenJ;\n            }\n        }\n    }\n    return result;\n}\n\n/**\n * Get tokens with multiple themes\n */\nfunction codeToTokensWithThemes(internal, code, options) {\n    const themes = Object.entries(options.themes)\n        .filter(i => i[1])\n        .map(i => ({ color: i[0], theme: i[1] }));\n    const tokens = syncThemesTokenization(...themes.map(t => codeToThemedTokens(internal, code, {\n        ...options,\n        theme: t.theme,\n        includeExplanation: false,\n    })));\n    const mergedTokens = tokens[0]\n        .map((line, lineIdx) => line\n        .map((_token, tokenIdx) => {\n        const mergedToken = {\n            content: _token.content,\n            variants: {},\n            offset: _token.offset,\n        };\n        tokens.forEach((t, themeIdx) => {\n            const { content: _, explanation: __, offset: ___, ...styles } = t[lineIdx][tokenIdx];\n            mergedToken.variants[themes[themeIdx].color] = styles;\n        });\n        return mergedToken;\n    }));\n    return mergedTokens;\n}\n/**\n * Break tokens from multiple themes into same tokenization.\n *\n * For example, given two themes that tokenize `console.log(\"hello\")` as:\n *\n * - `console . log (\" hello \")` (6 tokens)\n * - `console .log ( \"hello\" )` (5 tokens)\n *\n * This function will return:\n *\n * - `console . log ( \" hello \" )` (8 tokens)\n * - `console . log ( \" hello \" )` (8 tokens)\n */\nfunction syncThemesTokenization(...themes) {\n    const outThemes = themes.map(() => []);\n    const count = themes.length;\n    for (let i = 0; i < themes[0].length; i++) {\n        const lines = themes.map(t => t[i]);\n        const outLines = outThemes.map(() => []);\n        outThemes.forEach((t, i) => t.push(outLines[i]));\n        const indexes = lines.map(() => 0);\n        const current = lines.map(l => l[0]);\n        while (current.every(t => t)) {\n            const minLength = Math.min(...current.map(t => t.content.length));\n            for (let n = 0; n < count; n++) {\n                const token = current[n];\n                if (token.content.length === minLength) {\n                    outLines[n].push(token);\n                    indexes[n] += 1;\n                    current[n] = lines[n][indexes[n]];\n                }\n                else {\n                    outLines[n].push({\n                        ...token,\n                        content: token.content.slice(0, minLength),\n                    });\n                    current[n] = {\n                        ...token,\n                        content: token.content.slice(minLength),\n                        offset: token.offset + minLength,\n                    };\n                }\n            }\n        }\n    }\n    return outThemes;\n}\n\nfunction codeToHast(internal, code, options, transformerContext = {\n    meta: {},\n    options,\n    codeToHast: (_code, _options) => codeToHast(internal, _code, _options),\n}) {\n    let input = code;\n    for (const transformer of options.transformers || [])\n        input = transformer.preprocess?.call(transformerContext, input, options) || input;\n    let bg;\n    let fg;\n    let tokens;\n    let themeName;\n    let rootStyle;\n    if ('themes' in options) {\n        const { defaultColor = 'light', cssVariablePrefix = '--shiki-', } = options;\n        const themes = Object.entries(options.themes)\n            .filter(i => i[1])\n            .map(i => ({ color: i[0], theme: i[1] }))\n            .sort((a, b) => a.color === defaultColor ? -1 : b.color === defaultColor ? 1 : 0);\n        if (themes.length === 0)\n            throw new Error('[shikiji] `themes` option must not be empty');\n        const themeTokens = codeToTokensWithThemes(internal, input, options);\n        if (defaultColor && !themes.find(t => t.color === defaultColor))\n            throw new Error(`[shikiji] \\`themes\\` option must contain the defaultColor key \\`${defaultColor}\\``);\n        const themeRegs = themes.map(t => internal.getTheme(t.theme));\n        const themesOrder = themes.map(t => t.color);\n        tokens = themeTokens\n            .map(line => line.map(token => mergeToken(token, themesOrder, cssVariablePrefix, defaultColor)));\n        fg = themes.map((t, idx) => (idx === 0 && defaultColor ? '' : `${cssVariablePrefix + t.color}:`) + (themeRegs[idx].fg || 'inherit')).join(';');\n        bg = themes.map((t, idx) => (idx === 0 && defaultColor ? '' : `${cssVariablePrefix + t.color}-bg:`) + (themeRegs[idx].bg || 'inherit')).join(';');\n        themeName = `shiki-themes ${themeRegs.map(t => t.name).join(' ')}`;\n        rootStyle = defaultColor ? undefined : [fg, bg].join(';');\n    }\n    else if ('theme' in options) {\n        tokens = codeToThemedTokens(internal, input, {\n            ...options,\n            includeExplanation: false,\n        });\n        const _theme = internal.getTheme(options.theme);\n        bg = _theme.bg;\n        fg = _theme.fg;\n        themeName = _theme.name;\n    }\n    else {\n        throw new Error('[shikiji] Invalid options, either `theme` or `themes` must be provided');\n    }\n    const { mergeWhitespaces = true, } = options;\n    if (mergeWhitespaces === true)\n        tokens = mergeWhitespaceTokens(tokens);\n    else if (mergeWhitespaces === 'never')\n        tokens = splitWhitespaceTokens(tokens);\n    for (const transformer of options.transformers || [])\n        tokens = transformer.tokens?.call(transformerContext, tokens) || tokens;\n    return tokensToHast(tokens, {\n        ...options,\n        fg,\n        bg,\n        themeName,\n        rootStyle,\n    }, transformerContext);\n}\nfunction mergeToken(merged, variantsOrder, cssVariablePrefix, defaultColor) {\n    const token = {\n        content: merged.content,\n        explanation: merged.explanation,\n        offset: merged.offset,\n    };\n    const styles = variantsOrder.map(t => getTokenStyleObject(merged.variants[t]));\n    // Get all style keys, for themes that missing some style, we put `inherit` to override as needed\n    const styleKeys = new Set(styles.flatMap(t => Object.keys(t)));\n    const mergedStyles = styles.reduce((acc, cur, idx) => {\n        for (const key of styleKeys) {\n            const value = cur[key] || 'inherit';\n            if (idx === 0 && defaultColor) {\n                acc[key] = value;\n            }\n            else {\n                const varKey = cssVariablePrefix + variantsOrder[idx] + (key === 'color' ? '' : `-${key}`);\n                if (acc[key])\n                    acc[key] += `;${varKey}:${value}`;\n                else\n                    acc[key] = `${varKey}:${value}`;\n            }\n        }\n        return acc;\n    }, {});\n    token.htmlStyle = defaultColor\n        ? stringifyTokenStyle(mergedStyles)\n        : Object.values(mergedStyles).join(';');\n    return token;\n}\nfunction tokensToHast(tokens, options, transformerContext) {\n    const { transformers = [], } = options;\n    const lines = [];\n    const tree = {\n        type: 'root',\n        children: [],\n    };\n    let preNode = {\n        type: 'element',\n        tagName: 'pre',\n        properties: {\n            class: `shiki ${options.themeName || ''}`,\n            style: options.rootStyle || `background-color:${options.bg};color:${options.fg}`,\n            tabindex: '0',\n            ...Object.fromEntries(Array.from(Object.entries(options.meta || {}))\n                .filter(([key]) => !key.startsWith('_'))),\n        },\n        children: [],\n    };\n    let codeNode = {\n        type: 'element',\n        tagName: 'code',\n        properties: {},\n        children: lines,\n    };\n    const lineNodes = [];\n    const context = {\n        ...transformerContext,\n        get tokens() {\n            return tokens;\n        },\n        get options() {\n            return options;\n        },\n        get root() {\n            return tree;\n        },\n        get pre() {\n            return preNode;\n        },\n        get code() {\n            return codeNode;\n        },\n        get lines() {\n            return lineNodes;\n        },\n    };\n    tokens.forEach((line, idx) => {\n        if (idx)\n            lines.push({ type: 'text', value: '\\n' });\n        let lineNode = {\n            type: 'element',\n            tagName: 'span',\n            properties: { class: 'line' },\n            children: [],\n        };\n        let col = 0;\n        for (const token of line) {\n            let tokenNode = {\n                type: 'element',\n                tagName: 'span',\n                properties: {},\n                children: [{ type: 'text', value: token.content }],\n            };\n            const style = token.htmlStyle || stringifyTokenStyle(getTokenStyleObject(token));\n            if (style)\n                tokenNode.properties.style = style;\n            for (const transformer of transformers)\n                tokenNode = (transformer?.span || transformer?.token)?.call(context, tokenNode, idx + 1, col, lineNode) || tokenNode;\n            lineNode.children.push(tokenNode);\n            col += token.content.length;\n        }\n        for (const transformer of transformers)\n            lineNode = transformer?.line?.call(context, lineNode, idx + 1) || lineNode;\n        lineNodes.push(lineNode);\n        lines.push(lineNode);\n    });\n    for (const transformer of transformers)\n        codeNode = transformer?.code?.call(context, codeNode) || codeNode;\n    preNode.children.push(codeNode);\n    for (const transformer of transformers)\n        preNode = transformer?.pre?.call(context, preNode) || preNode;\n    tree.children.push(preNode);\n    let result = tree;\n    for (const transformer of transformers)\n        result = transformer?.root?.call(context, result) || result;\n    return result;\n}\nfunction getTokenStyleObject(token) {\n    const styles = {};\n    if (token.color)\n        styles.color = token.color;\n    if (token.fontStyle) {\n        if (token.fontStyle & _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Italic)\n            styles['font-style'] = 'italic';\n        if (token.fontStyle & _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Bold)\n            styles['font-weight'] = 'bold';\n        if (token.fontStyle & _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Underline)\n            styles['text-decoration'] = 'underline';\n    }\n    return styles;\n}\nfunction stringifyTokenStyle(token) {\n    return Object.entries(token).map(([key, value]) => `${key}:${value}`).join(';');\n}\nfunction mergeWhitespaceTokens(tokens) {\n    return tokens.map((line) => {\n        const newLine = [];\n        let carryOnContent = '';\n        let firstOffset = 0;\n        line.forEach((token, idx) => {\n            const isUnderline = token.fontStyle && token.fontStyle & _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.Underline;\n            const couldMerge = !isUnderline;\n            if (couldMerge && token.content.match(/^\\s+$/) && line[idx + 1]) {\n                if (!firstOffset)\n                    firstOffset = token.offset;\n                carryOnContent += token.content;\n            }\n            else {\n                if (carryOnContent) {\n                    if (couldMerge) {\n                        newLine.push({\n                            ...token,\n                            content: carryOnContent + token.content,\n                        });\n                    }\n                    else {\n                        newLine.push({\n                            content: carryOnContent,\n                            offset: firstOffset,\n                        }, token);\n                    }\n                    carryOnContent = '';\n                }\n                else {\n                    newLine.push(token);\n                }\n            }\n        });\n        return newLine;\n    });\n}\nfunction splitWhitespaceTokens(tokens) {\n    return tokens.map((line) => {\n        return line.flatMap((token) => {\n            if (token.content.match(/^\\s+$/))\n                return token;\n            const match = token.content.match(/^(\\s*)(.*?)(\\s*)$/);\n            if (!match)\n                return token;\n            const [, leading, content, trailing] = match;\n            if (!leading && !trailing)\n                return token;\n            const expanded = [{\n                    ...token,\n                    offset: token.offset + leading.length,\n                    content,\n                }];\n            if (leading) {\n                expanded.unshift({\n                    content: leading,\n                    offset: token.offset,\n                });\n            }\n            if (trailing) {\n                expanded.push({\n                    content: trailing,\n                    offset: token.offset + leading.length + content.length,\n                });\n            }\n            return expanded;\n        });\n    });\n}\n\n/**\n * List of HTML void tag names.\n *\n * @type {Array<string>}\n */\nconst htmlVoidElements = [\n  'area',\n  'base',\n  'basefont',\n  'bgsound',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'frame',\n  'hr',\n  'image',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n];\n\n/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nclass Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property;\n    this.normal = normal;\n    if (space) {\n      this.space = space;\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {};\n/** @type {Normal} */\nSchema.prototype.normal = {};\n/** @type {string|null} */\nSchema.prototype.space = null;\n\n/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nfunction merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {};\n  /** @type {Normal} */\n  const normal = {};\n  let index = -1;\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property);\n    Object.assign(normal, definitions[index].normal);\n  }\n\n  return new Schema(property, normal, space)\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction normalize(value) {\n  return value.toLowerCase()\n}\n\nclass Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property;\n    /** @type {string} */\n    this.attribute = attribute;\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null;\nInfo.prototype.boolean = false;\nInfo.prototype.booleanish = false;\nInfo.prototype.overloadedBoolean = false;\nInfo.prototype.number = false;\nInfo.prototype.commaSeparated = false;\nInfo.prototype.spaceSeparated = false;\nInfo.prototype.commaOrSpaceSeparated = false;\nInfo.prototype.mustUseProperty = false;\nInfo.prototype.defined = false;\n\nlet powers = 0;\n\nconst boolean = increment();\nconst booleanish = increment();\nconst overloadedBoolean = increment();\nconst number = increment();\nconst spaceSeparated = increment();\nconst commaSeparated = increment();\nconst commaOrSpaceSeparated = increment();\n\nfunction increment() {\n  return 2 ** ++powers\n}\n\nvar types = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  boolean: boolean,\n  booleanish: booleanish,\n  commaOrSpaceSeparated: commaOrSpaceSeparated,\n  commaSeparated: commaSeparated,\n  number: number,\n  overloadedBoolean: overloadedBoolean,\n  spaceSeparated: spaceSeparated\n});\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types);\n\nclass DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1;\n\n    super(property, attribute);\n\n    mark(this, 'space', space);\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index];\n        mark(this, checks[index], (mask & types[check]) === types[check]);\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true;\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value;\n  }\n}\n\n/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\n\nconst own$3 = {}.hasOwnProperty;\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nfunction create(definition) {\n  /** @type {Properties} */\n  const property = {};\n  /** @type {Normal} */\n  const normal = {};\n  /** @type {string} */\n  let prop;\n\n  for (prop in definition.properties) {\n    if (own$3.call(definition.properties, prop)) {\n      const value = definition.properties[prop];\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      );\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true;\n      }\n\n      property[prop] = info;\n\n      normal[normalize(prop)] = prop;\n      normal[normalize(info.attribute)] = prop;\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n\nconst xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n});\n\nconst xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n});\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nfunction caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nfunction caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n\nconst xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n});\n\nconst aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n});\n\nconst html$3 = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    capture: boolean,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforeMatch: null,\n    onBeforePrint: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onScrollEnd: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n});\n\nconst svg$1 = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n});\n\n/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\n\nconst valid = /^data[-\\w.:]+$/i;\nconst dash = /-[a-z]/g;\nconst cap = /[A-Z]/g;\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nfunction find(schema, value) {\n  const normal = normalize(value);\n  let prop = value;\n  let Type = Info;\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase);\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1);\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4);\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab);\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes;\n        }\n\n        value = 'data' + dashes;\n      }\n    }\n\n    Type = DefinedInfo;\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n\n/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nconst html$2 = merge([xml, xlink, xmlns, aria, html$3], 'html');\nconst svg = merge([xml, xlink, xmlns, aria, svg$1], 'svg');\n\n/**\n * @callback Handler\n *   Handle a value, with a certain ID field set to a certain value.\n *   The ID field is passed to `zwitch`, and it’s value is this function’s\n *   place on the `handlers` record.\n * @param {...any} parameters\n *   Arbitrary parameters passed to the zwitch.\n *   The first will be an object with a certain ID field set to a certain value.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback UnknownHandler\n *   Handle values that do have a certain ID field, but it’s set to a value\n *   that is not listed in the `handlers` record.\n * @param {unknown} value\n *   An object with a certain ID field set to an unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback InvalidHandler\n *   Handle values that do not have a certain ID field.\n * @param {unknown} value\n *   Any unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {void|null|undefined|never}\n *   This should crash or return nothing.\n */\n\n/**\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @typedef Options\n *   Configuration (required).\n * @property {Invalid} [invalid]\n *   Handler to use for invalid values.\n * @property {Unknown} [unknown]\n *   Handler to use for unknown values.\n * @property {Handlers} [handlers]\n *   Handlers to use.\n */\n\nconst own$2 = {}.hasOwnProperty;\n\n/**\n * Handle values based on a field.\n *\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @param {string} key\n *   Field to switch on.\n * @param {Options<Invalid, Unknown, Handlers>} [options]\n *   Configuration (required).\n * @returns {{unknown: Unknown, invalid: Invalid, handlers: Handlers, (...parameters: Parameters<Handlers[keyof Handlers]>): ReturnType<Handlers[keyof Handlers]>, (...parameters: Parameters<Unknown>): ReturnType<Unknown>}}\n */\nfunction zwitch(key, options) {\n  const settings = options || {};\n\n  /**\n   * Handle one value.\n   *\n   * Based on the bound `key`, a respective handler will be called.\n   * If `value` is not an object, or doesn’t have a `key` property, the special\n   * “invalid” handler will be called.\n   * If `value` has an unknown `key`, the special “unknown” handler will be\n   * called.\n   *\n   * All arguments, and the context object, are passed through to the handler,\n   * and it’s result is returned.\n   *\n   * @this {unknown}\n   *   Any context object.\n   * @param {unknown} [value]\n   *   Any value.\n   * @param {...unknown} parameters\n   *   Arbitrary parameters passed to the zwitch.\n   * @property {Handler} invalid\n   *   Handle for values that do not have a certain ID field.\n   * @property {Handler} unknown\n   *   Handle values that do have a certain ID field, but it’s set to a value\n   *   that is not listed in the `handlers` record.\n   * @property {Handlers} handlers\n   *   Record of handlers.\n   * @returns {unknown}\n   *   Anything.\n   */\n  function one(value, ...parameters) {\n    /** @type {Handler|undefined} */\n    let fn = one.invalid;\n    const handlers = one.handlers;\n\n    if (value && own$2.call(value, key)) {\n      // @ts-expect-error Indexable.\n      const id = String(value[key]);\n      // @ts-expect-error Indexable.\n      fn = own$2.call(handlers, id) ? handlers[id] : one.unknown;\n    }\n\n    if (fn) {\n      return fn.call(this, value, ...parameters)\n    }\n  }\n\n  one.handlers = settings.handlers || {};\n  one.invalid = settings.invalid;\n  one.unknown = settings.unknown;\n\n  // @ts-expect-error: matches!\n  return one\n}\n\n/**\n * @typedef CoreOptions\n * @property {Array<string>} [subset=[]]\n *   Whether to only escape the given subset of characters.\n * @property {boolean} [escapeOnly=false]\n *   Whether to only escape possibly dangerous characters.\n *   Those characters are `\"`, `&`, `'`, `<`, `>`, and `` ` ``.\n *\n * @typedef FormatOptions\n * @property {(code: number, next: number, options: CoreWithFormatOptions) => string} format\n *   Format strategy.\n *\n * @typedef {CoreOptions & FormatOptions & import('./util/format-smart.js').FormatSmartOptions} CoreWithFormatOptions\n */\n\n/**\n * Encode certain characters in `value`.\n *\n * @param {string} value\n * @param {CoreWithFormatOptions} options\n * @returns {string}\n */\nfunction core(value, options) {\n  value = value.replace(\n    options.subset ? charactersToExpression(options.subset) : /[\"&'<>`]/g,\n    basic\n  );\n\n  if (options.subset || options.escapeOnly) {\n    return value\n  }\n\n  return (\n    value\n      // Surrogate pairs.\n      .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, surrogate)\n      // BMP control characters (C0 except for LF, CR, SP; DEL; and some more\n      // non-ASCII ones).\n      .replace(\n        // eslint-disable-next-line no-control-regex, unicorn/no-hex-escape\n        /[\\x01-\\t\\v\\f\\x0E-\\x1F\\x7F\\x81\\x8D\\x8F\\x90\\x9D\\xA0-\\uFFFF]/g,\n        basic\n      )\n  )\n\n  /**\n   * @param {string} pair\n   * @param {number} index\n   * @param {string} all\n   */\n  function surrogate(pair, index, all) {\n    return options.format(\n      (pair.charCodeAt(0) - 0xd800) * 0x400 +\n        pair.charCodeAt(1) -\n        0xdc00 +\n        0x10000,\n      all.charCodeAt(index + 2),\n      options\n    )\n  }\n\n  /**\n   * @param {string} character\n   * @param {number} index\n   * @param {string} all\n   */\n  function basic(character, index, all) {\n    return options.format(\n      character.charCodeAt(0),\n      all.charCodeAt(index + 1),\n      options\n    )\n  }\n}\n\n/**\n * @param {Array<string>} subset\n * @returns {RegExp}\n */\nfunction charactersToExpression(subset) {\n  /** @type {Array<string>} */\n  const groups = [];\n  let index = -1;\n\n  while (++index < subset.length) {\n    groups.push(subset[index].replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&'));\n  }\n\n  return new RegExp('(?:' + groups.join('|') + ')', 'g')\n}\n\n/**\n * Configurable ways to encode characters as hexadecimal references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @returns {string}\n */\nfunction toHexadecimal(code, next, omit) {\n  const value = '&#x' + code.toString(16).toUpperCase();\n  return omit && next && !/[\\dA-Fa-f]/.test(String.fromCharCode(next))\n    ? value\n    : value + ';'\n}\n\n/**\n * Configurable ways to encode characters as decimal references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @returns {string}\n */\nfunction toDecimal(code, next, omit) {\n  const value = '&#' + String(code);\n  return omit && next && !/\\d/.test(String.fromCharCode(next))\n    ? value\n    : value + ';'\n}\n\n/**\n * List of legacy HTML named character references that don’t need a trailing semicolon.\n *\n * @type {Array<string>}\n */\nconst characterEntitiesLegacy = [\n  'AElig',\n  'AMP',\n  'Aacute',\n  'Acirc',\n  'Agrave',\n  'Aring',\n  'Atilde',\n  'Auml',\n  'COPY',\n  'Ccedil',\n  'ETH',\n  'Eacute',\n  'Ecirc',\n  'Egrave',\n  'Euml',\n  'GT',\n  'Iacute',\n  'Icirc',\n  'Igrave',\n  'Iuml',\n  'LT',\n  'Ntilde',\n  'Oacute',\n  'Ocirc',\n  'Ograve',\n  'Oslash',\n  'Otilde',\n  'Ouml',\n  'QUOT',\n  'REG',\n  'THORN',\n  'Uacute',\n  'Ucirc',\n  'Ugrave',\n  'Uuml',\n  'Yacute',\n  'aacute',\n  'acirc',\n  'acute',\n  'aelig',\n  'agrave',\n  'amp',\n  'aring',\n  'atilde',\n  'auml',\n  'brvbar',\n  'ccedil',\n  'cedil',\n  'cent',\n  'copy',\n  'curren',\n  'deg',\n  'divide',\n  'eacute',\n  'ecirc',\n  'egrave',\n  'eth',\n  'euml',\n  'frac12',\n  'frac14',\n  'frac34',\n  'gt',\n  'iacute',\n  'icirc',\n  'iexcl',\n  'igrave',\n  'iquest',\n  'iuml',\n  'laquo',\n  'lt',\n  'macr',\n  'micro',\n  'middot',\n  'nbsp',\n  'not',\n  'ntilde',\n  'oacute',\n  'ocirc',\n  'ograve',\n  'ordf',\n  'ordm',\n  'oslash',\n  'otilde',\n  'ouml',\n  'para',\n  'plusmn',\n  'pound',\n  'quot',\n  'raquo',\n  'reg',\n  'sect',\n  'shy',\n  'sup1',\n  'sup2',\n  'sup3',\n  'szlig',\n  'thorn',\n  'times',\n  'uacute',\n  'ucirc',\n  'ugrave',\n  'uml',\n  'uuml',\n  'yacute',\n  'yen',\n  'yuml'\n];\n\n/**\n * Map of named character references from HTML 4.\n *\n * @type {Record<string, string>}\n */\nconst characterEntitiesHtml4 = {\n  nbsp: ' ',\n  iexcl: '¡',\n  cent: '¢',\n  pound: '£',\n  curren: '¤',\n  yen: '¥',\n  brvbar: '¦',\n  sect: '§',\n  uml: '¨',\n  copy: '©',\n  ordf: 'ª',\n  laquo: '«',\n  not: '¬',\n  shy: '­',\n  reg: '®',\n  macr: '¯',\n  deg: '°',\n  plusmn: '±',\n  sup2: '²',\n  sup3: '³',\n  acute: '´',\n  micro: 'µ',\n  para: '¶',\n  middot: '·',\n  cedil: '¸',\n  sup1: '¹',\n  ordm: 'º',\n  raquo: '»',\n  frac14: '¼',\n  frac12: '½',\n  frac34: '¾',\n  iquest: '¿',\n  Agrave: 'À',\n  Aacute: 'Á',\n  Acirc: 'Â',\n  Atilde: 'Ã',\n  Auml: 'Ä',\n  Aring: 'Å',\n  AElig: 'Æ',\n  Ccedil: 'Ç',\n  Egrave: 'È',\n  Eacute: 'É',\n  Ecirc: 'Ê',\n  Euml: 'Ë',\n  Igrave: 'Ì',\n  Iacute: 'Í',\n  Icirc: 'Î',\n  Iuml: 'Ï',\n  ETH: 'Ð',\n  Ntilde: 'Ñ',\n  Ograve: 'Ò',\n  Oacute: 'Ó',\n  Ocirc: 'Ô',\n  Otilde: 'Õ',\n  Ouml: 'Ö',\n  times: '×',\n  Oslash: 'Ø',\n  Ugrave: 'Ù',\n  Uacute: 'Ú',\n  Ucirc: 'Û',\n  Uuml: 'Ü',\n  Yacute: 'Ý',\n  THORN: 'Þ',\n  szlig: 'ß',\n  agrave: 'à',\n  aacute: 'á',\n  acirc: 'â',\n  atilde: 'ã',\n  auml: 'ä',\n  aring: 'å',\n  aelig: 'æ',\n  ccedil: 'ç',\n  egrave: 'è',\n  eacute: 'é',\n  ecirc: 'ê',\n  euml: 'ë',\n  igrave: 'ì',\n  iacute: 'í',\n  icirc: 'î',\n  iuml: 'ï',\n  eth: 'ð',\n  ntilde: 'ñ',\n  ograve: 'ò',\n  oacute: 'ó',\n  ocirc: 'ô',\n  otilde: 'õ',\n  ouml: 'ö',\n  divide: '÷',\n  oslash: 'ø',\n  ugrave: 'ù',\n  uacute: 'ú',\n  ucirc: 'û',\n  uuml: 'ü',\n  yacute: 'ý',\n  thorn: 'þ',\n  yuml: 'ÿ',\n  fnof: 'ƒ',\n  Alpha: 'Α',\n  Beta: 'Β',\n  Gamma: 'Γ',\n  Delta: 'Δ',\n  Epsilon: 'Ε',\n  Zeta: 'Ζ',\n  Eta: 'Η',\n  Theta: 'Θ',\n  Iota: 'Ι',\n  Kappa: 'Κ',\n  Lambda: 'Λ',\n  Mu: 'Μ',\n  Nu: 'Ν',\n  Xi: 'Ξ',\n  Omicron: 'Ο',\n  Pi: 'Π',\n  Rho: 'Ρ',\n  Sigma: 'Σ',\n  Tau: 'Τ',\n  Upsilon: 'Υ',\n  Phi: 'Φ',\n  Chi: 'Χ',\n  Psi: 'Ψ',\n  Omega: 'Ω',\n  alpha: 'α',\n  beta: 'β',\n  gamma: 'γ',\n  delta: 'δ',\n  epsilon: 'ε',\n  zeta: 'ζ',\n  eta: 'η',\n  theta: 'θ',\n  iota: 'ι',\n  kappa: 'κ',\n  lambda: 'λ',\n  mu: 'μ',\n  nu: 'ν',\n  xi: 'ξ',\n  omicron: 'ο',\n  pi: 'π',\n  rho: 'ρ',\n  sigmaf: 'ς',\n  sigma: 'σ',\n  tau: 'τ',\n  upsilon: 'υ',\n  phi: 'φ',\n  chi: 'χ',\n  psi: 'ψ',\n  omega: 'ω',\n  thetasym: 'ϑ',\n  upsih: 'ϒ',\n  piv: 'ϖ',\n  bull: '•',\n  hellip: '…',\n  prime: '′',\n  Prime: '″',\n  oline: '‾',\n  frasl: '⁄',\n  weierp: '℘',\n  image: 'ℑ',\n  real: 'ℜ',\n  trade: '™',\n  alefsym: 'ℵ',\n  larr: '←',\n  uarr: '↑',\n  rarr: '→',\n  darr: '↓',\n  harr: '↔',\n  crarr: '↵',\n  lArr: '⇐',\n  uArr: '⇑',\n  rArr: '⇒',\n  dArr: '⇓',\n  hArr: '⇔',\n  forall: '∀',\n  part: '∂',\n  exist: '∃',\n  empty: '∅',\n  nabla: '∇',\n  isin: '∈',\n  notin: '∉',\n  ni: '∋',\n  prod: '∏',\n  sum: '∑',\n  minus: '−',\n  lowast: '∗',\n  radic: '√',\n  prop: '∝',\n  infin: '∞',\n  ang: '∠',\n  and: '∧',\n  or: '∨',\n  cap: '∩',\n  cup: '∪',\n  int: '∫',\n  there4: '∴',\n  sim: '∼',\n  cong: '≅',\n  asymp: '≈',\n  ne: '≠',\n  equiv: '≡',\n  le: '≤',\n  ge: '≥',\n  sub: '⊂',\n  sup: '⊃',\n  nsub: '⊄',\n  sube: '⊆',\n  supe: '⊇',\n  oplus: '⊕',\n  otimes: '⊗',\n  perp: '⊥',\n  sdot: '⋅',\n  lceil: '⌈',\n  rceil: '⌉',\n  lfloor: '⌊',\n  rfloor: '⌋',\n  lang: '〈',\n  rang: '〉',\n  loz: '◊',\n  spades: '♠',\n  clubs: '♣',\n  hearts: '♥',\n  diams: '♦',\n  quot: '\"',\n  amp: '&',\n  lt: '<',\n  gt: '>',\n  OElig: 'Œ',\n  oelig: 'œ',\n  Scaron: 'Š',\n  scaron: 'š',\n  Yuml: 'Ÿ',\n  circ: 'ˆ',\n  tilde: '˜',\n  ensp: ' ',\n  emsp: ' ',\n  thinsp: ' ',\n  zwnj: '‌',\n  zwj: '‍',\n  lrm: '‎',\n  rlm: '‏',\n  ndash: '–',\n  mdash: '—',\n  lsquo: '‘',\n  rsquo: '’',\n  sbquo: '‚',\n  ldquo: '“',\n  rdquo: '”',\n  bdquo: '„',\n  dagger: '†',\n  Dagger: '‡',\n  permil: '‰',\n  lsaquo: '‹',\n  rsaquo: '›',\n  euro: '€'\n};\n\n/**\n * List of legacy (that don’t need a trailing `;`) named references which could,\n * depending on what follows them, turn into a different meaning\n *\n * @type {Array<string>}\n */\nconst dangerous = [\n  'cent',\n  'copy',\n  'divide',\n  'gt',\n  'lt',\n  'not',\n  'para',\n  'times'\n];\n\nconst own$1 = {}.hasOwnProperty;\n\n/**\n * `characterEntitiesHtml4` but inverted.\n *\n * @type {Record<string, string>}\n */\nconst characters = {};\n\n/** @type {string} */\nlet key;\n\nfor (key in characterEntitiesHtml4) {\n  if (own$1.call(characterEntitiesHtml4, key)) {\n    characters[characterEntitiesHtml4[key]] = key;\n  }\n}\n\n/**\n * Configurable ways to encode characters as named references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @param {boolean|undefined} attribute\n * @returns {string}\n */\nfunction toNamed(code, next, omit, attribute) {\n  const character = String.fromCharCode(code);\n\n  if (own$1.call(characters, character)) {\n    const name = characters[character];\n    const value = '&' + name;\n\n    if (\n      omit &&\n      characterEntitiesLegacy.includes(name) &&\n      !dangerous.includes(name) &&\n      (!attribute ||\n        (next &&\n          next !== 61 /* `=` */ &&\n          /[^\\da-z]/i.test(String.fromCharCode(next))))\n    ) {\n      return value\n    }\n\n    return value + ';'\n  }\n\n  return ''\n}\n\n/**\n * @typedef FormatSmartOptions\n * @property {boolean} [useNamedReferences=false]\n *   Prefer named character references (`&amp;`) where possible.\n * @property {boolean} [useShortestReferences=false]\n *   Prefer the shortest possible reference, if that results in less bytes.\n *   **Note**: `useNamedReferences` can be omitted when using `useShortestReferences`.\n * @property {boolean} [omitOptionalSemicolons=false]\n *   Whether to omit semicolons when possible.\n *   **Note**: This creates what HTML calls “parse errors” but is otherwise still valid HTML — don’t use this except when building a minifier.\n *   Omitting semicolons is possible for certain named and numeric references in some cases.\n * @property {boolean} [attribute=false]\n *   Create character references which don’t fail in attributes.\n *   **Note**: `attribute` only applies when operating dangerously with\n *   `omitOptionalSemicolons: true`.\n */\n\n\n/**\n * Configurable ways to encode a character yielding pretty or small results.\n *\n * @param {number} code\n * @param {number} next\n * @param {FormatSmartOptions} options\n * @returns {string}\n */\nfunction formatSmart(code, next, options) {\n  let numeric = toHexadecimal(code, next, options.omitOptionalSemicolons);\n  /** @type {string|undefined} */\n  let named;\n\n  if (options.useNamedReferences || options.useShortestReferences) {\n    named = toNamed(\n      code,\n      next,\n      options.omitOptionalSemicolons,\n      options.attribute\n    );\n  }\n\n  // Use the shortest numeric reference when requested.\n  // A simple algorithm would use decimal for all code points under 100, as\n  // those are shorter than hexadecimal:\n  //\n  // * `&#99;` vs `&#x63;` (decimal shorter)\n  // * `&#100;` vs `&#x64;` (equal)\n  //\n  // However, because we take `next` into consideration when `omit` is used,\n  // And it would be possible that decimals are shorter on bigger values as\n  // well if `next` is hexadecimal but not decimal, we instead compare both.\n  if (\n    (options.useShortestReferences || !named) &&\n    options.useShortestReferences\n  ) {\n    const decimal = toDecimal(code, next, options.omitOptionalSemicolons);\n\n    if (decimal.length < numeric.length) {\n      numeric = decimal;\n    }\n  }\n\n  return named &&\n    (!options.useShortestReferences || named.length < numeric.length)\n    ? named\n    : numeric\n}\n\n/**\n * @typedef {import('./core.js').CoreOptions & import('./util/format-smart.js').FormatSmartOptions} Options\n * @typedef {import('./core.js').CoreOptions} LightOptions\n */\n\n\n/**\n * Encode special characters in `value`.\n *\n * @param {string} value\n *   Value to encode.\n * @param {Options} [options]\n *   Configuration.\n * @returns {string}\n *   Encoded value.\n */\nfunction stringifyEntities(value, options) {\n  return core(value, Object.assign({format: formatSmart}, options))\n}\n\n/**\n * @typedef {import('hast').Comment} Comment\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * Serialize a comment.\n *\n * @param {Comment} node\n *   Node to handle.\n * @param {number | undefined} _1\n *   Index of `node` in `parent.\n * @param {Parents | undefined} _2\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nfunction comment(node, _1, _2, state) {\n  // See: <https://html.spec.whatwg.org/multipage/syntax.html#comments>\n  return state.settings.bogusComments\n    ? '<?' +\n        stringifyEntities(\n          node.value,\n          Object.assign({}, state.settings.characterReferences, {subset: ['>']})\n        ) +\n        '>'\n    : '<!--' + node.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g, encode) + '-->'\n\n  /**\n   * @param {string} $0\n   */\n  function encode($0) {\n    return stringifyEntities(\n      $0,\n      Object.assign({}, state.settings.characterReferences, {\n        subset: ['<', '>']\n      })\n    )\n  }\n}\n\n/**\n * @typedef {import('hast').Doctype} Doctype\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * Serialize a doctype.\n *\n * @param {Doctype} _1\n *   Node to handle.\n * @param {number | undefined} _2\n *   Index of `node` in `parent.\n * @param {Parents | undefined} _3\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nfunction doctype(_1, _2, _3, state) {\n  return (\n    '<!' +\n    (state.settings.upperDoctype ? 'DOCTYPE' : 'doctype') +\n    (state.settings.tightDoctype ? '' : ' ') +\n    'html>'\n  )\n}\n\n/**\n * Count how often a character (or substring) is used in a string.\n *\n * @param {string} value\n *   Value to search in.\n * @param {string} character\n *   Character (or substring) to look for.\n * @return {number}\n *   Number of times `character` occurred in `value`.\n */\nfunction ccount(value, character) {\n  const source = String(value);\n\n  if (typeof character !== 'string') {\n    throw new TypeError('Expected character')\n  }\n\n  let count = 0;\n  let index = source.indexOf(character);\n\n  while (index !== -1) {\n    count++;\n    index = source.indexOf(character, index + character.length);\n  }\n\n  return count\n}\n\n/**\n * @typedef Options\n *   Configuration for `stringify`.\n * @property {boolean} [padLeft=true]\n *   Whether to pad a space before a token.\n * @property {boolean} [padRight=false]\n *   Whether to pad a space after a token.\n */\n\n\n/**\n * Serialize an array of strings or numbers to comma-separated tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @param {Options} [options]\n *   Configuration for `stringify` (optional).\n * @returns {string}\n *   Comma-separated tokens.\n */\nfunction stringify$1(values, options) {\n  const settings = options || {};\n\n  // Ensure the last empty entry is seen.\n  const input = values[values.length - 1] === '' ? [...values, ''] : values;\n\n  return input\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n\n/**\n * Parse space-separated tokens to an array of strings.\n *\n * @param {string} value\n *   Space-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\n\n/**\n * Serialize an array of strings as space separated-tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @returns {string}\n *   Space-separated tokens.\n */\nfunction stringify(values) {\n  return values.join(' ').trim()\n}\n\n/**\n * @typedef {import('hast').Nodes} Nodes\n */\n\n// HTML whitespace expression.\n// See <https://infra.spec.whatwg.org/#ascii-whitespace>.\nconst re = /[ \\t\\n\\f\\r]/g;\n\n/**\n * Check if the given value is *inter-element whitespace*.\n *\n * @param {Nodes | string} thing\n *   Thing to check (`Node` or `string`).\n * @returns {boolean}\n *   Whether the `value` is inter-element whitespace (`boolean`): consisting of\n *   zero or more of space, tab (`\\t`), line feed (`\\n`), carriage return\n *   (`\\r`), or form feed (`\\f`); if a node is passed it must be a `Text` node,\n *   whose `value` field is checked.\n */\nfunction whitespace(thing) {\n  return typeof thing === 'object'\n    ? thing.type === 'text'\n      ? empty(thing.value)\n      : false\n    : empty(thing)\n}\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nfunction empty(value) {\n  return value.replace(re, '') === ''\n}\n\n/**\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').RootContent} RootContent\n */\n\n\nconst siblingAfter = siblings(1);\nconst siblingBefore = siblings(-1);\n\n/** @type {Array<RootContent>} */\nconst emptyChildren$1 = [];\n\n/**\n * Factory to check siblings in a direction.\n *\n * @param {number} increment\n */\nfunction siblings(increment) {\n  return sibling\n\n  /**\n   * Find applicable siblings in a direction.\n   *\n   * @template {Parents} Parent\n   *   Parent type.\n   * @param {Parent | undefined} parent\n   *   Parent.\n   * @param {number | undefined} index\n   *   Index of child in `parent`.\n   * @param {boolean | undefined} [includeWhitespace=false]\n   *   Whether to include whitespace (default: `false`).\n   * @returns {Parent extends {children: Array<infer Child>} ? Child | undefined : never}\n   *   Child of parent.\n   */\n  function sibling(parent, index, includeWhitespace) {\n    const siblings = parent ? parent.children : emptyChildren$1;\n    let offset = (index || 0) + increment;\n    let next = siblings[offset];\n\n    if (!includeWhitespace) {\n      while (next && whitespace(next)) {\n        offset += increment;\n        next = siblings[offset];\n      }\n    }\n\n    // @ts-expect-error: it’s a correct child.\n    return next\n  }\n}\n\n/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n */\n\n/**\n * @callback OmitHandle\n *   Check if a tag can be omitted.\n * @param {Element} element\n *   Element to check.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether to omit a tag.\n *\n */\n\nconst own = {}.hasOwnProperty;\n\n/**\n * Factory to check if a given node can have a tag omitted.\n *\n * @param {Record<string, OmitHandle>} handlers\n *   Omission handlers, where each key is a tag name, and each value is the\n *   corresponding handler.\n * @returns {OmitHandle}\n *   Whether to omit a tag of an element.\n */\nfunction omission(handlers) {\n  return omit\n\n  /**\n   * Check if a given node can have a tag omitted.\n   *\n   * @type {OmitHandle}\n   */\n  function omit(node, index, parent) {\n    return (\n      own.call(handlers, node.tagName) &&\n      handlers[node.tagName](node, index, parent)\n    )\n  }\n}\n\n/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n */\n\n\nconst closing = omission({\n  body: body$1,\n  caption: headOrColgroupOrCaption,\n  colgroup: headOrColgroupOrCaption,\n  dd,\n  dt,\n  head: headOrColgroupOrCaption,\n  html: html$1,\n  li,\n  optgroup,\n  option,\n  p,\n  rp: rubyElement,\n  rt: rubyElement,\n  tbody: tbody$1,\n  td: cells,\n  tfoot,\n  th: cells,\n  thead,\n  tr\n});\n\n/**\n * Macro for `</head>`, `</colgroup>`, and `</caption>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction headOrColgroupOrCaption(_, index, parent) {\n  const next = siblingAfter(parent, index, true);\n  return (\n    !next ||\n    (next.type !== 'comment' &&\n      !(next.type === 'text' && whitespace(next.value.charAt(0))))\n  )\n}\n\n/**\n * Whether to omit `</html>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction html$1(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return !next || next.type !== 'comment'\n}\n\n/**\n * Whether to omit `</body>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction body$1(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return !next || next.type !== 'comment'\n}\n\n/**\n * Whether to omit `</p>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction p(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return next\n    ? next.type === 'element' &&\n        (next.tagName === 'address' ||\n          next.tagName === 'article' ||\n          next.tagName === 'aside' ||\n          next.tagName === 'blockquote' ||\n          next.tagName === 'details' ||\n          next.tagName === 'div' ||\n          next.tagName === 'dl' ||\n          next.tagName === 'fieldset' ||\n          next.tagName === 'figcaption' ||\n          next.tagName === 'figure' ||\n          next.tagName === 'footer' ||\n          next.tagName === 'form' ||\n          next.tagName === 'h1' ||\n          next.tagName === 'h2' ||\n          next.tagName === 'h3' ||\n          next.tagName === 'h4' ||\n          next.tagName === 'h5' ||\n          next.tagName === 'h6' ||\n          next.tagName === 'header' ||\n          next.tagName === 'hgroup' ||\n          next.tagName === 'hr' ||\n          next.tagName === 'main' ||\n          next.tagName === 'menu' ||\n          next.tagName === 'nav' ||\n          next.tagName === 'ol' ||\n          next.tagName === 'p' ||\n          next.tagName === 'pre' ||\n          next.tagName === 'section' ||\n          next.tagName === 'table' ||\n          next.tagName === 'ul')\n    : !parent ||\n        // Confusing parent.\n        !(\n          parent.type === 'element' &&\n          (parent.tagName === 'a' ||\n            parent.tagName === 'audio' ||\n            parent.tagName === 'del' ||\n            parent.tagName === 'ins' ||\n            parent.tagName === 'map' ||\n            parent.tagName === 'noscript' ||\n            parent.tagName === 'video')\n        )\n}\n\n/**\n * Whether to omit `</li>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction li(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return !next || (next.type === 'element' && next.tagName === 'li')\n}\n\n/**\n * Whether to omit `</dt>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction dt(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return Boolean(\n    next &&\n      next.type === 'element' &&\n      (next.tagName === 'dt' || next.tagName === 'dd')\n  )\n}\n\n/**\n * Whether to omit `</dd>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction dd(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'dt' || next.tagName === 'dd'))\n  )\n}\n\n/**\n * Whether to omit `</rt>` or `</rp>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction rubyElement(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'rp' || next.tagName === 'rt'))\n  )\n}\n\n/**\n * Whether to omit `</optgroup>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction optgroup(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return !next || (next.type === 'element' && next.tagName === 'optgroup')\n}\n\n/**\n * Whether to omit `</option>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction option(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'option' || next.tagName === 'optgroup'))\n  )\n}\n\n/**\n * Whether to omit `</thead>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction thead(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return Boolean(\n    next &&\n      next.type === 'element' &&\n      (next.tagName === 'tbody' || next.tagName === 'tfoot')\n  )\n}\n\n/**\n * Whether to omit `</tbody>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction tbody$1(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'tbody' || next.tagName === 'tfoot'))\n  )\n}\n\n/**\n * Whether to omit `</tfoot>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction tfoot(_, index, parent) {\n  return !siblingAfter(parent, index)\n}\n\n/**\n * Whether to omit `</tr>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction tr(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return !next || (next.type === 'element' && next.tagName === 'tr')\n}\n\n/**\n * Whether to omit `</td>` or `</th>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction cells(_, index, parent) {\n  const next = siblingAfter(parent, index);\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'td' || next.tagName === 'th'))\n  )\n}\n\n/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n */\n\n\nconst opening = omission({\n  body,\n  colgroup,\n  head,\n  html,\n  tbody\n});\n\n/**\n * Whether to omit `<html>`.\n *\n * @param {Element} node\n *   Element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction html(node) {\n  const head = siblingAfter(node, -1);\n  return !head || head.type !== 'comment'\n}\n\n/**\n * Whether to omit `<head>`.\n *\n * @param {Element} node\n *   Element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction head(node) {\n  const children = node.children;\n  /** @type {Array<string>} */\n  const seen = [];\n  let index = -1;\n\n  while (++index < children.length) {\n    const child = children[index];\n    if (\n      child.type === 'element' &&\n      (child.tagName === 'title' || child.tagName === 'base')\n    ) {\n      if (seen.includes(child.tagName)) return false\n      seen.push(child.tagName);\n    }\n  }\n\n  return children.length > 0\n}\n\n/**\n * Whether to omit `<body>`.\n *\n * @param {Element} node\n *   Element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction body(node) {\n  const head = siblingAfter(node, -1, true);\n\n  return (\n    !head ||\n    (head.type !== 'comment' &&\n      !(head.type === 'text' && whitespace(head.value.charAt(0))) &&\n      !(\n        head.type === 'element' &&\n        (head.tagName === 'meta' ||\n          head.tagName === 'link' ||\n          head.tagName === 'script' ||\n          head.tagName === 'style' ||\n          head.tagName === 'template')\n      ))\n  )\n}\n\n/**\n * Whether to omit `<colgroup>`.\n * The spec describes some logic for the opening tag, but it’s easier to\n * implement in the closing tag, to the same effect, so we handle it there\n * instead.\n *\n * @param {Element} node\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction colgroup(node, index, parent) {\n  const previous = siblingBefore(parent, index);\n  const head = siblingAfter(node, -1, true);\n\n  // Previous colgroup was already omitted.\n  if (\n    parent &&\n    previous &&\n    previous.type === 'element' &&\n    previous.tagName === 'colgroup' &&\n    closing(previous, parent.children.indexOf(previous), parent)\n  ) {\n    return false\n  }\n\n  return Boolean(head && head.type === 'element' && head.tagName === 'col')\n}\n\n/**\n * Whether to omit `<tbody>`.\n *\n * @param {Element} node\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction tbody(node, index, parent) {\n  const previous = siblingBefore(parent, index);\n  const head = siblingAfter(node, -1);\n\n  // Previous table section was already omitted.\n  if (\n    parent &&\n    previous &&\n    previous.type === 'element' &&\n    (previous.tagName === 'thead' || previous.tagName === 'tbody') &&\n    closing(previous, parent.children.indexOf(previous), parent)\n  ) {\n    return false\n  }\n\n  return Boolean(head && head.type === 'element' && head.tagName === 'tr')\n}\n\n/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Properties} Properties\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * Maps of subsets.\n *\n * Each value is a matrix of tuples.\n * The value at `0` causes parse errors, the value at `1` is valid.\n * Of both, the value at `0` is unsafe, and the value at `1` is safe.\n *\n * @type {Record<'double' | 'name' | 'single' | 'unquoted', Array<[Array<string>, Array<string>]>>}\n */\nconst constants = {\n  // See: <https://html.spec.whatwg.org/#attribute-name-state>.\n  name: [\n    ['\\t\\n\\f\\r &/=>'.split(''), '\\t\\n\\f\\r \"&\\'/=>`'.split('')],\n    ['\\0\\t\\n\\f\\r \"&\\'/<=>'.split(''), '\\0\\t\\n\\f\\r \"&\\'/<=>`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(unquoted)-state>.\n  unquoted: [\n    ['\\t\\n\\f\\r &>'.split(''), '\\0\\t\\n\\f\\r \"&\\'<=>`'.split('')],\n    ['\\0\\t\\n\\f\\r \"&\\'<=>`'.split(''), '\\0\\t\\n\\f\\r \"&\\'<=>`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(single-quoted)-state>.\n  single: [\n    [\"&'\".split(''), '\"&\\'`'.split('')],\n    [\"\\0&'\".split(''), '\\0\"&\\'`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(double-quoted)-state>.\n  double: [\n    ['\"&'.split(''), '\"&\\'`'.split('')],\n    ['\\0\"&'.split(''), '\\0\"&\\'`'.split('')]\n  ]\n};\n\n/**\n * Serialize an element node.\n *\n * @param {Element} node\n *   Node to handle.\n * @param {number | undefined} index\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nfunction element(node, index, parent, state) {\n  const schema = state.schema;\n  const omit = schema.space === 'svg' ? false : state.settings.omitOptionalTags;\n  let selfClosing =\n    schema.space === 'svg'\n      ? state.settings.closeEmptyElements\n      : state.settings.voids.includes(node.tagName.toLowerCase());\n  /** @type {Array<string>} */\n  const parts = [];\n  /** @type {string} */\n  let last;\n\n  if (schema.space === 'html' && node.tagName === 'svg') {\n    state.schema = svg;\n  }\n\n  const attrs = serializeAttributes(state, node.properties);\n\n  const content = state.all(\n    schema.space === 'html' && node.tagName === 'template' ? node.content : node\n  );\n\n  state.schema = schema;\n\n  // If the node is categorised as void, but it has children, remove the\n  // categorisation.\n  // This enables for example `menuitem`s, which are void in W3C HTML but not\n  // void in WHATWG HTML, to be stringified properly.\n  // Note: `menuitem` has since been removed from the HTML spec, and so is no\n  // longer void.\n  if (content) selfClosing = false;\n\n  if (attrs || !omit || !opening(node, index, parent)) {\n    parts.push('<', node.tagName, attrs ? ' ' + attrs : '');\n\n    if (\n      selfClosing &&\n      (schema.space === 'svg' || state.settings.closeSelfClosing)\n    ) {\n      last = attrs.charAt(attrs.length - 1);\n      if (\n        !state.settings.tightSelfClosing ||\n        last === '/' ||\n        (last && last !== '\"' && last !== \"'\")\n      ) {\n        parts.push(' ');\n      }\n\n      parts.push('/');\n    }\n\n    parts.push('>');\n  }\n\n  parts.push(content);\n\n  if (!selfClosing && (!omit || !closing(node, index, parent))) {\n    parts.push('</' + node.tagName + '>');\n  }\n\n  return parts.join('')\n}\n\n/**\n * @param {State} state\n * @param {Properties | null | undefined} props\n * @returns {string}\n */\nfunction serializeAttributes(state, props) {\n  /** @type {Array<string>} */\n  const values = [];\n  let index = -1;\n  /** @type {string} */\n  let key;\n\n  if (props) {\n    for (key in props) {\n      if (props[key] !== null && props[key] !== undefined) {\n        const value = serializeAttribute(state, key, props[key]);\n        if (value) values.push(value);\n      }\n    }\n  }\n\n  while (++index < values.length) {\n    const last = state.settings.tightAttributes\n      ? values[index].charAt(values[index].length - 1)\n      : undefined;\n\n    // In tight mode, don’t add a space after quoted attributes.\n    if (index !== values.length - 1 && last !== '\"' && last !== \"'\") {\n      values[index] += ' ';\n    }\n  }\n\n  return values.join('')\n}\n\n/**\n * @param {State} state\n * @param {string} key\n * @param {Properties[keyof Properties]} value\n * @returns {string}\n */\nfunction serializeAttribute(state, key, value) {\n  const info = find(state.schema, key);\n  const x =\n    state.settings.allowParseErrors && state.schema.space === 'html' ? 0 : 1;\n  const y = state.settings.allowDangerousCharacters ? 0 : 1;\n  let quote = state.quote;\n  /** @type {string | undefined} */\n  let result;\n\n  if (info.overloadedBoolean && (value === info.attribute || value === '')) {\n    value = true;\n  } else if (\n    info.boolean ||\n    (info.overloadedBoolean && typeof value !== 'string')\n  ) {\n    value = Boolean(value);\n  }\n\n  if (\n    value === null ||\n    value === undefined ||\n    value === false ||\n    (typeof value === 'number' && Number.isNaN(value))\n  ) {\n    return ''\n  }\n\n  const name = stringifyEntities(\n    info.attribute,\n    Object.assign({}, state.settings.characterReferences, {\n      // Always encode without parse errors in non-HTML.\n      subset: constants.name[x][y]\n    })\n  );\n\n  // No value.\n  // There is currently only one boolean property in SVG: `[download]` on\n  // `<a>`.\n  // This property does not seem to work in browsers (Firefox, Safari, Chrome),\n  // so I can’t test if dropping the value works.\n  // But I assume that it should:\n  //\n  // ```html\n  // <!doctype html>\n  // <svg viewBox=\"0 0 100 100\">\n  //   <a href=https://example.com download>\n  //     <circle cx=50 cy=40 r=35 />\n  //   </a>\n  // </svg>\n  // ```\n  //\n  // See: <https://github.com/wooorm/property-information/blob/main/lib/svg.js>\n  if (value === true) return name\n\n  // `spaces` doesn’t accept a second argument, but it’s given here just to\n  // keep the code cleaner.\n  value = Array.isArray(value)\n    ? (info.commaSeparated ? stringify$1 : stringify)(value, {\n        padLeft: !state.settings.tightCommaSeparatedLists\n      })\n    : String(value);\n\n  if (state.settings.collapseEmptyAttributes && !value) return name\n\n  // Check unquoted value.\n  if (state.settings.preferUnquoted) {\n    result = stringifyEntities(\n      value,\n      Object.assign({}, state.settings.characterReferences, {\n        attribute: true,\n        subset: constants.unquoted[x][y]\n      })\n    );\n  }\n\n  // If we don’t want unquoted, or if `value` contains character references when\n  // unquoted…\n  if (result !== value) {\n    // If the alternative is less common than `quote`, switch.\n    if (\n      state.settings.quoteSmart &&\n      ccount(value, quote) > ccount(value, state.alternative)\n    ) {\n      quote = state.alternative;\n    }\n\n    result =\n      quote +\n      stringifyEntities(\n        value,\n        Object.assign({}, state.settings.characterReferences, {\n          // Always encode without parse errors in non-HTML.\n          subset: (quote === \"'\" ? constants.single : constants.double)[x][y],\n          attribute: true\n        })\n      ) +\n      quote;\n  }\n\n  // Don’t add a `=` for unquoted empties.\n  return name + (result ? '=' + result : result)\n}\n\n/**\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Text} Text\n *\n * @typedef {import('mdast-util-to-hast').Raw} Raw\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * Serialize a text node.\n *\n * @param {Raw | Text} node\n *   Node to handle.\n * @param {number | undefined} _\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nfunction text(node, _, parent, state) {\n  // Check if content of `node` should be escaped.\n  return parent &&\n    parent.type === 'element' &&\n    (parent.tagName === 'script' || parent.tagName === 'style')\n    ? node.value\n    : stringifyEntities(\n        node.value,\n        Object.assign({}, state.settings.characterReferences, {\n          subset: ['<', '&']\n        })\n      )\n}\n\n/**\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('mdast-util-to-hast').Raw} Raw\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * Serialize a raw node.\n *\n * @param {Raw} node\n *   Node to handle.\n * @param {number | undefined} index\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nfunction raw(node, index, parent, state) {\n  return state.settings.allowDangerousHtml\n    ? node.value\n    : text(node, index, parent, state)\n}\n\n/**\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Root} Root\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * Serialize a root.\n *\n * @param {Root} node\n *   Node to handle.\n * @param {number | undefined} _1\n *   Index of `node` in `parent.\n * @param {Parents | undefined} _2\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nfunction root(node, _1, _2, state) {\n  return state.all(node)\n}\n\n/**\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('../index.js').State} State\n */\n\n\n/**\n * @type {(node: Nodes, index: number | undefined, parent: Parents | undefined, state: State) => string}\n */\nconst handle = zwitch('type', {\n  invalid,\n  unknown,\n  handlers: {comment, doctype, element, raw, root, text}\n});\n\n/**\n * Fail when a non-node is found in the tree.\n *\n * @param {unknown} node\n *   Unknown value.\n * @returns {never}\n *   Never.\n */\nfunction invalid(node) {\n  throw new Error('Expected node, not `' + node + '`')\n}\n\n/**\n * Fail when a node with an unknown type is found in the tree.\n *\n * @param {unknown} node_\n *  Unknown node.\n * @returns {never}\n *   Never.\n */\nfunction unknown(node_) {\n  // `type` is guaranteed by runtime JS.\n  const node = /** @type {Nodes} */ (node_);\n  throw new Error('Cannot compile unknown node `' + node.type + '`')\n}\n\n/**\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').RootContent} RootContent\n *\n * @typedef {import('property-information').Schema} Schema\n *\n * @typedef {import('stringify-entities').Options} StringifyEntitiesOptions\n */\n\n\n/** @type {Options} */\nconst emptyOptions = {};\n\n/** @type {CharacterReferences} */\nconst emptyCharacterReferences = {};\n\n/** @type {Array<never>} */\nconst emptyChildren = [];\n\n/**\n * Serialize hast as HTML.\n *\n * @param {Array<RootContent> | Nodes} tree\n *   Tree to serialize.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Serialized HTML.\n */\nfunction toHtml(tree, options) {\n  const options_ = options || emptyOptions;\n  const quote = options_.quote || '\"';\n  const alternative = quote === '\"' ? \"'\" : '\"';\n\n  if (quote !== '\"' && quote !== \"'\") {\n    throw new Error('Invalid quote `' + quote + '`, expected `\\'` or `\"`')\n  }\n\n  /** @type {State} */\n  const state = {\n    one,\n    all,\n    settings: {\n      omitOptionalTags: options_.omitOptionalTags || false,\n      allowParseErrors: options_.allowParseErrors || false,\n      allowDangerousCharacters: options_.allowDangerousCharacters || false,\n      quoteSmart: options_.quoteSmart || false,\n      preferUnquoted: options_.preferUnquoted || false,\n      tightAttributes: options_.tightAttributes || false,\n      upperDoctype: options_.upperDoctype || false,\n      tightDoctype: options_.tightDoctype || false,\n      bogusComments: options_.bogusComments || false,\n      tightCommaSeparatedLists: options_.tightCommaSeparatedLists || false,\n      tightSelfClosing: options_.tightSelfClosing || false,\n      collapseEmptyAttributes: options_.collapseEmptyAttributes || false,\n      allowDangerousHtml: options_.allowDangerousHtml || false,\n      voids: options_.voids || htmlVoidElements,\n      characterReferences:\n        options_.characterReferences || emptyCharacterReferences,\n      closeSelfClosing: options_.closeSelfClosing || false,\n      closeEmptyElements: options_.closeEmptyElements || false\n    },\n    schema: options_.space === 'svg' ? svg : html$2,\n    quote,\n    alternative\n  };\n\n  return state.one(\n    Array.isArray(tree) ? {type: 'root', children: tree} : tree,\n    undefined,\n    undefined\n  )\n}\n\n/**\n * Serialize a node.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {Nodes} node\n *   Node to handle.\n * @param {number | undefined} index\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {string}\n *   Serialized node.\n */\nfunction one(node, index, parent) {\n  return handle(node, index, parent, this)\n}\n\n/**\n * Serialize all children of `parent`.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {Parents | undefined} parent\n *   Parent whose children to serialize.\n * @returns {string}\n */\nfunction all(parent) {\n  /** @type {Array<string>} */\n  const results = [];\n  const children = (parent && parent.children) || emptyChildren;\n  let index = -1;\n\n  while (++index < children.length) {\n    results[index] = this.one(children[index], index, parent);\n  }\n\n  return results.join('')\n}\n\n/**\n * Get highlighted code in HTML.\n */\nfunction codeToHtml(internal, code, options) {\n    const context = {\n        meta: {},\n        options,\n        codeToHast: (_code, _options) => codeToHast(internal, _code, _options),\n    };\n    let result = toHtml(codeToHast(internal, code, options, context));\n    for (const transformer of options.transformers || [])\n        result = transformer.postprocess?.call(context, result, options) || result;\n    return result;\n}\n\nasync function main(init) {\n    let wasmMemory;\n    let buffer;\n    const binding = {};\n    function updateGlobalBufferAndViews(buf) {\n        buffer = buf;\n        binding.HEAPU8 = new Uint8Array(buf);\n        binding.HEAPU32 = new Uint32Array(buf);\n    }\n    function _emscripten_get_now() {\n        return typeof performance !== 'undefined' ? performance.now() : Date.now();\n    }\n    function _emscripten_memcpy_big(dest, src, num) {\n        binding.HEAPU8.copyWithin(dest, src, src + num);\n    }\n    function getHeapMax() {\n        return 2147483648;\n    }\n    function emscripten_realloc_buffer(size) {\n        try {\n            wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n            updateGlobalBufferAndViews(wasmMemory.buffer);\n            return 1;\n        }\n        catch (e) { }\n    }\n    function _emscripten_resize_heap(requestedSize) {\n        const oldSize = binding.HEAPU8.length;\n        requestedSize = requestedSize >>> 0;\n        const maxHeapSize = getHeapMax();\n        if (requestedSize > maxHeapSize)\n            return false;\n        const alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n        for (let cutDown = 1; cutDown <= 4; cutDown *= 2) {\n            let overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n            overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);\n            const newSize = Math.min(maxHeapSize, alignUp(Math.max(requestedSize, overGrownHeapSize), 65536));\n            const replacement = emscripten_realloc_buffer(newSize);\n            if (replacement)\n                return true;\n        }\n        return false;\n    }\n    const asmLibraryArg = {\n        emscripten_get_now: _emscripten_get_now,\n        emscripten_memcpy_big: _emscripten_memcpy_big,\n        emscripten_resize_heap: _emscripten_resize_heap,\n        fd_write: () => 0,\n    };\n    async function createWasm() {\n        const info = {\n            env: asmLibraryArg,\n            wasi_snapshot_preview1: asmLibraryArg,\n        };\n        const exports = await init(info);\n        wasmMemory = exports.memory;\n        updateGlobalBufferAndViews(wasmMemory.buffer);\n        Object.assign(binding, exports);\n    }\n    await createWasm();\n    return binding;\n}\n\n/* ---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *-------------------------------------------------------- */\nlet onigBinding = null;\nlet defaultDebugCall = false;\nfunction throwLastOnigError(onigBinding) {\n    throw new Error(onigBinding.UTF8ToString(onigBinding.getLastOnigError()));\n}\nclass UtfString {\n    static _utf8ByteLength(str) {\n        let result = 0;\n        for (let i = 0, len = str.length; i < len; i++) {\n            const charCode = str.charCodeAt(i);\n            let codepoint = charCode;\n            let wasSurrogatePair = false;\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n                // Hit a high surrogate, try to look for a matching low surrogate\n                if (i + 1 < len) {\n                    const nextCharCode = str.charCodeAt(i + 1);\n                    if (nextCharCode >= 0xDC00 && nextCharCode <= 0xDFFF) {\n                        // Found the matching low surrogate\n                        codepoint = (((charCode - 0xD800) << 10) + 0x10000) | (nextCharCode - 0xDC00);\n                        wasSurrogatePair = true;\n                    }\n                }\n            }\n            if (codepoint <= 0x7F)\n                result += 1;\n            else if (codepoint <= 0x7FF)\n                result += 2;\n            else if (codepoint <= 0xFFFF)\n                result += 3;\n            else\n                result += 4;\n            if (wasSurrogatePair)\n                i++;\n        }\n        return result;\n    }\n    utf16Length;\n    utf8Length;\n    utf16Value;\n    utf8Value;\n    utf16OffsetToUtf8;\n    utf8OffsetToUtf16;\n    constructor(str) {\n        const utf16Length = str.length;\n        const utf8Length = UtfString._utf8ByteLength(str);\n        const computeIndicesMapping = (utf8Length !== utf16Length);\n        const utf16OffsetToUtf8 = computeIndicesMapping ? new Uint32Array(utf16Length + 1) : null;\n        if (computeIndicesMapping)\n            utf16OffsetToUtf8[utf16Length] = utf8Length;\n        const utf8OffsetToUtf16 = computeIndicesMapping ? new Uint32Array(utf8Length + 1) : null;\n        if (computeIndicesMapping)\n            utf8OffsetToUtf16[utf8Length] = utf16Length;\n        const utf8Value = new Uint8Array(utf8Length);\n        let i8 = 0;\n        for (let i16 = 0; i16 < utf16Length; i16++) {\n            const charCode = str.charCodeAt(i16);\n            let codePoint = charCode;\n            let wasSurrogatePair = false;\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n                // Hit a high surrogate, try to look for a matching low surrogate\n                if (i16 + 1 < utf16Length) {\n                    const nextCharCode = str.charCodeAt(i16 + 1);\n                    if (nextCharCode >= 0xDC00 && nextCharCode <= 0xDFFF) {\n                        // Found the matching low surrogate\n                        codePoint = (((charCode - 0xD800) << 10) + 0x10000) | (nextCharCode - 0xDC00);\n                        wasSurrogatePair = true;\n                    }\n                }\n            }\n            if (computeIndicesMapping) {\n                utf16OffsetToUtf8[i16] = i8;\n                if (wasSurrogatePair)\n                    utf16OffsetToUtf8[i16 + 1] = i8;\n                if (codePoint <= 0x7F) {\n                    utf8OffsetToUtf16[i8 + 0] = i16;\n                }\n                else if (codePoint <= 0x7FF) {\n                    utf8OffsetToUtf16[i8 + 0] = i16;\n                    utf8OffsetToUtf16[i8 + 1] = i16;\n                }\n                else if (codePoint <= 0xFFFF) {\n                    utf8OffsetToUtf16[i8 + 0] = i16;\n                    utf8OffsetToUtf16[i8 + 1] = i16;\n                    utf8OffsetToUtf16[i8 + 2] = i16;\n                }\n                else {\n                    utf8OffsetToUtf16[i8 + 0] = i16;\n                    utf8OffsetToUtf16[i8 + 1] = i16;\n                    utf8OffsetToUtf16[i8 + 2] = i16;\n                    utf8OffsetToUtf16[i8 + 3] = i16;\n                }\n            }\n            if (codePoint <= 0x7F) {\n                utf8Value[i8++] = codePoint;\n            }\n            else if (codePoint <= 0x7FF) {\n                utf8Value[i8++] = 0b11000000 | ((codePoint & 0b00000000000000000000011111000000) >>> 6);\n                utf8Value[i8++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n            }\n            else if (codePoint <= 0xFFFF) {\n                utf8Value[i8++] = 0b11100000 | ((codePoint & 0b00000000000000001111000000000000) >>> 12);\n                utf8Value[i8++] = 0b10000000 | ((codePoint & 0b00000000000000000000111111000000) >>> 6);\n                utf8Value[i8++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n            }\n            else {\n                utf8Value[i8++] = 0b11110000 | ((codePoint & 0b00000000000111000000000000000000) >>> 18);\n                utf8Value[i8++] = 0b10000000 | ((codePoint & 0b00000000000000111111000000000000) >>> 12);\n                utf8Value[i8++] = 0b10000000 | ((codePoint & 0b00000000000000000000111111000000) >>> 6);\n                utf8Value[i8++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n            }\n            if (wasSurrogatePair)\n                i16++;\n        }\n        this.utf16Length = utf16Length;\n        this.utf8Length = utf8Length;\n        this.utf16Value = str;\n        this.utf8Value = utf8Value;\n        this.utf16OffsetToUtf8 = utf16OffsetToUtf8;\n        this.utf8OffsetToUtf16 = utf8OffsetToUtf16;\n    }\n    createString(onigBinding) {\n        const result = onigBinding.omalloc(this.utf8Length);\n        onigBinding.HEAPU8.set(this.utf8Value, result);\n        return result;\n    }\n}\nclass OnigString {\n    static LAST_ID = 0;\n    static _sharedPtr = 0; // a pointer to a string of 10000 bytes\n    static _sharedPtrInUse = false;\n    id = (++OnigString.LAST_ID);\n    _onigBinding;\n    content;\n    utf16Length;\n    utf8Length;\n    utf16OffsetToUtf8;\n    utf8OffsetToUtf16;\n    ptr;\n    constructor(str) {\n        if (!onigBinding)\n            throw new Error('Must invoke loadWasm first.');\n        this._onigBinding = onigBinding;\n        this.content = str;\n        const utfString = new UtfString(str);\n        this.utf16Length = utfString.utf16Length;\n        this.utf8Length = utfString.utf8Length;\n        this.utf16OffsetToUtf8 = utfString.utf16OffsetToUtf8;\n        this.utf8OffsetToUtf16 = utfString.utf8OffsetToUtf16;\n        if (this.utf8Length < 10000 && !OnigString._sharedPtrInUse) {\n            if (!OnigString._sharedPtr)\n                OnigString._sharedPtr = onigBinding.omalloc(10000);\n            OnigString._sharedPtrInUse = true;\n            onigBinding.HEAPU8.set(utfString.utf8Value, OnigString._sharedPtr);\n            this.ptr = OnigString._sharedPtr;\n        }\n        else {\n            this.ptr = utfString.createString(onigBinding);\n        }\n    }\n    convertUtf8OffsetToUtf16(utf8Offset) {\n        if (this.utf8OffsetToUtf16) {\n            if (utf8Offset < 0)\n                return 0;\n            if (utf8Offset > this.utf8Length)\n                return this.utf16Length;\n            return this.utf8OffsetToUtf16[utf8Offset];\n        }\n        return utf8Offset;\n    }\n    convertUtf16OffsetToUtf8(utf16Offset) {\n        if (this.utf16OffsetToUtf8) {\n            if (utf16Offset < 0)\n                return 0;\n            if (utf16Offset > this.utf16Length)\n                return this.utf8Length;\n            return this.utf16OffsetToUtf8[utf16Offset];\n        }\n        return utf16Offset;\n    }\n    dispose() {\n        if (this.ptr === OnigString._sharedPtr)\n            OnigString._sharedPtrInUse = false;\n        else\n            this._onigBinding.ofree(this.ptr);\n    }\n}\nclass OnigScanner {\n    _onigBinding;\n    _ptr;\n    constructor(patterns) {\n        if (!onigBinding)\n            throw new Error('Must invoke loadWasm first.');\n        const strPtrsArr = [];\n        const strLenArr = [];\n        for (let i = 0, len = patterns.length; i < len; i++) {\n            const utfString = new UtfString(patterns[i]);\n            strPtrsArr[i] = utfString.createString(onigBinding);\n            strLenArr[i] = utfString.utf8Length;\n        }\n        const strPtrsPtr = onigBinding.omalloc(4 * patterns.length);\n        onigBinding.HEAPU32.set(strPtrsArr, strPtrsPtr / 4);\n        const strLenPtr = onigBinding.omalloc(4 * patterns.length);\n        onigBinding.HEAPU32.set(strLenArr, strLenPtr / 4);\n        const scannerPtr = onigBinding.createOnigScanner(strPtrsPtr, strLenPtr, patterns.length);\n        for (let i = 0, len = patterns.length; i < len; i++)\n            onigBinding.ofree(strPtrsArr[i]);\n        onigBinding.ofree(strLenPtr);\n        onigBinding.ofree(strPtrsPtr);\n        if (scannerPtr === 0)\n            throwLastOnigError(onigBinding);\n        this._onigBinding = onigBinding;\n        this._ptr = scannerPtr;\n    }\n    dispose() {\n        this._onigBinding.freeOnigScanner(this._ptr);\n    }\n    findNextMatchSync(string, startPosition, arg) {\n        let debugCall = defaultDebugCall;\n        let options = 0 /* FindOption.None */;\n        if (typeof arg === 'number') {\n            if (arg & 8 /* FindOption.DebugCall */)\n                debugCall = true;\n            options = arg;\n        }\n        else if (typeof arg === 'boolean') {\n            debugCall = arg;\n        }\n        if (typeof string === 'string') {\n            string = new OnigString(string);\n            const result = this._findNextMatchSync(string, startPosition, debugCall, options);\n            string.dispose();\n            return result;\n        }\n        return this._findNextMatchSync(string, startPosition, debugCall, options);\n    }\n    _findNextMatchSync(string, startPosition, debugCall, options) {\n        const onigBinding = this._onigBinding;\n        let resultPtr;\n        if (debugCall)\n            resultPtr = onigBinding.findNextOnigScannerMatchDbg(this._ptr, string.id, string.ptr, string.utf8Length, string.convertUtf16OffsetToUtf8(startPosition), options);\n        else\n            resultPtr = onigBinding.findNextOnigScannerMatch(this._ptr, string.id, string.ptr, string.utf8Length, string.convertUtf16OffsetToUtf8(startPosition), options);\n        if (resultPtr === 0) {\n            // no match\n            return null;\n        }\n        const HEAPU32 = onigBinding.HEAPU32;\n        let offset = resultPtr / 4; // byte offset -> uint32 offset\n        const index = HEAPU32[offset++];\n        const count = HEAPU32[offset++];\n        const captureIndices = [];\n        for (let i = 0; i < count; i++) {\n            const beg = string.convertUtf8OffsetToUtf16(HEAPU32[offset++]);\n            const end = string.convertUtf8OffsetToUtf16(HEAPU32[offset++]);\n            captureIndices[i] = {\n                start: beg,\n                end,\n                length: end - beg,\n            };\n        }\n        return {\n            index,\n            captureIndices,\n        };\n    }\n}\nfunction isInstantiatorOptionsObject(dataOrOptions) {\n    return (typeof dataOrOptions.instantiator === 'function');\n}\nfunction isInstantiatorModule(dataOrOptions) {\n    return (typeof dataOrOptions.default === 'function');\n}\nfunction isDataOptionsObject(dataOrOptions) {\n    return (typeof dataOrOptions.data !== 'undefined');\n}\nfunction isResponse(dataOrOptions) {\n    return (typeof Response !== 'undefined' && dataOrOptions instanceof Response);\n}\nfunction isArrayBuffer(data) {\n    return (typeof ArrayBuffer !== 'undefined' && (data instanceof ArrayBuffer || ArrayBuffer.isView(data)))\n        // eslint-disable-next-line node/prefer-global/buffer\n        || (typeof Buffer !== 'undefined' && Buffer.isBuffer(data))\n        || (typeof SharedArrayBuffer !== 'undefined' && data instanceof SharedArrayBuffer)\n        || (typeof Uint32Array !== 'undefined' && data instanceof Uint32Array);\n}\nlet initPromise;\nfunction loadWasm(options) {\n    if (initPromise)\n        return initPromise;\n    async function _load() {\n        onigBinding = await main(async (info) => {\n            let instance = options;\n            instance = await instance;\n            if (typeof instance === 'function')\n                instance = await instance(info);\n            if (typeof instance === 'function')\n                instance = await instance(info);\n            if (isInstantiatorOptionsObject(instance)) {\n                instance = await instance.instantiator(info);\n            }\n            else if (isInstantiatorModule(instance)) {\n                instance = await instance.default(info);\n            }\n            else {\n                if (isDataOptionsObject(instance))\n                    instance = instance.data;\n                if (isResponse(instance)) {\n                    if (typeof WebAssembly.instantiateStreaming === 'function')\n                        instance = await _makeResponseStreamingLoader(instance)(info);\n                    else\n                        instance = await _makeResponseNonStreamingLoader(instance)(info);\n                }\n                else if (isArrayBuffer(instance)) {\n                    instance = await _makeArrayBufferLoader(instance)(info);\n                }\n            }\n            if ('instance' in instance)\n                instance = instance.instance;\n            if ('exports' in instance)\n                instance = instance.exports;\n            return instance;\n        });\n    }\n    initPromise = _load();\n    return initPromise;\n}\nfunction _makeArrayBufferLoader(data) {\n    return importObject => WebAssembly.instantiate(data, importObject);\n}\nfunction _makeResponseStreamingLoader(data) {\n    return importObject => WebAssembly.instantiateStreaming(data, importObject);\n}\nfunction _makeResponseNonStreamingLoader(data) {\n    return async (importObject) => {\n        const arrayBuffer = await data.arrayBuffer();\n        return WebAssembly.instantiate(arrayBuffer, importObject);\n    };\n}\nfunction createOnigString(str) {\n    return new OnigString(str);\n}\nfunction createOnigScanner(patterns) {\n    return new OnigScanner(patterns);\n}\n\n/**\n * https://github.com/microsoft/vscode/blob/f7f05dee53fb33fe023db2e06e30a89d3094488f/src/vs/platform/theme/common/colorRegistry.ts#L258-L268\n */\nconst VSCODE_FALLBACK_EDITOR_FG = { light: '#333333', dark: '#bbbbbb' };\nconst VSCODE_FALLBACK_EDITOR_BG = { light: '#fffffe', dark: '#1e1e1e' };\nconst RESOLVED_KEY = '__shiki_resolved';\n/**\n * Normalize a textmate theme to shiki theme\n */\nfunction normalizeTheme(rawTheme) {\n    // @ts-expect-error private field\n    if (rawTheme?.[RESOLVED_KEY])\n        return rawTheme;\n    const theme = {\n        ...rawTheme,\n    };\n    // Fallback settings\n    if (theme.tokenColors && !theme.settings) {\n        theme.settings = theme.tokenColors;\n        delete theme.tokenColors;\n    }\n    theme.type ||= 'dark';\n    theme.colorReplacements = { ...theme.colorReplacements };\n    theme.settings ||= [];\n    // Guess fg/bg colors\n    let { bg, fg } = theme;\n    if (!bg || !fg) {\n        /**\n         * First try:\n         * Theme might contain a global `tokenColor` without `name` or `scope`\n         * Used as default value for foreground/background\n         */\n        const globalSetting = theme.settings\n            ? theme.settings.find((s) => !s.name && !s.scope)\n            : undefined;\n        if (globalSetting?.settings?.foreground)\n            fg = globalSetting.settings.foreground;\n        if (globalSetting?.settings?.background)\n            bg = globalSetting.settings.background;\n        /**\n         * Second try:\n         * If there's no global `tokenColor` without `name` or `scope`\n         * Use `editor.foreground` and `editor.background`\n         */\n        if (!fg && theme?.colors?.['editor.foreground'])\n            fg = theme.colors['editor.foreground'];\n        if (!bg && theme?.colors?.['editor.background'])\n            bg = theme.colors['editor.background'];\n        /**\n         * Last try:\n         * If there's no fg/bg color specified in theme, use default\n         */\n        if (!fg)\n            fg = theme.type === 'light' ? VSCODE_FALLBACK_EDITOR_FG.light : VSCODE_FALLBACK_EDITOR_FG.dark;\n        if (!bg)\n            bg = theme.type === 'light' ? VSCODE_FALLBACK_EDITOR_BG.light : VSCODE_FALLBACK_EDITOR_BG.dark;\n        theme.fg = fg;\n        theme.bg = bg;\n    }\n    // Push a no-scope setting with fallback colors\n    if (!(theme.settings[0] && theme.settings[0].settings && !theme.settings[0].scope)) {\n        theme.settings.unshift({\n            settings: {\n                foreground: theme.fg,\n                background: theme.bg,\n            },\n        });\n    }\n    // Push non-hex colors to color replacements, as `vscode-textmate` doesn't support them\n    let replacementCount = 0;\n    const replacementMap = new Map();\n    function getReplacementColor(value) {\n        if (replacementMap.has(value))\n            return replacementMap.get(value);\n        replacementCount += 1;\n        const hex = `#${replacementCount.toString(16).padStart(8, '0').toLowerCase()}`;\n        if (theme.colorReplacements?.[`#${hex}`]) // already exists\n            return getReplacementColor(value);\n        replacementMap.set(value, hex);\n        return hex;\n    }\n    theme.settings = theme.settings.map((setting) => {\n        const replaceFg = setting.settings?.foreground && !setting.settings.foreground.startsWith('#');\n        const replaceBg = setting.settings?.background && !setting.settings.background.startsWith('#');\n        if (!replaceFg && !replaceBg)\n            return setting;\n        const clone = {\n            ...setting,\n            settings: {\n                ...setting.settings,\n            },\n        };\n        if (replaceFg) {\n            const replacement = getReplacementColor(setting.settings.foreground);\n            theme.colorReplacements[replacement] = setting.settings.foreground;\n            clone.settings.foreground = replacement;\n        }\n        if (replaceBg) {\n            const replacement = getReplacementColor(setting.settings.background);\n            theme.colorReplacements[replacement] = setting.settings.background;\n            clone.settings.background = replacement;\n        }\n        return clone;\n    });\n    for (const key of Object.keys(theme.colors || {})) {\n        // Only patch for known keys\n        if (key === 'editor.foreground' || key === 'editor.background' || key.startsWith('terminal.ansi')) {\n            if (!theme.colors[key]?.startsWith('#')) {\n                const replacement = getReplacementColor(theme.colors[key]);\n                theme.colorReplacements[replacement] = theme.colors[key];\n                theme.colors[key] = replacement;\n            }\n        }\n    }\n    Object.defineProperty(theme, RESOLVED_KEY, {\n        enumerable: false,\n        writable: false,\n        value: true,\n    });\n    return theme;\n}\n\nclass Registry extends _textmate_mjs__WEBPACK_IMPORTED_MODULE_1__.Registry {\n    _resolver;\n    _themes;\n    _langs;\n    _resolvedThemes = {};\n    _resolvedGrammars = {};\n    _langMap = {};\n    _langGraph = new Map();\n    alias = {};\n    constructor(_resolver, _themes, _langs) {\n        super(_resolver);\n        this._resolver = _resolver;\n        this._themes = _themes;\n        this._langs = _langs;\n        _themes.forEach(t => this.loadTheme(t));\n        _langs.forEach(l => this.loadLanguage(l));\n    }\n    getTheme(theme) {\n        if (typeof theme === 'string')\n            return this._resolvedThemes[theme];\n        else\n            return this.loadTheme(theme);\n    }\n    loadTheme(theme) {\n        const _theme = normalizeTheme(theme);\n        if (_theme.name)\n            this._resolvedThemes[_theme.name] = _theme;\n        return _theme;\n    }\n    getLoadedThemes() {\n        return Object.keys(this._resolvedThemes);\n    }\n    getGrammar(name) {\n        if (this.alias[name]) {\n            const resolved = new Set([name]);\n            while (this.alias[name]) {\n                name = this.alias[name];\n                if (resolved.has(name))\n                    throw new Error(`[shikiji] Circular alias \\`${Array.from(resolved).join(' -> ')} -> ${name}\\``);\n                resolved.add(name);\n            }\n        }\n        return this._resolvedGrammars[name];\n    }\n    async loadLanguage(lang) {\n        if (this.getGrammar(lang.name))\n            return;\n        const embeddedLazilyBy = new Set(Object.values(this._langMap).filter(i => i.embeddedLangsLazy?.includes(lang.name)));\n        this._resolver.addLanguage(lang);\n        const grammarConfig = {\n            balancedBracketSelectors: lang.balancedBracketSelectors || ['*'],\n            unbalancedBracketSelectors: lang.unbalancedBracketSelectors || [],\n        };\n        // @ts-expect-error Private members, set this to override the previous grammar (that can be a stub)\n        this._syncRegistry._rawGrammars.set(lang.scopeName, lang);\n        const g = await this.loadGrammarWithConfiguration(lang.scopeName, 1, grammarConfig);\n        this._resolvedGrammars[lang.name] = g;\n        if (lang.aliases) {\n            lang.aliases.forEach((alias) => {\n                this.alias[alias] = lang.name;\n            });\n        }\n        // If there is a language that embeds this language lazily, we need to reload it\n        if (embeddedLazilyBy.size) {\n            for (const e of embeddedLazilyBy) {\n                delete this._resolvedGrammars[e.name];\n                // @ts-expect-error clear cache\n                this._syncRegistry?._injectionGrammars?.delete(e.scopeName);\n                // @ts-expect-error clear cache\n                this._syncRegistry?._grammars?.delete(e.scopeName);\n                await this.loadLanguage(this._langMap[e.name]);\n            }\n        }\n    }\n    async init() {\n        this._themes.map(t => this.loadTheme(t));\n        await this.loadLanguages(this._langs);\n    }\n    async loadLanguages(langs) {\n        for (const lang of langs)\n            this.resolveEmbeddedLanguages(lang);\n        const langsGraphArray = Array.from(this._langGraph.entries());\n        const missingLangs = langsGraphArray.filter(([_, lang]) => !lang);\n        if (missingLangs.length) {\n            const dependents = langsGraphArray\n                .filter(([_, lang]) => lang && lang.embeddedLangs?.some(l => missingLangs.map(([name]) => name).includes(l)))\n                .filter(lang => !missingLangs.includes(lang));\n            throw new Error(`[shikiji] Missing languages ${missingLangs.map(([name]) => `\\`${name}\\``).join(', ')}, required by ${dependents.map(([name]) => `\\`${name}\\``).join(', ')}`);\n        }\n        for (const [_, lang] of langsGraphArray)\n            this._resolver.addLanguage(lang);\n        for (const [_, lang] of langsGraphArray)\n            await this.loadLanguage(lang);\n    }\n    getLoadedLanguages() {\n        return Object.keys({ ...this._resolvedGrammars, ...this.alias });\n    }\n    resolveEmbeddedLanguages(lang) {\n        this._langMap[lang.name] = lang;\n        this._langGraph.set(lang.name, lang);\n        if (lang.embeddedLangs) {\n            for (const embeddedLang of lang.embeddedLangs)\n                this._langGraph.set(embeddedLang, this._langMap[embeddedLang]);\n        }\n    }\n}\n\nclass Resolver {\n    _langs = new Map();\n    _scopeToLang = new Map();\n    _injections = new Map();\n    _onigLibPromise;\n    constructor(onigLibPromise, langs) {\n        this._onigLibPromise = onigLibPromise;\n        langs.forEach(i => this.addLanguage(i));\n    }\n    get onigLib() {\n        return this._onigLibPromise;\n    }\n    getLangRegistration(langIdOrAlias) {\n        return this._langs.get(langIdOrAlias);\n    }\n    async loadGrammar(scopeName) {\n        return this._scopeToLang.get(scopeName);\n    }\n    addLanguage(l) {\n        this._langs.set(l.name, l);\n        if (l.aliases) {\n            l.aliases.forEach((a) => {\n                this._langs.set(a, l);\n            });\n        }\n        this._scopeToLang.set(l.scopeName, l);\n        if (l.injectTo) {\n            l.injectTo.forEach((i) => {\n                if (!this._injections.get(i))\n                    this._injections.set(i, []);\n                this._injections.get(i).push(l.scopeName);\n            });\n        }\n    }\n    getInjections(scopeName) {\n        const scopeParts = scopeName.split('.');\n        let injections = [];\n        for (let i = 1; i <= scopeParts.length; i++) {\n            const subScopeName = scopeParts.slice(0, i).join('.');\n            injections = [...injections, ...(this._injections.get(subScopeName) || [])];\n        }\n        return injections;\n    }\n}\n\nlet _defaultWasmLoader;\n/**\n * Set the default wasm loader for `loadWasm`.\n * @internal\n */\nfunction setDefaultWasmLoader(_loader) {\n    _defaultWasmLoader = _loader;\n}\n/**\n * Get the minimal shiki context for rendering.\n */\nasync function getShikiInternal(options = {}) {\n    async function normalizeGetter(p) {\n        return Promise.resolve(typeof p === 'function' ? p() : p).then(r => r.default || r);\n    }\n    async function resolveLangs(langs) {\n        return Array.from(new Set((await Promise.all(langs.map(async (lang) => await normalizeGetter(lang).then(r => Array.isArray(r) ? r : [r])))).flat()));\n    }\n    const wasmLoader = options.loadWasm || _defaultWasmLoader;\n    const [themes, langs,] = await Promise.all([\n        Promise.all((options.themes || []).map(normalizeGetter)).then(r => r.map(normalizeTheme)),\n        resolveLangs(options.langs || []),\n        wasmLoader ? loadWasm(wasmLoader) : undefined,\n    ]);\n    const resolver = new Resolver(Promise.resolve({\n        createOnigScanner(patterns) {\n            return createOnigScanner(patterns);\n        },\n        createOnigString(s) {\n            return createOnigString(s);\n        },\n    }), langs);\n    const _registry = new Registry(resolver, themes, langs);\n    Object.assign(_registry.alias, options.langAlias);\n    await _registry.init();\n    let _lastTheme;\n    function getLangGrammar(name) {\n        const _lang = _registry.getGrammar(name);\n        if (!_lang)\n            throw new Error(`[shikiji] Language \\`${name}\\` not found, you may need to load it first`);\n        return _lang;\n    }\n    function getTheme(name) {\n        if (name === 'none')\n            return { bg: '', fg: '', name: 'none', settings: [], type: 'dark' };\n        const _theme = _registry.getTheme(name);\n        if (!_theme)\n            throw new Error(`[shikiji] Theme \\`${name}\\` not found, you may need to load it first`);\n        return _theme;\n    }\n    function setTheme(name) {\n        const theme = getTheme(name);\n        if (_lastTheme !== name) {\n            _registry.setTheme(theme);\n            _lastTheme = name;\n        }\n        const colorMap = _registry.getColorMap();\n        return {\n            theme,\n            colorMap,\n        };\n    }\n    function getLoadedThemes() {\n        return _registry.getLoadedThemes();\n    }\n    function getLoadedLanguages() {\n        return _registry.getLoadedLanguages();\n    }\n    async function loadLanguage(...langs) {\n        await _registry.loadLanguages(await resolveLangs(langs));\n    }\n    async function loadTheme(...themes) {\n        await Promise.all(themes.map(async (theme) => isSpecialTheme(theme)\n            ? null\n            : _registry.loadTheme(await normalizeGetter(theme))));\n    }\n    function updateAlias(alias) {\n        Object.assign(_registry.alias, alias);\n    }\n    function getAlias() {\n        return _registry.alias;\n    }\n    return {\n        setTheme,\n        getTheme,\n        getLangGrammar,\n        getLoadedThemes,\n        getLoadedLanguages,\n        getAlias,\n        updateAlias,\n        loadLanguage,\n        loadTheme,\n    };\n}\n\n/**\n * Create a Shikiji core highlighter instance, with no languages or themes bundled.\n * Wasm and each language and theme must be loaded manually.\n *\n * @see http://shikiji.netlify.app/guide/install#fine-grained-bundle\n */\nasync function getHighlighterCore(options = {}) {\n    const internal = await getShikiInternal(options);\n    return {\n        codeToThemedTokens: (code, options) => codeToThemedTokens(internal, code, options),\n        codeToTokensWithThemes: (code, options) => codeToTokensWithThemes(internal, code, options),\n        codeToHast: (code, options) => codeToHast(internal, code, options),\n        codeToHtml: (code, options) => codeToHtml(internal, code, options),\n        loadLanguage: internal.loadLanguage,\n        loadTheme: internal.loadTheme,\n        getTheme: internal.getTheme,\n        getLangGrammar: internal.getLangGrammar,\n        setTheme: internal.setTheme,\n        getLoadedThemes: internal.getLoadedThemes,\n        getLoadedLanguages: internal.getLoadedLanguages,\n        getInternalContext: () => internal,\n    };\n}\n\n/**\n * Create a `getHighlighter` function with bundled themes and languages.\n *\n * @param bundledLanguages\n * @param bundledThemes\n * @param loadWasm\n */\nfunction createdBundledHighlighter(bundledLanguages, bundledThemes, loadWasm) {\n    async function getHighlighter(options = {}) {\n        function resolveLang(lang) {\n            if (typeof lang === 'string') {\n                if (isSpecialLang(lang))\n                    return [];\n                const bundle = bundledLanguages[lang];\n                if (!bundle)\n                    throw new Error(`[shikiji] Language \\`${lang}\\` is not built-in.`);\n                return bundle;\n            }\n            return lang;\n        }\n        function resolveTheme(theme) {\n            if (isSpecialTheme(theme))\n                return 'none';\n            if (typeof theme === 'string') {\n                const bundle = bundledThemes[theme];\n                if (!bundle)\n                    throw new Error(`[shikiji] Theme \\`${theme}\\` is not built-in.`);\n                return bundle;\n            }\n            return theme;\n        }\n        const _themes = (options.themes ?? []).map(i => resolveTheme(i));\n        const langs = (options.langs ?? [])\n            .map(i => resolveLang(i));\n        const core = await getHighlighterCore({\n            ...options,\n            themes: _themes,\n            langs,\n            loadWasm,\n        });\n        return {\n            ...core,\n            loadLanguage(...langs) {\n                return core.loadLanguage(...langs.map(resolveLang));\n            },\n            loadTheme(...themes) {\n                return core.loadTheme(...themes.map(resolveTheme));\n            },\n        };\n    }\n    return getHighlighter;\n}\nfunction createSingletonShorthands(getHighlighter) {\n    let _shiki;\n    async function _getHighlighter(options = {}) {\n        if (!_shiki) {\n            _shiki = getHighlighter({\n                themes: toArray(options.theme || []),\n                langs: toArray(options.lang || []),\n            });\n            return _shiki;\n        }\n        else {\n            const s = await _shiki;\n            await Promise.all([\n                s.loadTheme(...toArray(options.theme || [])),\n                s.loadLanguage(...toArray(options.lang || [])),\n            ]);\n            return s;\n        }\n    }\n    return {\n        getSingletonHighlighter: () => _getHighlighter(),\n        async codeToHtml(code, options) {\n            const shiki = await _getHighlighter({\n                lang: options.lang,\n                theme: ('theme' in options ? [options.theme] : Object.values(options.themes)),\n            });\n            return shiki.codeToHtml(code, options);\n        },\n        async codeToHast(code, options) {\n            const shiki = await _getHighlighter({\n                lang: options.lang,\n                theme: ('theme' in options ? [options.theme] : Object.values(options.themes)),\n            });\n            return shiki.codeToHast(code, options);\n        },\n        async codeToThemedTokens(code, options) {\n            const shiki = await _getHighlighter(options);\n            return shiki.codeToThemedTokens(code, options);\n        },\n        async codeToTokensWithThemes(code, options) {\n            const shiki = await _getHighlighter({\n                lang: options.lang,\n                theme: Object.values(options.themes).filter(Boolean),\n            });\n            return shiki.codeToTokensWithThemes(code, options);\n        },\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppLWNvcmVAMC4xMC4yL25vZGVfbW9kdWxlcy9zaGlraWppLWNvcmUvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUMrQzs7QUFFdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxNQUFNO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFNBQVM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxNQUFNO0FBQ3hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGFBQWEsbUNBQW1DO0FBQ2hEOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFNBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsTUFBTSxvQkFBb0IsTUFBTTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRW9iIiwic291cmNlcyI6WyIvVXNlcnMvYWNib3hsaXUvcHJvamVjdHMvYmlqb24vZWNob2FpL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppLWNvcmVAMC4xMC4yL25vZGVfbW9kdWxlcy9zaGlraWppLWNvcmUvZGlzdC9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRm9udFN0eWxlIH0gZnJvbSAnLi90eXBlcy5tanMnO1xuaW1wb3J0IHsgU3RhY2tFbGVtZW50TWV0YWRhdGEsIElOSVRJQUwsIFJlZ2lzdHJ5IGFzIFJlZ2lzdHJ5JDEgfSBmcm9tICcuL3RleHRtYXRlLm1qcyc7XG5cbmZ1bmN0aW9uIHRvQXJyYXkoeCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHgpID8geCA6IFt4XTtcbn1cbi8qKlxuICogU2xpcHQgYSBzdHJpbmcgaW50byBsaW5lcywgZWFjaCBsaW5lIHByZXNlcnZlcyB0aGUgbGluZSBlbmRpbmcuXG4gKi9cbmZ1bmN0aW9uIHNwbGl0TGluZXMoc3RyKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RyLm1hdGNoQWxsKC9eLiokL21nKSkubWFwKHggPT4gW3hbMF0sIHguaW5kZXhdKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGxhbmd1YWdlIGlzIHBsYWludGV4dCB0aGF0IGlzIGlnbm9yZWQgYnkgU2hpa2lqaS5cbiAqXG4gKiBIYXJkLWNvZGVkIHBsYWluIHRleHQgbGFuZ3VhZ2VzOiBgcGxhaW50ZXh0YCwgYHR4dGAsIGB0ZXh0YCwgYHBsYWluYC5cbiAqL1xuZnVuY3Rpb24gaXNQbGFpbkxhbmcobGFuZykge1xuICAgIHJldHVybiAhbGFuZyB8fCBbJ3BsYWludGV4dCcsICd0eHQnLCAndGV4dCcsICdwbGFpbiddLmluY2x1ZGVzKGxhbmcpO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgbGFuZ3VhZ2UgaXMgc3BlY2lhbGx5IGhhbmRsZWQgb3IgYnlwYXNzZWQgYnkgU2hpa2lqaS5cbiAqXG4gKiBIYXJkLWNvZGVkIGxhbmd1YWdlczogYGFuc2lgIGFuZCBwbGFpbnRleHRzIGxpa2UgYHBsYWludGV4dGAsIGB0eHRgLCBgdGV4dGAsIGBwbGFpbmAuXG4gKi9cbmZ1bmN0aW9uIGlzU3BlY2lhbExhbmcobGFuZykge1xuICAgIHJldHVybiBsYW5nID09PSAnYW5zaScgfHwgaXNQbGFpbkxhbmcobGFuZyk7XG59XG4vKipcbiAqIENoZWNrIGlmIHRoZSB0aGVtZSBpcyBzcGVjaWFsbHkgaGFuZGxlZCBvciBieXBhc3NlZCBieSBTaGlraWppLlxuICpcbiAqIEhhcmQtY29kZWQgdGhlbWVzOiBgbm9uZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTm9uZVRoZW1lKHRoZW1lKSB7XG4gICAgcmV0dXJuIHRoZW1lID09PSAnbm9uZSc7XG59XG4vKipcbiAqIENoZWNrIGlmIHRoZSB0aGVtZSBpcyBzcGVjaWFsbHkgaGFuZGxlZCBvciBieXBhc3NlZCBieSBTaGlraWppLlxuICpcbiAqIEhhcmQtY29kZWQgdGhlbWVzOiBgbm9uZWAuXG4gKi9cbmZ1bmN0aW9uIGlzU3BlY2lhbFRoZW1lKHRoZW1lKSB7XG4gICAgcmV0dXJuIGlzTm9uZVRoZW1lKHRoZW1lKTtcbn1cbi8qKlxuICogVXRpbGl0eSB0byBhcHBlbmQgY2xhc3MgdG8gYSBoYXN0IG5vZGVcbiAqXG4gKiBJZiB0aGUgYHByb3BlcnR5LmNsYXNzYCBpcyBhIHN0cmluZywgaXQgd2lsbCBiZSBzcGxpdHRlZCBieSBzcGFjZSBhbmQgY29udmVydGVkIHRvIGFuIGFycmF5LlxuICovXG5mdW5jdGlvbiBhZGRDbGFzc1RvSGFzdChub2RlLCBjbGFzc05hbWUpIHtcbiAgICBpZiAoIWNsYXNzTmFtZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIG5vZGUucHJvcGVydGllcyB8fD0ge307XG4gICAgbm9kZS5wcm9wZXJ0aWVzLmNsYXNzIHx8PSBbXTtcbiAgICBpZiAodHlwZW9mIG5vZGUucHJvcGVydGllcy5jbGFzcyA9PT0gJ3N0cmluZycpXG4gICAgICAgIG5vZGUucHJvcGVydGllcy5jbGFzcyA9IG5vZGUucHJvcGVydGllcy5jbGFzcy5zcGxpdCgvXFxzKy9nKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobm9kZS5wcm9wZXJ0aWVzLmNsYXNzKSlcbiAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLmNsYXNzID0gW107XG4gICAgY29uc3QgdGFyZ2V0cyA9IEFycmF5LmlzQXJyYXkoY2xhc3NOYW1lKSA/IGNsYXNzTmFtZSA6IGNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKTtcbiAgICBmb3IgKGNvbnN0IGMgb2YgdGFyZ2V0cykge1xuICAgICAgICBpZiAoYyAmJiAhbm9kZS5wcm9wZXJ0aWVzLmNsYXNzLmluY2x1ZGVzKGMpKVxuICAgICAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLmNsYXNzLnB1c2goYyk7XG4gICAgfVxufVxuLyoqXG4gKiBTcGxpdCBhIHRva2VuIGludG8gbXVsdGlwbGUgdG9rZW5zIGJ5IGdpdmVuIG9mZnNldHMuXG4gKlxuICogVGhlIG9mZnNldHMgYXJlIHJlbGF0aXZlIHRvIHRoZSB0b2tlbiwgYW5kIHNob3VsZCBiZSBzb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIHNwbGl0VG9rZW4odG9rZW4sIG9mZnNldHMpIHtcbiAgICBsZXQgbGFzdE9mZnNldCA9IDA7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgZm9yIChjb25zdCBvZmZzZXQgb2Ygb2Zmc2V0cykge1xuICAgICAgICBpZiAob2Zmc2V0ID4gbGFzdE9mZnNldCkge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIC4uLnRva2VuLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRva2VuLmNvbnRlbnQuc2xpY2UobGFzdE9mZnNldCwgb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHRva2VuLm9mZnNldCArIGxhc3RPZmZzZXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0T2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBpZiAobGFzdE9mZnNldCA8IHRva2VuLmNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgIC4uLnRva2VuLFxuICAgICAgICAgICAgY29udGVudDogdG9rZW4uY29udGVudC5zbGljZShsYXN0T2Zmc2V0KSxcbiAgICAgICAgICAgIG9mZnNldDogdG9rZW4ub2Zmc2V0ICsgbGFzdE9mZnNldCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiBhcHBseUNvbG9yUmVwbGFjZW1lbnRzKGNvbG9yLCByZXBsYWNlbWVudHMpIHtcbiAgICByZXR1cm4gcmVwbGFjZW1lbnRzPy5bY29sb3IudG9Mb3dlckNhc2UoKV0gfHwgY29sb3I7XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgaXNQbGFpbkxhbmdgIGluc3RlYWQuXG4gKi9cbmNvbnN0IGlzUGxhaW50ZXh0ID0gaXNQbGFpbkxhbmc7XG5cbi8vIHNyYy9jb2xvcnMudHNcbnZhciBuYW1lZENvbG9ycyA9IFtcbiAgXCJibGFja1wiLFxuICBcInJlZFwiLFxuICBcImdyZWVuXCIsXG4gIFwieWVsbG93XCIsXG4gIFwiYmx1ZVwiLFxuICBcIm1hZ2VudGFcIixcbiAgXCJjeWFuXCIsXG4gIFwid2hpdGVcIixcbiAgXCJicmlnaHRCbGFja1wiLFxuICBcImJyaWdodFJlZFwiLFxuICBcImJyaWdodEdyZWVuXCIsXG4gIFwiYnJpZ2h0WWVsbG93XCIsXG4gIFwiYnJpZ2h0Qmx1ZVwiLFxuICBcImJyaWdodE1hZ2VudGFcIixcbiAgXCJicmlnaHRDeWFuXCIsXG4gIFwiYnJpZ2h0V2hpdGVcIlxuXTtcblxuLy8gc3JjL2RlY29yYXRpb25zLnRzXG52YXIgZGVjb3JhdGlvbnMgPSB7XG4gIDE6IFwiYm9sZFwiLFxuICAyOiBcImRpbVwiLFxuICAzOiBcIml0YWxpY1wiLFxuICA0OiBcInVuZGVybGluZVwiLFxuICA3OiBcInJldmVyc2VcIixcbiAgOTogXCJzdHJpa2V0aHJvdWdoXCJcbn07XG5cbi8vIHNyYy9wYXJzZXIudHNcbmZ1bmN0aW9uIGZpbmRTZXF1ZW5jZSh2YWx1ZSwgcG9zaXRpb24pIHtcbiAgY29uc3QgbmV4dEVzY2FwZSA9IHZhbHVlLmluZGV4T2YoXCJcXHgxQltcIiwgcG9zaXRpb24pO1xuICBpZiAobmV4dEVzY2FwZSAhPT0gLTEpIHtcbiAgICBjb25zdCBuZXh0Q2xvc2UgPSB2YWx1ZS5pbmRleE9mKFwibVwiLCBuZXh0RXNjYXBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgc2VxdWVuY2U6IHZhbHVlLnN1YnN0cmluZyhuZXh0RXNjYXBlICsgMiwgbmV4dENsb3NlKS5zcGxpdChcIjtcIiksXG4gICAgICBzdGFydFBvc2l0aW9uOiBuZXh0RXNjYXBlLFxuICAgICAgcG9zaXRpb246IG5leHRDbG9zZSArIDFcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IHZhbHVlLmxlbmd0aFxuICB9O1xufVxuZnVuY3Rpb24gcGFyc2VDb2xvcihzZXF1ZW5jZSwgaW5kZXgpIHtcbiAgbGV0IG9mZnNldCA9IDE7XG4gIGNvbnN0IGNvbG9yTW9kZSA9IHNlcXVlbmNlW2luZGV4ICsgb2Zmc2V0KytdO1xuICBsZXQgY29sb3I7XG4gIGlmIChjb2xvck1vZGUgPT09IFwiMlwiKSB7XG4gICAgY29uc3QgcmdiID0gW1xuICAgICAgc2VxdWVuY2VbaW5kZXggKyBvZmZzZXQrK10sXG4gICAgICBzZXF1ZW5jZVtpbmRleCArIG9mZnNldCsrXSxcbiAgICAgIHNlcXVlbmNlW2luZGV4ICsgb2Zmc2V0XVxuICAgIF0ubWFwKCh4KSA9PiBOdW1iZXIucGFyc2VJbnQoeCkpO1xuICAgIGlmIChyZ2IubGVuZ3RoID09PSAzICYmICFyZ2Iuc29tZSgoeCkgPT4gTnVtYmVyLmlzTmFOKHgpKSkge1xuICAgICAgY29sb3IgPSB7XG4gICAgICAgIHR5cGU6IFwicmdiXCIsXG4gICAgICAgIHJnYlxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29sb3JNb2RlID09PSBcIjVcIikge1xuICAgIGNvbnN0IGNvbG9ySW5kZXggPSBOdW1iZXIucGFyc2VJbnQoc2VxdWVuY2VbaW5kZXggKyBvZmZzZXRdKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihjb2xvckluZGV4KSkge1xuICAgICAgY29sb3IgPSB7IHR5cGU6IFwidGFibGVcIiwgaW5kZXg6IE51bWJlcihjb2xvckluZGV4KSB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gW29mZnNldCwgY29sb3JdO1xufVxuZnVuY3Rpb24gcGFyc2VTZXF1ZW5jZShzZXF1ZW5jZSkge1xuICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY29kZSA9IHNlcXVlbmNlW2ldO1xuICAgIGNvbnN0IGNvZGVJbnQgPSBOdW1iZXIucGFyc2VJbnQoY29kZSk7XG4gICAgaWYgKE51bWJlci5pc05hTihjb2RlSW50KSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGlmIChjb2RlSW50ID09PSAwKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKHsgdHlwZTogXCJyZXNldEFsbFwiIH0pO1xuICAgIH0gZWxzZSBpZiAoY29kZUludCA8PSA5KSB7XG4gICAgICBjb25zdCBkZWNvcmF0aW9uID0gZGVjb3JhdGlvbnNbY29kZUludF07XG4gICAgICBpZiAoZGVjb3JhdGlvbikge1xuICAgICAgICBjb21tYW5kcy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInNldERlY29yYXRpb25cIixcbiAgICAgICAgICB2YWx1ZTogZGVjb3JhdGlvbnNbY29kZUludF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb2RlSW50IDw9IDI5KSB7XG4gICAgICBjb25zdCBkZWNvcmF0aW9uID0gZGVjb3JhdGlvbnNbY29kZUludCAtIDIwXTtcbiAgICAgIGlmIChkZWNvcmF0aW9uKSB7XG4gICAgICAgIGNvbW1hbmRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwicmVzZXREZWNvcmF0aW9uXCIsXG4gICAgICAgICAgdmFsdWU6IGRlY29yYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb2RlSW50IDw9IDM3KSB7XG4gICAgICBjb21tYW5kcy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJzZXRGb3JlZ3JvdW5kQ29sb3JcIixcbiAgICAgICAgdmFsdWU6IHsgdHlwZTogXCJuYW1lZFwiLCBuYW1lOiBuYW1lZENvbG9yc1tjb2RlSW50IC0gMzBdIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY29kZUludCA9PT0gMzgpIHtcbiAgICAgIGNvbnN0IFtvZmZzZXQsIGNvbG9yXSA9IHBhcnNlQ29sb3Ioc2VxdWVuY2UsIGkpO1xuICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgIGNvbW1hbmRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwic2V0Rm9yZWdyb3VuZENvbG9yXCIsXG4gICAgICAgICAgdmFsdWU6IGNvbG9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaSArPSBvZmZzZXQ7XG4gICAgfSBlbHNlIGlmIChjb2RlSW50ID09PSAzOSkge1xuICAgICAgY29tbWFuZHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwicmVzZXRGb3JlZ3JvdW5kQ29sb3JcIlxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChjb2RlSW50IDw9IDQ3KSB7XG4gICAgICBjb21tYW5kcy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJzZXRCYWNrZ3JvdW5kQ29sb3JcIixcbiAgICAgICAgdmFsdWU6IHsgdHlwZTogXCJuYW1lZFwiLCBuYW1lOiBuYW1lZENvbG9yc1tjb2RlSW50IC0gNDBdIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY29kZUludCA9PT0gNDgpIHtcbiAgICAgIGNvbnN0IFtvZmZzZXQsIGNvbG9yXSA9IHBhcnNlQ29sb3Ioc2VxdWVuY2UsIGkpO1xuICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgIGNvbW1hbmRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwic2V0QmFja2dyb3VuZENvbG9yXCIsXG4gICAgICAgICAgdmFsdWU6IGNvbG9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaSArPSBvZmZzZXQ7XG4gICAgfSBlbHNlIGlmIChjb2RlSW50ID09PSA0OSkge1xuICAgICAgY29tbWFuZHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwicmVzZXRCYWNrZ3JvdW5kQ29sb3JcIlxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChjb2RlSW50ID49IDkwICYmIGNvZGVJbnQgPD0gOTcpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInNldEZvcmVncm91bmRDb2xvclwiLFxuICAgICAgICB2YWx1ZTogeyB0eXBlOiBcIm5hbWVkXCIsIG5hbWU6IG5hbWVkQ29sb3JzW2NvZGVJbnQgLSA5MCArIDhdIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY29kZUludCA+PSAxMDAgJiYgY29kZUludCA8PSAxMDcpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInNldEJhY2tncm91bmRDb2xvclwiLFxuICAgICAgICB2YWx1ZTogeyB0eXBlOiBcIm5hbWVkXCIsIG5hbWU6IG5hbWVkQ29sb3JzW2NvZGVJbnQgLSAxMDAgKyA4XSB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbW1hbmRzO1xufVxuZnVuY3Rpb24gY3JlYXRlQW5zaVNlcXVlbmNlUGFyc2VyKCkge1xuICBsZXQgZm9yZWdyb3VuZCA9IG51bGw7XG4gIGxldCBiYWNrZ3JvdW5kID0gbnVsbDtcbiAgbGV0IGRlY29yYXRpb25zMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIHJldHVybiB7XG4gICAgcGFyc2UodmFsdWUpIHtcbiAgICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgICAgbGV0IHBvc2l0aW9uID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgZmluZFJlc3VsdCA9IGZpbmRTZXF1ZW5jZSh2YWx1ZSwgcG9zaXRpb24pO1xuICAgICAgICBjb25zdCB0ZXh0ID0gZmluZFJlc3VsdC5zZXF1ZW5jZSA/IHZhbHVlLnN1YnN0cmluZyhwb3NpdGlvbiwgZmluZFJlc3VsdC5zdGFydFBvc2l0aW9uKSA6IHZhbHVlLnN1YnN0cmluZyhwb3NpdGlvbik7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdGV4dCxcbiAgICAgICAgICAgIGZvcmVncm91bmQsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLFxuICAgICAgICAgICAgZGVjb3JhdGlvbnM6IG5ldyBTZXQoZGVjb3JhdGlvbnMyKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5kUmVzdWx0LnNlcXVlbmNlKSB7XG4gICAgICAgICAgY29uc3QgY29tbWFuZHMgPSBwYXJzZVNlcXVlbmNlKGZpbmRSZXN1bHQuc2VxdWVuY2UpO1xuICAgICAgICAgIGZvciAoY29uc3Qgc3R5bGVUb2tlbiBvZiBjb21tYW5kcykge1xuICAgICAgICAgICAgaWYgKHN0eWxlVG9rZW4udHlwZSA9PT0gXCJyZXNldEFsbFwiKSB7XG4gICAgICAgICAgICAgIGZvcmVncm91bmQgPSBudWxsO1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kID0gbnVsbDtcbiAgICAgICAgICAgICAgZGVjb3JhdGlvbnMyLmNsZWFyKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0eWxlVG9rZW4udHlwZSA9PT0gXCJyZXNldEZvcmVncm91bmRDb2xvclwiKSB7XG4gICAgICAgICAgICAgIGZvcmVncm91bmQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZVRva2VuLnR5cGUgPT09IFwicmVzZXRCYWNrZ3JvdW5kQ29sb3JcIikge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGVUb2tlbi50eXBlID09PSBcInJlc2V0RGVjb3JhdGlvblwiKSB7XG4gICAgICAgICAgICAgIGRlY29yYXRpb25zMi5kZWxldGUoc3R5bGVUb2tlbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3Qgc3R5bGVUb2tlbiBvZiBjb21tYW5kcykge1xuICAgICAgICAgICAgaWYgKHN0eWxlVG9rZW4udHlwZSA9PT0gXCJzZXRGb3JlZ3JvdW5kQ29sb3JcIikge1xuICAgICAgICAgICAgICBmb3JlZ3JvdW5kID0gc3R5bGVUb2tlbi52YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGVUb2tlbi50eXBlID09PSBcInNldEJhY2tncm91bmRDb2xvclwiKSB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQgPSBzdHlsZVRva2VuLnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZVRva2VuLnR5cGUgPT09IFwic2V0RGVjb3JhdGlvblwiKSB7XG4gICAgICAgICAgICAgIGRlY29yYXRpb25zMi5hZGQoc3R5bGVUb2tlbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvc2l0aW9uID0gZmluZFJlc3VsdC5wb3NpdGlvbjtcbiAgICAgIH0gd2hpbGUgKHBvc2l0aW9uIDwgdmFsdWUubGVuZ3RoKTtcbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvcGFsZXR0ZS50c1xudmFyIGRlZmF1bHROYW1lZENvbG9yc01hcCA9IHtcbiAgYmxhY2s6IFwiIzAwMDAwMFwiLFxuICByZWQ6IFwiI2JiMDAwMFwiLFxuICBncmVlbjogXCIjMDBiYjAwXCIsXG4gIHllbGxvdzogXCIjYmJiYjAwXCIsXG4gIGJsdWU6IFwiIzAwMDBiYlwiLFxuICBtYWdlbnRhOiBcIiNmZjAwZmZcIixcbiAgY3lhbjogXCIjMDBiYmJiXCIsXG4gIHdoaXRlOiBcIiNlZWVlZWVcIixcbiAgYnJpZ2h0QmxhY2s6IFwiIzU1NTU1NVwiLFxuICBicmlnaHRSZWQ6IFwiI2ZmNTU1NVwiLFxuICBicmlnaHRHcmVlbjogXCIjMDBmZjAwXCIsXG4gIGJyaWdodFllbGxvdzogXCIjZmZmZjU1XCIsXG4gIGJyaWdodEJsdWU6IFwiIzU1NTVmZlwiLFxuICBicmlnaHRNYWdlbnRhOiBcIiNmZjU1ZmZcIixcbiAgYnJpZ2h0Q3lhbjogXCIjNTVmZmZmXCIsXG4gIGJyaWdodFdoaXRlOiBcIiNmZmZmZmZcIlxufTtcbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yUGFsZXR0ZShuYW1lZENvbG9yc01hcCA9IGRlZmF1bHROYW1lZENvbG9yc01hcCkge1xuICBmdW5jdGlvbiBuYW1lZENvbG9yKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZWRDb2xvcnNNYXBbbmFtZV07XG4gIH1cbiAgZnVuY3Rpb24gcmdiQ29sb3IocmdiKSB7XG4gICAgcmV0dXJuIGAjJHtyZ2IubWFwKCh4KSA9PiBNYXRoLm1heCgwLCBNYXRoLm1pbih4LCAyNTUpKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpfWA7XG4gIH1cbiAgbGV0IGNvbG9yVGFibGU7XG4gIGZ1bmN0aW9uIGdldENvbG9yVGFibGUoKSB7XG4gICAgaWYgKGNvbG9yVGFibGUpIHtcbiAgICAgIHJldHVybiBjb2xvclRhYmxlO1xuICAgIH1cbiAgICBjb2xvclRhYmxlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lZENvbG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29sb3JUYWJsZS5wdXNoKG5hbWVkQ29sb3IobmFtZWRDb2xvcnNbaV0pKTtcbiAgICB9XG4gICAgbGV0IGxldmVscyA9IFswLCA5NSwgMTM1LCAxNzUsIDIxNSwgMjU1XTtcbiAgICBmb3IgKGxldCByID0gMDsgciA8IDY7IHIrKykge1xuICAgICAgZm9yIChsZXQgZyA9IDA7IGcgPCA2OyBnKyspIHtcbiAgICAgICAgZm9yIChsZXQgYiA9IDA7IGIgPCA2OyBiKyspIHtcbiAgICAgICAgICBjb2xvclRhYmxlLnB1c2gocmdiQ29sb3IoW2xldmVsc1tyXSwgbGV2ZWxzW2ddLCBsZXZlbHNbYl1dKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxldmVsID0gODtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyBpKyssIGxldmVsICs9IDEwKSB7XG4gICAgICBjb2xvclRhYmxlLnB1c2gocmdiQ29sb3IoW2xldmVsLCBsZXZlbCwgbGV2ZWxdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvclRhYmxlO1xuICB9XG4gIGZ1bmN0aW9uIHRhYmxlQ29sb3IoaW5kZXgpIHtcbiAgICByZXR1cm4gZ2V0Q29sb3JUYWJsZSgpW2luZGV4XTtcbiAgfVxuICBmdW5jdGlvbiB2YWx1ZShjb2xvcikge1xuICAgIHN3aXRjaCAoY29sb3IudHlwZSkge1xuICAgICAgY2FzZSBcIm5hbWVkXCI6XG4gICAgICAgIHJldHVybiBuYW1lZENvbG9yKGNvbG9yLm5hbWUpO1xuICAgICAgY2FzZSBcInJnYlwiOlxuICAgICAgICByZXR1cm4gcmdiQ29sb3IoY29sb3IucmdiKTtcbiAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICByZXR1cm4gdGFibGVDb2xvcihjb2xvci5pbmRleCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgdmFsdWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG9rZW5pemVBbnNpV2l0aFRoZW1lKHRoZW1lLCBmaWxlQ29udGVudHMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjb2xvclJlcGxhY2VtZW50cyA9IHtcbiAgICAgICAgLi4udGhlbWUuY29sb3JSZXBsYWNlbWVudHMsXG4gICAgICAgIC4uLm9wdGlvbnM/LmNvbG9yUmVwbGFjZW1lbnRzLFxuICAgIH07XG4gICAgY29uc3QgbGluZXMgPSBzcGxpdExpbmVzKGZpbGVDb250ZW50cyk7XG4gICAgY29uc3QgY29sb3JQYWxldHRlID0gY3JlYXRlQ29sb3JQYWxldHRlKE9iamVjdC5mcm9tRW50cmllcyhuYW1lZENvbG9ycy5tYXAobmFtZSA9PiBbXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHRoZW1lLmNvbG9ycz8uW2B0ZXJtaW5hbC5hbnNpJHtuYW1lWzBdLnRvVXBwZXJDYXNlKCl9JHtuYW1lLnN1YnN0cmluZygxKX1gXSxcbiAgICBdKSkpO1xuICAgIGNvbnN0IHBhcnNlciA9IGNyZWF0ZUFuc2lTZXF1ZW5jZVBhcnNlcigpO1xuICAgIHJldHVybiBsaW5lcy5tYXAobGluZSA9PiBwYXJzZXIucGFyc2UobGluZVswXSkubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICBsZXQgY29sb3I7XG4gICAgICAgIGlmICh0b2tlbi5kZWNvcmF0aW9ucy5oYXMoJ3JldmVyc2UnKSlcbiAgICAgICAgICAgIGNvbG9yID0gdG9rZW4uYmFja2dyb3VuZCA/IGNvbG9yUGFsZXR0ZS52YWx1ZSh0b2tlbi5iYWNrZ3JvdW5kKSA6IHRoZW1lLmJnO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb2xvciA9IHRva2VuLmZvcmVncm91bmQgPyBjb2xvclBhbGV0dGUudmFsdWUodG9rZW4uZm9yZWdyb3VuZCkgOiB0aGVtZS5mZztcbiAgICAgICAgY29sb3IgPSBhcHBseUNvbG9yUmVwbGFjZW1lbnRzKGNvbG9yLCBjb2xvclJlcGxhY2VtZW50cyk7XG4gICAgICAgIGlmICh0b2tlbi5kZWNvcmF0aW9ucy5oYXMoJ2RpbScpKVxuICAgICAgICAgICAgY29sb3IgPSBkaW1Db2xvcihjb2xvcik7XG4gICAgICAgIGxldCBmb250U3R5bGUgPSBGb250U3R5bGUuTm9uZTtcbiAgICAgICAgaWYgKHRva2VuLmRlY29yYXRpb25zLmhhcygnYm9sZCcpKVxuICAgICAgICAgICAgZm9udFN0eWxlIHw9IEZvbnRTdHlsZS5Cb2xkO1xuICAgICAgICBpZiAodG9rZW4uZGVjb3JhdGlvbnMuaGFzKCdpdGFsaWMnKSlcbiAgICAgICAgICAgIGZvbnRTdHlsZSB8PSBGb250U3R5bGUuSXRhbGljO1xuICAgICAgICBpZiAodG9rZW4uZGVjb3JhdGlvbnMuaGFzKCd1bmRlcmxpbmUnKSlcbiAgICAgICAgICAgIGZvbnRTdHlsZSB8PSBGb250U3R5bGUuVW5kZXJsaW5lO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGVudDogdG9rZW4udmFsdWUsXG4gICAgICAgICAgICBvZmZzZXQ6IGxpbmVbMV0sIC8vIFRPRE86IG1vcmUgYWNjdXJhdGUgb2Zmc2V0PyBtaWdodCBuZWVkIHRvIGZvcmsgYW5zaS1zZXF1ZW5jZS1wYXJzZXJcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgZm9udFN0eWxlLFxuICAgICAgICB9O1xuICAgIH0pKTtcbn1cbi8qKlxuICogQWRkcyA1MCUgYWxwaGEgdG8gYSBoZXggY29sb3Igc3RyaW5nIG9yIHRoZSBcIi1kaW1cIiBwb3N0Zml4IHRvIGEgQ1NTIHZhcmlhYmxlXG4gKi9cbmZ1bmN0aW9uIGRpbUNvbG9yKGNvbG9yKSB7XG4gICAgY29uc3QgaGV4TWF0Y2ggPSBjb2xvci5tYXRjaCgvIyhbMC05YS1mXXszfSkoWzAtOWEtZl17M30pPyhbMC05YS1mXXsyfSk/Lyk7XG4gICAgaWYgKGhleE1hdGNoKSB7XG4gICAgICAgIGlmIChoZXhNYXRjaFszXSkge1xuICAgICAgICAgICAgLy8gY29udmVydCBmcm9tICNycmdnYmJhYSB0byAjcnJnZ2JiKGFhLzIpXG4gICAgICAgICAgICBjb25zdCBhbHBoYSA9IE1hdGgucm91bmQoTnVtYmVyLnBhcnNlSW50KGhleE1hdGNoWzNdLCAxNikgLyAyKVxuICAgICAgICAgICAgICAgIC50b1N0cmluZygxNilcbiAgICAgICAgICAgICAgICAucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgICAgIHJldHVybiBgIyR7aGV4TWF0Y2hbMV19JHtoZXhNYXRjaFsyXX0ke2FscGhhfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGV4TWF0Y2hbMl0pIHtcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgZnJvbSAjcnJnZ2JiIHRvICNycmdnYmI4MFxuICAgICAgICAgICAgcmV0dXJuIGAjJHtoZXhNYXRjaFsxXX0ke2hleE1hdGNoWzJdfTgwYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgZnJvbSAjcmdiIHRvICNycmdnYmI4MFxuICAgICAgICAgICAgcmV0dXJuIGAjJHtBcnJheS5mcm9tKGhleE1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIC5tYXAoeCA9PiBgJHt4fSR7eH1gKVxuICAgICAgICAgICAgICAgIC5qb2luKCcnKX04MGA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3NzVmFyTWF0Y2ggPSBjb2xvci5tYXRjaCgvdmFyXFwoKC0tW1xcdy1dKy1hbnNpLVtcXHctXSspXFwpLyk7XG4gICAgaWYgKGNzc1Zhck1hdGNoKVxuICAgICAgICByZXR1cm4gYHZhcigke2Nzc1Zhck1hdGNoWzFdfS1kaW0pYDtcbiAgICByZXR1cm4gY29sb3I7XG59XG5cbmZ1bmN0aW9uIGNvZGVUb1RoZW1lZFRva2VucyhpbnRlcm5hbCwgY29kZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBsYW5nID0gJ3RleHQnLCB0aGVtZTogdGhlbWVOYW1lID0gaW50ZXJuYWwuZ2V0TG9hZGVkVGhlbWVzKClbMF0sIH0gPSBvcHRpb25zO1xuICAgIGlmIChpc1BsYWluTGFuZyhsYW5nKSB8fCBpc05vbmVUaGVtZSh0aGVtZU5hbWUpKVxuICAgICAgICByZXR1cm4gc3BsaXRMaW5lcyhjb2RlKS5tYXAobGluZSA9PiBbeyBjb250ZW50OiBsaW5lWzBdLCBvZmZzZXQ6IGxpbmVbMV0gfV0pO1xuICAgIGNvbnN0IHsgdGhlbWUsIGNvbG9yTWFwIH0gPSBpbnRlcm5hbC5zZXRUaGVtZSh0aGVtZU5hbWUpO1xuICAgIGlmIChsYW5nID09PSAnYW5zaScpXG4gICAgICAgIHJldHVybiB0b2tlbml6ZUFuc2lXaXRoVGhlbWUodGhlbWUsIGNvZGUsIG9wdGlvbnMpO1xuICAgIGNvbnN0IF9ncmFtbWFyID0gaW50ZXJuYWwuZ2V0TGFuZ0dyYW1tYXIobGFuZyk7XG4gICAgcmV0dXJuIHRva2VuaXplV2l0aFRoZW1lKGNvZGUsIF9ncmFtbWFyLCB0aGVtZSwgY29sb3JNYXAsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gdG9rZW5pemVXaXRoVGhlbWUoY29kZSwgZ3JhbW1hciwgdGhlbWUsIGNvbG9yTWFwLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY29sb3JSZXBsYWNlbWVudHMgPSB7XG4gICAgICAgIC4uLnRoZW1lLmNvbG9yUmVwbGFjZW1lbnRzLFxuICAgICAgICAuLi5vcHRpb25zPy5jb2xvclJlcGxhY2VtZW50cyxcbiAgICB9O1xuICAgIGNvbnN0IGxpbmVzID0gc3BsaXRMaW5lcyhjb2RlKTtcbiAgICBsZXQgcnVsZVN0YWNrID0gSU5JVElBTDtcbiAgICBsZXQgYWN0dWFsID0gW107XG4gICAgY29uc3QgZmluYWwgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgW2xpbmUsIGxpbmVPZmZzZXRdID0gbGluZXNbaV07XG4gICAgICAgIGlmIChsaW5lID09PSAnJykge1xuICAgICAgICAgICAgYWN0dWFsID0gW107XG4gICAgICAgICAgICBmaW5hbC5wdXNoKFtdKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHRXaXRoU2NvcGVzO1xuICAgICAgICBsZXQgdG9rZW5zV2l0aFNjb3BlcztcbiAgICAgICAgbGV0IHRva2Vuc1dpdGhTY29wZXNJbmRleDtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZUV4cGxhbmF0aW9uKSB7XG4gICAgICAgICAgICByZXN1bHRXaXRoU2NvcGVzID0gZ3JhbW1hci50b2tlbml6ZUxpbmUobGluZSwgcnVsZVN0YWNrKTtcbiAgICAgICAgICAgIHRva2Vuc1dpdGhTY29wZXMgPSByZXN1bHRXaXRoU2NvcGVzLnRva2VucztcbiAgICAgICAgICAgIHRva2Vuc1dpdGhTY29wZXNJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZ3JhbW1hci50b2tlbml6ZUxpbmUyKGxpbmUsIHJ1bGVTdGFjayk7XG4gICAgICAgIGNvbnN0IHRva2Vuc0xlbmd0aCA9IHJlc3VsdC50b2tlbnMubGVuZ3RoIC8gMjtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0b2tlbnNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IHJlc3VsdC50b2tlbnNbMiAqIGpdO1xuICAgICAgICAgICAgY29uc3QgbmV4dFN0YXJ0SW5kZXggPSBqICsgMSA8IHRva2Vuc0xlbmd0aCA/IHJlc3VsdC50b2tlbnNbMiAqIGogKyAyXSA6IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IG5leHRTdGFydEluZGV4KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSByZXN1bHQudG9rZW5zWzIgKiBqICsgMV07XG4gICAgICAgICAgICBjb25zdCBmb3JlZ3JvdW5kID0gU3RhY2tFbGVtZW50TWV0YWRhdGEuZ2V0Rm9yZWdyb3VuZChtZXRhZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBmb3JlZ3JvdW5kQ29sb3IgPSBhcHBseUNvbG9yUmVwbGFjZW1lbnRzKGNvbG9yTWFwW2ZvcmVncm91bmRdLCBjb2xvclJlcGxhY2VtZW50cyk7XG4gICAgICAgICAgICBjb25zdCBmb250U3R5bGUgPSBTdGFja0VsZW1lbnRNZXRhZGF0YS5nZXRGb250U3R5bGUobWV0YWRhdGEpO1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgY29udGVudDogbGluZS5zdWJzdHJpbmcoc3RhcnRJbmRleCwgbmV4dFN0YXJ0SW5kZXgpLFxuICAgICAgICAgICAgICAgIG9mZnNldDogbGluZU9mZnNldCArIHN0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgICAgY29sb3I6IGZvcmVncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICBmb250U3R5bGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZUV4cGxhbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4uZXhwbGFuYXRpb24gPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCArIG9mZnNldCA8IG5leHRTdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuV2l0aFNjb3BlcyA9IHRva2Vuc1dpdGhTY29wZXNbdG9rZW5zV2l0aFNjb3Blc0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5XaXRoU2NvcGVzVGV4dCA9IGxpbmUuc3Vic3RyaW5nKHRva2VuV2l0aFNjb3Blcy5zdGFydEluZGV4LCB0b2tlbldpdGhTY29wZXMuZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gdG9rZW5XaXRoU2NvcGVzVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuLmV4cGxhbmF0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdG9rZW5XaXRoU2NvcGVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlczogZXhwbGFpblRoZW1lU2NvcGVzKHRoZW1lLCB0b2tlbldpdGhTY29wZXMuc2NvcGVzKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vuc1dpdGhTY29wZXNJbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjdHVhbC5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbC5wdXNoKGFjdHVhbCk7XG4gICAgICAgIGFjdHVhbCA9IFtdO1xuICAgICAgICBydWxlU3RhY2sgPSByZXN1bHQucnVsZVN0YWNrO1xuICAgIH1cbiAgICByZXR1cm4gZmluYWw7XG59XG5mdW5jdGlvbiBleHBsYWluVGhlbWVTY29wZXModGhlbWUsIHNjb3Blcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzY29wZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFyZW50U2NvcGVzID0gc2NvcGVzLnNsaWNlKDAsIGkpO1xuICAgICAgICBjb25zdCBzY29wZSA9IHNjb3Blc1tpXTtcbiAgICAgICAgcmVzdWx0W2ldID0ge1xuICAgICAgICAgICAgc2NvcGVOYW1lOiBzY29wZSxcbiAgICAgICAgICAgIHRoZW1lTWF0Y2hlczogZXhwbGFpblRoZW1lU2NvcGUodGhlbWUsIHNjb3BlLCBwYXJlbnRTY29wZXMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWF0Y2hlc09uZShzZWxlY3Rvciwgc2NvcGUpIHtcbiAgICBjb25zdCBzZWxlY3RvclByZWZpeCA9IGAke3NlbGVjdG9yfS5gO1xuICAgIGlmIChzZWxlY3RvciA9PT0gc2NvcGUgfHwgc2NvcGUuc3Vic3RyaW5nKDAsIHNlbGVjdG9yUHJlZml4Lmxlbmd0aCkgPT09IHNlbGVjdG9yUHJlZml4KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBtYXRjaGVzKHNlbGVjdG9yLCBzZWxlY3RvclBhcmVudFNjb3Blcywgc2NvcGUsIHBhcmVudFNjb3Blcykge1xuICAgIGlmICghbWF0Y2hlc09uZShzZWxlY3Rvciwgc2NvcGUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHNlbGVjdG9yUGFyZW50SW5kZXggPSBzZWxlY3RvclBhcmVudFNjb3Blcy5sZW5ndGggLSAxO1xuICAgIGxldCBwYXJlbnRJbmRleCA9IHBhcmVudFNjb3Blcy5sZW5ndGggLSAxO1xuICAgIHdoaWxlIChzZWxlY3RvclBhcmVudEluZGV4ID49IDAgJiYgcGFyZW50SW5kZXggPj0gMCkge1xuICAgICAgICBpZiAobWF0Y2hlc09uZShzZWxlY3RvclBhcmVudFNjb3Blc1tzZWxlY3RvclBhcmVudEluZGV4XSwgcGFyZW50U2NvcGVzW3BhcmVudEluZGV4XSkpXG4gICAgICAgICAgICBzZWxlY3RvclBhcmVudEluZGV4IC09IDE7XG4gICAgICAgIHBhcmVudEluZGV4IC09IDE7XG4gICAgfVxuICAgIGlmIChzZWxlY3RvclBhcmVudEluZGV4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZXhwbGFpblRoZW1lU2NvcGUodGhlbWUsIHNjb3BlLCBwYXJlbnRTY29wZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgcmVzdWx0TGVuID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhlbWUuc2V0dGluZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHRoZW1lLnNldHRpbmdzW2ldO1xuICAgICAgICBsZXQgc2VsZWN0b3JzO1xuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmcuc2NvcGUgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgc2VsZWN0b3JzID0gc2V0dGluZy5zY29wZS5zcGxpdCgvLC8pLm1hcChzY29wZSA9PiBzY29wZS50cmltKCkpO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNldHRpbmcuc2NvcGUpKVxuICAgICAgICAgICAgc2VsZWN0b3JzID0gc2V0dGluZy5zY29wZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBsZW5KID0gc2VsZWN0b3JzLmxlbmd0aDsgaiA8IGxlbko7IGorKykge1xuICAgICAgICAgICAgY29uc3QgcmF3U2VsZWN0b3IgPSBzZWxlY3RvcnNbal07XG4gICAgICAgICAgICBjb25zdCByYXdTZWxlY3RvclBpZWNlcyA9IHJhd1NlbGVjdG9yLnNwbGl0KC8gLyk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHJhd1NlbGVjdG9yUGllY2VzW3Jhd1NlbGVjdG9yUGllY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JQYXJlbnRTY29wZXMgPSByYXdTZWxlY3RvclBpZWNlcy5zbGljZSgwLCByYXdTZWxlY3RvclBpZWNlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKHNlbGVjdG9yLCBzZWxlY3RvclBhcmVudFNjb3Blcywgc2NvcGUsIHBhcmVudFNjb3BlcykpIHtcbiAgICAgICAgICAgICAgICAvLyBtYXRjaCFcbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gc2V0dGluZztcbiAgICAgICAgICAgICAgICAvLyBicmVhayB0aGUgbG9vcFxuICAgICAgICAgICAgICAgIGogPSBsZW5KO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRva2VucyB3aXRoIG11bHRpcGxlIHRoZW1lc1xuICovXG5mdW5jdGlvbiBjb2RlVG9Ub2tlbnNXaXRoVGhlbWVzKGludGVybmFsLCBjb2RlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGhlbWVzID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucy50aGVtZXMpXG4gICAgICAgIC5maWx0ZXIoaSA9PiBpWzFdKVxuICAgICAgICAubWFwKGkgPT4gKHsgY29sb3I6IGlbMF0sIHRoZW1lOiBpWzFdIH0pKTtcbiAgICBjb25zdCB0b2tlbnMgPSBzeW5jVGhlbWVzVG9rZW5pemF0aW9uKC4uLnRoZW1lcy5tYXAodCA9PiBjb2RlVG9UaGVtZWRUb2tlbnMoaW50ZXJuYWwsIGNvZGUsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdGhlbWU6IHQudGhlbWUsXG4gICAgICAgIGluY2x1ZGVFeHBsYW5hdGlvbjogZmFsc2UsXG4gICAgfSkpKTtcbiAgICBjb25zdCBtZXJnZWRUb2tlbnMgPSB0b2tlbnNbMF1cbiAgICAgICAgLm1hcCgobGluZSwgbGluZUlkeCkgPT4gbGluZVxuICAgICAgICAubWFwKChfdG9rZW4sIHRva2VuSWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IG1lcmdlZFRva2VuID0ge1xuICAgICAgICAgICAgY29udGVudDogX3Rva2VuLmNvbnRlbnQsXG4gICAgICAgICAgICB2YXJpYW50czoge30sXG4gICAgICAgICAgICBvZmZzZXQ6IF90b2tlbi5vZmZzZXQsXG4gICAgICAgIH07XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKCh0LCB0aGVtZUlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50OiBfLCBleHBsYW5hdGlvbjogX18sIG9mZnNldDogX19fLCAuLi5zdHlsZXMgfSA9IHRbbGluZUlkeF1bdG9rZW5JZHhdO1xuICAgICAgICAgICAgbWVyZ2VkVG9rZW4udmFyaWFudHNbdGhlbWVzW3RoZW1lSWR4XS5jb2xvcl0gPSBzdHlsZXM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkVG9rZW47XG4gICAgfSkpO1xuICAgIHJldHVybiBtZXJnZWRUb2tlbnM7XG59XG4vKipcbiAqIEJyZWFrIHRva2VucyBmcm9tIG11bHRpcGxlIHRoZW1lcyBpbnRvIHNhbWUgdG9rZW5pemF0aW9uLlxuICpcbiAqIEZvciBleGFtcGxlLCBnaXZlbiB0d28gdGhlbWVzIHRoYXQgdG9rZW5pemUgYGNvbnNvbGUubG9nKFwiaGVsbG9cIilgIGFzOlxuICpcbiAqIC0gYGNvbnNvbGUgLiBsb2cgKFwiIGhlbGxvIFwiKWAgKDYgdG9rZW5zKVxuICogLSBgY29uc29sZSAubG9nICggXCJoZWxsb1wiIClgICg1IHRva2VucylcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuOlxuICpcbiAqIC0gYGNvbnNvbGUgLiBsb2cgKCBcIiBoZWxsbyBcIiApYCAoOCB0b2tlbnMpXG4gKiAtIGBjb25zb2xlIC4gbG9nICggXCIgaGVsbG8gXCIgKWAgKDggdG9rZW5zKVxuICovXG5mdW5jdGlvbiBzeW5jVGhlbWVzVG9rZW5pemF0aW9uKC4uLnRoZW1lcykge1xuICAgIGNvbnN0IG91dFRoZW1lcyA9IHRoZW1lcy5tYXAoKCkgPT4gW10pO1xuICAgIGNvbnN0IGNvdW50ID0gdGhlbWVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoZW1lc1swXS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsaW5lcyA9IHRoZW1lcy5tYXAodCA9PiB0W2ldKTtcbiAgICAgICAgY29uc3Qgb3V0TGluZXMgPSBvdXRUaGVtZXMubWFwKCgpID0+IFtdKTtcbiAgICAgICAgb3V0VGhlbWVzLmZvckVhY2goKHQsIGkpID0+IHQucHVzaChvdXRMaW5lc1tpXSkpO1xuICAgICAgICBjb25zdCBpbmRleGVzID0gbGluZXMubWFwKCgpID0+IDApO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZXMubWFwKGwgPT4gbFswXSk7XG4gICAgICAgIHdoaWxlIChjdXJyZW50LmV2ZXJ5KHQgPT4gdCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbkxlbmd0aCA9IE1hdGgubWluKC4uLmN1cnJlbnQubWFwKHQgPT4gdC5jb250ZW50Lmxlbmd0aCkpO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBjb3VudDsgbisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBjdXJyZW50W25dO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5jb250ZW50Lmxlbmd0aCA9PT0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dExpbmVzW25dLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzW25dICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbbl0gPSBsaW5lc1tuXVtpbmRleGVzW25dXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dExpbmVzW25dLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB0b2tlbi5jb250ZW50LnNsaWNlKDAsIG1pbkxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50W25dID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB0b2tlbi5jb250ZW50LnNsaWNlKG1pbkxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRva2VuLm9mZnNldCArIG1pbkxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dFRoZW1lcztcbn1cblxuZnVuY3Rpb24gY29kZVRvSGFzdChpbnRlcm5hbCwgY29kZSwgb3B0aW9ucywgdHJhbnNmb3JtZXJDb250ZXh0ID0ge1xuICAgIG1ldGE6IHt9LFxuICAgIG9wdGlvbnMsXG4gICAgY29kZVRvSGFzdDogKF9jb2RlLCBfb3B0aW9ucykgPT4gY29kZVRvSGFzdChpbnRlcm5hbCwgX2NvZGUsIF9vcHRpb25zKSxcbn0pIHtcbiAgICBsZXQgaW5wdXQgPSBjb2RlO1xuICAgIGZvciAoY29uc3QgdHJhbnNmb3JtZXIgb2Ygb3B0aW9ucy50cmFuc2Zvcm1lcnMgfHwgW10pXG4gICAgICAgIGlucHV0ID0gdHJhbnNmb3JtZXIucHJlcHJvY2Vzcz8uY2FsbCh0cmFuc2Zvcm1lckNvbnRleHQsIGlucHV0LCBvcHRpb25zKSB8fCBpbnB1dDtcbiAgICBsZXQgYmc7XG4gICAgbGV0IGZnO1xuICAgIGxldCB0b2tlbnM7XG4gICAgbGV0IHRoZW1lTmFtZTtcbiAgICBsZXQgcm9vdFN0eWxlO1xuICAgIGlmICgndGhlbWVzJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdENvbG9yID0gJ2xpZ2h0JywgY3NzVmFyaWFibGVQcmVmaXggPSAnLS1zaGlraS0nLCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgdGhlbWVzID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucy50aGVtZXMpXG4gICAgICAgICAgICAuZmlsdGVyKGkgPT4gaVsxXSlcbiAgICAgICAgICAgIC5tYXAoaSA9PiAoeyBjb2xvcjogaVswXSwgdGhlbWU6IGlbMV0gfSkpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5jb2xvciA9PT0gZGVmYXVsdENvbG9yID8gLTEgOiBiLmNvbG9yID09PSBkZWZhdWx0Q29sb3IgPyAxIDogMCk7XG4gICAgICAgIGlmICh0aGVtZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbc2hpa2lqaV0gYHRoZW1lc2Agb3B0aW9uIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG4gICAgICAgIGNvbnN0IHRoZW1lVG9rZW5zID0gY29kZVRvVG9rZW5zV2l0aFRoZW1lcyhpbnRlcm5hbCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoZGVmYXVsdENvbG9yICYmICF0aGVtZXMuZmluZCh0ID0+IHQuY29sb3IgPT09IGRlZmF1bHRDb2xvcikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtzaGlraWppXSBcXGB0aGVtZXNcXGAgb3B0aW9uIG11c3QgY29udGFpbiB0aGUgZGVmYXVsdENvbG9yIGtleSBcXGAke2RlZmF1bHRDb2xvcn1cXGBgKTtcbiAgICAgICAgY29uc3QgdGhlbWVSZWdzID0gdGhlbWVzLm1hcCh0ID0+IGludGVybmFsLmdldFRoZW1lKHQudGhlbWUpKTtcbiAgICAgICAgY29uc3QgdGhlbWVzT3JkZXIgPSB0aGVtZXMubWFwKHQgPT4gdC5jb2xvcik7XG4gICAgICAgIHRva2VucyA9IHRoZW1lVG9rZW5zXG4gICAgICAgICAgICAubWFwKGxpbmUgPT4gbGluZS5tYXAodG9rZW4gPT4gbWVyZ2VUb2tlbih0b2tlbiwgdGhlbWVzT3JkZXIsIGNzc1ZhcmlhYmxlUHJlZml4LCBkZWZhdWx0Q29sb3IpKSk7XG4gICAgICAgIGZnID0gdGhlbWVzLm1hcCgodCwgaWR4KSA9PiAoaWR4ID09PSAwICYmIGRlZmF1bHRDb2xvciA/ICcnIDogYCR7Y3NzVmFyaWFibGVQcmVmaXggKyB0LmNvbG9yfTpgKSArICh0aGVtZVJlZ3NbaWR4XS5mZyB8fCAnaW5oZXJpdCcpKS5qb2luKCc7Jyk7XG4gICAgICAgIGJnID0gdGhlbWVzLm1hcCgodCwgaWR4KSA9PiAoaWR4ID09PSAwICYmIGRlZmF1bHRDb2xvciA/ICcnIDogYCR7Y3NzVmFyaWFibGVQcmVmaXggKyB0LmNvbG9yfS1iZzpgKSArICh0aGVtZVJlZ3NbaWR4XS5iZyB8fCAnaW5oZXJpdCcpKS5qb2luKCc7Jyk7XG4gICAgICAgIHRoZW1lTmFtZSA9IGBzaGlraS10aGVtZXMgJHt0aGVtZVJlZ3MubWFwKHQgPT4gdC5uYW1lKS5qb2luKCcgJyl9YDtcbiAgICAgICAgcm9vdFN0eWxlID0gZGVmYXVsdENvbG9yID8gdW5kZWZpbmVkIDogW2ZnLCBiZ10uam9pbignOycpO1xuICAgIH1cbiAgICBlbHNlIGlmICgndGhlbWUnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdG9rZW5zID0gY29kZVRvVGhlbWVkVG9rZW5zKGludGVybmFsLCBpbnB1dCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVFeHBsYW5hdGlvbjogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBfdGhlbWUgPSBpbnRlcm5hbC5nZXRUaGVtZShvcHRpb25zLnRoZW1lKTtcbiAgICAgICAgYmcgPSBfdGhlbWUuYmc7XG4gICAgICAgIGZnID0gX3RoZW1lLmZnO1xuICAgICAgICB0aGVtZU5hbWUgPSBfdGhlbWUubmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW3NoaWtpamldIEludmFsaWQgb3B0aW9ucywgZWl0aGVyIGB0aGVtZWAgb3IgYHRoZW1lc2AgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBjb25zdCB7IG1lcmdlV2hpdGVzcGFjZXMgPSB0cnVlLCB9ID0gb3B0aW9ucztcbiAgICBpZiAobWVyZ2VXaGl0ZXNwYWNlcyA9PT0gdHJ1ZSlcbiAgICAgICAgdG9rZW5zID0gbWVyZ2VXaGl0ZXNwYWNlVG9rZW5zKHRva2Vucyk7XG4gICAgZWxzZSBpZiAobWVyZ2VXaGl0ZXNwYWNlcyA9PT0gJ25ldmVyJylcbiAgICAgICAgdG9rZW5zID0gc3BsaXRXaGl0ZXNwYWNlVG9rZW5zKHRva2Vucyk7XG4gICAgZm9yIChjb25zdCB0cmFuc2Zvcm1lciBvZiBvcHRpb25zLnRyYW5zZm9ybWVycyB8fCBbXSlcbiAgICAgICAgdG9rZW5zID0gdHJhbnNmb3JtZXIudG9rZW5zPy5jYWxsKHRyYW5zZm9ybWVyQ29udGV4dCwgdG9rZW5zKSB8fCB0b2tlbnM7XG4gICAgcmV0dXJuIHRva2Vuc1RvSGFzdCh0b2tlbnMsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZmcsXG4gICAgICAgIGJnLFxuICAgICAgICB0aGVtZU5hbWUsXG4gICAgICAgIHJvb3RTdHlsZSxcbiAgICB9LCB0cmFuc2Zvcm1lckNvbnRleHQpO1xufVxuZnVuY3Rpb24gbWVyZ2VUb2tlbihtZXJnZWQsIHZhcmlhbnRzT3JkZXIsIGNzc1ZhcmlhYmxlUHJlZml4LCBkZWZhdWx0Q29sb3IpIHtcbiAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgY29udGVudDogbWVyZ2VkLmNvbnRlbnQsXG4gICAgICAgIGV4cGxhbmF0aW9uOiBtZXJnZWQuZXhwbGFuYXRpb24sXG4gICAgICAgIG9mZnNldDogbWVyZ2VkLm9mZnNldCxcbiAgICB9O1xuICAgIGNvbnN0IHN0eWxlcyA9IHZhcmlhbnRzT3JkZXIubWFwKHQgPT4gZ2V0VG9rZW5TdHlsZU9iamVjdChtZXJnZWQudmFyaWFudHNbdF0pKTtcbiAgICAvLyBHZXQgYWxsIHN0eWxlIGtleXMsIGZvciB0aGVtZXMgdGhhdCBtaXNzaW5nIHNvbWUgc3R5bGUsIHdlIHB1dCBgaW5oZXJpdGAgdG8gb3ZlcnJpZGUgYXMgbmVlZGVkXG4gICAgY29uc3Qgc3R5bGVLZXlzID0gbmV3IFNldChzdHlsZXMuZmxhdE1hcCh0ID0+IE9iamVjdC5rZXlzKHQpKSk7XG4gICAgY29uc3QgbWVyZ2VkU3R5bGVzID0gc3R5bGVzLnJlZHVjZSgoYWNjLCBjdXIsIGlkeCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzdHlsZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3VyW2tleV0gfHwgJ2luaGVyaXQnO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCAmJiBkZWZhdWx0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyS2V5ID0gY3NzVmFyaWFibGVQcmVmaXggKyB2YXJpYW50c09yZGVyW2lkeF0gKyAoa2V5ID09PSAnY29sb3InID8gJycgOiBgLSR7a2V5fWApO1xuICAgICAgICAgICAgICAgIGlmIChhY2Nba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gKz0gYDske3ZhcktleX06JHt2YWx1ZX1gO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gPSBgJHt2YXJLZXl9OiR7dmFsdWV9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICB0b2tlbi5odG1sU3R5bGUgPSBkZWZhdWx0Q29sb3JcbiAgICAgICAgPyBzdHJpbmdpZnlUb2tlblN0eWxlKG1lcmdlZFN0eWxlcylcbiAgICAgICAgOiBPYmplY3QudmFsdWVzKG1lcmdlZFN0eWxlcykuam9pbignOycpO1xuICAgIHJldHVybiB0b2tlbjtcbn1cbmZ1bmN0aW9uIHRva2Vuc1RvSGFzdCh0b2tlbnMsIG9wdGlvbnMsIHRyYW5zZm9ybWVyQ29udGV4dCkge1xuICAgIGNvbnN0IHsgdHJhbnNmb3JtZXJzID0gW10sIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgY29uc3QgdHJlZSA9IHtcbiAgICAgICAgdHlwZTogJ3Jvb3QnLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgfTtcbiAgICBsZXQgcHJlTm9kZSA9IHtcbiAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICB0YWdOYW1lOiAncHJlJyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgY2xhc3M6IGBzaGlraSAke29wdGlvbnMudGhlbWVOYW1lIHx8ICcnfWAsXG4gICAgICAgICAgICBzdHlsZTogb3B0aW9ucy5yb290U3R5bGUgfHwgYGJhY2tncm91bmQtY29sb3I6JHtvcHRpb25zLmJnfTtjb2xvcjoke29wdGlvbnMuZmd9YCxcbiAgICAgICAgICAgIHRhYmluZGV4OiAnMCcsXG4gICAgICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShPYmplY3QuZW50cmllcyhvcHRpb25zLm1ldGEgfHwge30pKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtrZXldKSA9PiAha2V5LnN0YXJ0c1dpdGgoJ18nKSkpLFxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgfTtcbiAgICBsZXQgY29kZU5vZGUgPSB7XG4gICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgdGFnTmFtZTogJ2NvZGUnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgY2hpbGRyZW46IGxpbmVzLFxuICAgIH07XG4gICAgY29uc3QgbGluZU5vZGVzID0gW107XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgLi4udHJhbnNmb3JtZXJDb250ZXh0LFxuICAgICAgICBnZXQgdG9rZW5zKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHJvb3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJlZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHByZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVOb2RlO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29kZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2RlTm9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGxpbmVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVOb2RlcztcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHRva2Vucy5mb3JFYWNoKChsaW5lLCBpZHgpID0+IHtcbiAgICAgICAgaWYgKGlkeClcbiAgICAgICAgICAgIGxpbmVzLnB1c2goeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAnXFxuJyB9KTtcbiAgICAgICAgbGV0IGxpbmVOb2RlID0ge1xuICAgICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuICAgICAgICAgICAgcHJvcGVydGllczogeyBjbGFzczogJ2xpbmUnIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjb2wgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGxpbmUpIHtcbiAgICAgICAgICAgIGxldCB0b2tlbk5vZGUgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdHlwZTogJ3RleHQnLCB2YWx1ZTogdG9rZW4uY29udGVudCB9XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IHRva2VuLmh0bWxTdHlsZSB8fCBzdHJpbmdpZnlUb2tlblN0eWxlKGdldFRva2VuU3R5bGVPYmplY3QodG9rZW4pKTtcbiAgICAgICAgICAgIGlmIChzdHlsZSlcbiAgICAgICAgICAgICAgICB0b2tlbk5vZGUucHJvcGVydGllcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmFuc2Zvcm1lciBvZiB0cmFuc2Zvcm1lcnMpXG4gICAgICAgICAgICAgICAgdG9rZW5Ob2RlID0gKHRyYW5zZm9ybWVyPy5zcGFuIHx8IHRyYW5zZm9ybWVyPy50b2tlbik/LmNhbGwoY29udGV4dCwgdG9rZW5Ob2RlLCBpZHggKyAxLCBjb2wsIGxpbmVOb2RlKSB8fCB0b2tlbk5vZGU7XG4gICAgICAgICAgICBsaW5lTm9kZS5jaGlsZHJlbi5wdXNoKHRva2VuTm9kZSk7XG4gICAgICAgICAgICBjb2wgKz0gdG9rZW4uY29udGVudC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB0cmFuc2Zvcm1lciBvZiB0cmFuc2Zvcm1lcnMpXG4gICAgICAgICAgICBsaW5lTm9kZSA9IHRyYW5zZm9ybWVyPy5saW5lPy5jYWxsKGNvbnRleHQsIGxpbmVOb2RlLCBpZHggKyAxKSB8fCBsaW5lTm9kZTtcbiAgICAgICAgbGluZU5vZGVzLnB1c2gobGluZU5vZGUpO1xuICAgICAgICBsaW5lcy5wdXNoKGxpbmVOb2RlKTtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHRyYW5zZm9ybWVyIG9mIHRyYW5zZm9ybWVycylcbiAgICAgICAgY29kZU5vZGUgPSB0cmFuc2Zvcm1lcj8uY29kZT8uY2FsbChjb250ZXh0LCBjb2RlTm9kZSkgfHwgY29kZU5vZGU7XG4gICAgcHJlTm9kZS5jaGlsZHJlbi5wdXNoKGNvZGVOb2RlKTtcbiAgICBmb3IgKGNvbnN0IHRyYW5zZm9ybWVyIG9mIHRyYW5zZm9ybWVycylcbiAgICAgICAgcHJlTm9kZSA9IHRyYW5zZm9ybWVyPy5wcmU/LmNhbGwoY29udGV4dCwgcHJlTm9kZSkgfHwgcHJlTm9kZTtcbiAgICB0cmVlLmNoaWxkcmVuLnB1c2gocHJlTm9kZSk7XG4gICAgbGV0IHJlc3VsdCA9IHRyZWU7XG4gICAgZm9yIChjb25zdCB0cmFuc2Zvcm1lciBvZiB0cmFuc2Zvcm1lcnMpXG4gICAgICAgIHJlc3VsdCA9IHRyYW5zZm9ybWVyPy5yb290Py5jYWxsKGNvbnRleHQsIHJlc3VsdCkgfHwgcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRUb2tlblN0eWxlT2JqZWN0KHRva2VuKSB7XG4gICAgY29uc3Qgc3R5bGVzID0ge307XG4gICAgaWYgKHRva2VuLmNvbG9yKVxuICAgICAgICBzdHlsZXMuY29sb3IgPSB0b2tlbi5jb2xvcjtcbiAgICBpZiAodG9rZW4uZm9udFN0eWxlKSB7XG4gICAgICAgIGlmICh0b2tlbi5mb250U3R5bGUgJiBGb250U3R5bGUuSXRhbGljKVxuICAgICAgICAgICAgc3R5bGVzWydmb250LXN0eWxlJ10gPSAnaXRhbGljJztcbiAgICAgICAgaWYgKHRva2VuLmZvbnRTdHlsZSAmIEZvbnRTdHlsZS5Cb2xkKVxuICAgICAgICAgICAgc3R5bGVzWydmb250LXdlaWdodCddID0gJ2JvbGQnO1xuICAgICAgICBpZiAodG9rZW4uZm9udFN0eWxlICYgRm9udFN0eWxlLlVuZGVybGluZSlcbiAgICAgICAgICAgIHN0eWxlc1sndGV4dC1kZWNvcmF0aW9uJ10gPSAndW5kZXJsaW5lJztcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVRva2VuU3R5bGUodG9rZW4pIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModG9rZW4pLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9OiR7dmFsdWV9YCkuam9pbignOycpO1xufVxuZnVuY3Rpb24gbWVyZ2VXaGl0ZXNwYWNlVG9rZW5zKHRva2Vucykge1xuICAgIHJldHVybiB0b2tlbnMubWFwKChsaW5lKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0xpbmUgPSBbXTtcbiAgICAgICAgbGV0IGNhcnJ5T25Db250ZW50ID0gJyc7XG4gICAgICAgIGxldCBmaXJzdE9mZnNldCA9IDA7XG4gICAgICAgIGxpbmUuZm9yRWFjaCgodG9rZW4sIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNVbmRlcmxpbmUgPSB0b2tlbi5mb250U3R5bGUgJiYgdG9rZW4uZm9udFN0eWxlICYgRm9udFN0eWxlLlVuZGVybGluZTtcbiAgICAgICAgICAgIGNvbnN0IGNvdWxkTWVyZ2UgPSAhaXNVbmRlcmxpbmU7XG4gICAgICAgICAgICBpZiAoY291bGRNZXJnZSAmJiB0b2tlbi5jb250ZW50Lm1hdGNoKC9eXFxzKyQvKSAmJiBsaW5lW2lkeCArIDFdKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdE9mZnNldClcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RPZmZzZXQgPSB0b2tlbi5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgY2FycnlPbkNvbnRlbnQgKz0gdG9rZW4uY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjYXJyeU9uQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bGRNZXJnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TGluZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjYXJyeU9uQ29udGVudCArIHRva2VuLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpbmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogY2FycnlPbkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBmaXJzdE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXJyeU9uQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TGluZS5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3TGluZTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNwbGl0V2hpdGVzcGFjZVRva2Vucyh0b2tlbnMpIHtcbiAgICByZXR1cm4gdG9rZW5zLm1hcCgobGluZSkgPT4ge1xuICAgICAgICByZXR1cm4gbGluZS5mbGF0TWFwKCh0b2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKHRva2VuLmNvbnRlbnQubWF0Y2goL15cXHMrJC8pKVxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdG9rZW4uY29udGVudC5tYXRjaCgvXihcXHMqKSguKj8pKFxccyopJC8pO1xuICAgICAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICBjb25zdCBbLCBsZWFkaW5nLCBjb250ZW50LCB0cmFpbGluZ10gPSBtYXRjaDtcbiAgICAgICAgICAgIGlmICghbGVhZGluZyAmJiAhdHJhaWxpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgY29uc3QgZXhwYW5kZWQgPSBbe1xuICAgICAgICAgICAgICAgICAgICAuLi50b2tlbixcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0b2tlbi5vZmZzZXQgKyBsZWFkaW5nLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgIGlmIChsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWQudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGxlYWRpbmcsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogdG9rZW4ub2Zmc2V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYWlsaW5nKSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRyYWlsaW5nLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRva2VuLm9mZnNldCArIGxlYWRpbmcubGVuZ3RoICsgY29udGVudC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXhwYW5kZWQ7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIExpc3Qgb2YgSFRNTCB2b2lkIHRhZyBuYW1lcy5cbiAqXG4gKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAqL1xuY29uc3QgaHRtbFZvaWRFbGVtZW50cyA9IFtcbiAgJ2FyZWEnLFxuICAnYmFzZScsXG4gICdiYXNlZm9udCcsXG4gICdiZ3NvdW5kJyxcbiAgJ2JyJyxcbiAgJ2NvbCcsXG4gICdjb21tYW5kJyxcbiAgJ2VtYmVkJyxcbiAgJ2ZyYW1lJyxcbiAgJ2hyJyxcbiAgJ2ltYWdlJyxcbiAgJ2ltZycsXG4gICdpbnB1dCcsXG4gICdrZXlnZW4nLFxuICAnbGluaycsXG4gICdtZXRhJyxcbiAgJ3BhcmFtJyxcbiAgJ3NvdXJjZScsXG4gICd0cmFjaycsXG4gICd3YnInXG5dO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vaW5mby5qcycpLkluZm99IEluZm9cbiAqIEB0eXBlZGVmIHtSZWNvcmQ8c3RyaW5nLCBJbmZvPn0gUHJvcGVydGllc1xuICogQHR5cGVkZWYge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IE5vcm1hbFxuICovXG5cbmNsYXNzIFNjaGVtYSB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtQcm9wZXJ0aWVzfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge05vcm1hbH0gbm9ybWFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3BhY2VdXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eSwgbm9ybWFsLCBzcGFjZSkge1xuICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICB0aGlzLm5vcm1hbCA9IG5vcm1hbDtcbiAgICBpZiAoc3BhY2UpIHtcbiAgICAgIHRoaXMuc3BhY2UgPSBzcGFjZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqIEB0eXBlIHtQcm9wZXJ0aWVzfSAqL1xuU2NoZW1hLnByb3RvdHlwZS5wcm9wZXJ0eSA9IHt9O1xuLyoqIEB0eXBlIHtOb3JtYWx9ICovXG5TY2hlbWEucHJvdG90eXBlLm5vcm1hbCA9IHt9O1xuLyoqIEB0eXBlIHtzdHJpbmd8bnVsbH0gKi9cblNjaGVtYS5wcm90b3R5cGUuc3BhY2UgPSBudWxsO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vc2NoZW1hLmpzJykuUHJvcGVydGllc30gUHJvcGVydGllc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9zY2hlbWEuanMnKS5Ob3JtYWx9IE5vcm1hbFxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge1NjaGVtYVtdfSBkZWZpbml0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtzcGFjZV1cbiAqIEByZXR1cm5zIHtTY2hlbWF9XG4gKi9cbmZ1bmN0aW9uIG1lcmdlKGRlZmluaXRpb25zLCBzcGFjZSkge1xuICAvKiogQHR5cGUge1Byb3BlcnRpZXN9ICovXG4gIGNvbnN0IHByb3BlcnR5ID0ge307XG4gIC8qKiBAdHlwZSB7Tm9ybWFsfSAqL1xuICBjb25zdCBub3JtYWwgPSB7fTtcbiAgbGV0IGluZGV4ID0gLTE7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBkZWZpbml0aW9ucy5sZW5ndGgpIHtcbiAgICBPYmplY3QuYXNzaWduKHByb3BlcnR5LCBkZWZpbml0aW9uc1tpbmRleF0ucHJvcGVydHkpO1xuICAgIE9iamVjdC5hc3NpZ24obm9ybWFsLCBkZWZpbml0aW9uc1tpbmRleF0ubm9ybWFsKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU2NoZW1hKHByb3BlcnR5LCBub3JtYWwsIHNwYWNlKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpXG59XG5cbmNsYXNzIEluZm8ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eSwgYXR0cmlidXRlKSB7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXMuYXR0cmlidXRlID0gYXR0cmlidXRlO1xuICB9XG59XG5cbi8qKiBAdHlwZSB7c3RyaW5nfG51bGx9ICovXG5JbmZvLnByb3RvdHlwZS5zcGFjZSA9IG51bGw7XG5JbmZvLnByb3RvdHlwZS5ib29sZWFuID0gZmFsc2U7XG5JbmZvLnByb3RvdHlwZS5ib29sZWFuaXNoID0gZmFsc2U7XG5JbmZvLnByb3RvdHlwZS5vdmVybG9hZGVkQm9vbGVhbiA9IGZhbHNlO1xuSW5mby5wcm90b3R5cGUubnVtYmVyID0gZmFsc2U7XG5JbmZvLnByb3RvdHlwZS5jb21tYVNlcGFyYXRlZCA9IGZhbHNlO1xuSW5mby5wcm90b3R5cGUuc3BhY2VTZXBhcmF0ZWQgPSBmYWxzZTtcbkluZm8ucHJvdG90eXBlLmNvbW1hT3JTcGFjZVNlcGFyYXRlZCA9IGZhbHNlO1xuSW5mby5wcm90b3R5cGUubXVzdFVzZVByb3BlcnR5ID0gZmFsc2U7XG5JbmZvLnByb3RvdHlwZS5kZWZpbmVkID0gZmFsc2U7XG5cbmxldCBwb3dlcnMgPSAwO1xuXG5jb25zdCBib29sZWFuID0gaW5jcmVtZW50KCk7XG5jb25zdCBib29sZWFuaXNoID0gaW5jcmVtZW50KCk7XG5jb25zdCBvdmVybG9hZGVkQm9vbGVhbiA9IGluY3JlbWVudCgpO1xuY29uc3QgbnVtYmVyID0gaW5jcmVtZW50KCk7XG5jb25zdCBzcGFjZVNlcGFyYXRlZCA9IGluY3JlbWVudCgpO1xuY29uc3QgY29tbWFTZXBhcmF0ZWQgPSBpbmNyZW1lbnQoKTtcbmNvbnN0IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCA9IGluY3JlbWVudCgpO1xuXG5mdW5jdGlvbiBpbmNyZW1lbnQoKSB7XG4gIHJldHVybiAyICoqICsrcG93ZXJzXG59XG5cbnZhciB0eXBlcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBib29sZWFuOiBib29sZWFuLFxuICBib29sZWFuaXNoOiBib29sZWFuaXNoLFxuICBjb21tYU9yU3BhY2VTZXBhcmF0ZWQ6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgY29tbWFTZXBhcmF0ZWQ6IGNvbW1hU2VwYXJhdGVkLFxuICBudW1iZXI6IG51bWJlcixcbiAgb3ZlcmxvYWRlZEJvb2xlYW46IG92ZXJsb2FkZWRCb29sZWFuLFxuICBzcGFjZVNlcGFyYXRlZDogc3BhY2VTZXBhcmF0ZWRcbn0pO1xuXG4vKiogQHR5cGUge0FycmF5PGtleW9mIHR5cGVzPn0gKi9cbi8vIEB0cy1leHBlY3QtZXJyb3I6IGh1c2guXG5jb25zdCBjaGVja3MgPSBPYmplY3Qua2V5cyh0eXBlcyk7XG5cbmNsYXNzIERlZmluZWRJbmZvIGV4dGVuZHMgSW5mbyB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHtudW1iZXJ8bnVsbH0gW21hc2tdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3BhY2VdXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eSwgYXR0cmlidXRlLCBtYXNrLCBzcGFjZSkge1xuICAgIGxldCBpbmRleCA9IC0xO1xuXG4gICAgc3VwZXIocHJvcGVydHksIGF0dHJpYnV0ZSk7XG5cbiAgICBtYXJrKHRoaXMsICdzcGFjZScsIHNwYWNlKTtcblxuICAgIGlmICh0eXBlb2YgbWFzayA9PT0gJ251bWJlcicpIHtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgY2hlY2tzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjaGVjayA9IGNoZWNrc1tpbmRleF07XG4gICAgICAgIG1hcmsodGhpcywgY2hlY2tzW2luZGV4XSwgKG1hc2sgJiB0eXBlc1tjaGVja10pID09PSB0eXBlc1tjaGVja10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5EZWZpbmVkSW5mby5wcm90b3R5cGUuZGVmaW5lZCA9IHRydWU7XG5cbi8qKlxuICogQHBhcmFtIHtEZWZpbmVkSW5mb30gdmFsdWVzXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIG1hcmsodmFsdWVzLCBrZXksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGFzc3VtZSBgdmFsdWVgIG1hdGNoZXMgdGhlIGV4cGVjdGVkIHZhbHVlIG9mIGBrZXlgLlxuICAgIHZhbHVlc1trZXldID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL3NjaGVtYS5qcycpLlByb3BlcnRpZXN9IFByb3BlcnRpZXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vc2NoZW1hLmpzJykuTm9ybWFsfSBOb3JtYWxcbiAqXG4gKiBAdHlwZWRlZiB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gQXR0cmlidXRlc1xuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7UmVjb3JkPHN0cmluZywgbnVtYmVyfG51bGw+fSBwcm9wZXJ0aWVzXG4gKiBAcHJvcGVydHkgeyhhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzLCBwcm9wZXJ0eTogc3RyaW5nKSA9PiBzdHJpbmd9IHRyYW5zZm9ybVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzcGFjZV1cbiAqIEBwcm9wZXJ0eSB7QXR0cmlidXRlc30gW2F0dHJpYnV0ZXNdXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFttdXN0VXNlUHJvcGVydHldXG4gKi9cblxuXG5jb25zdCBvd24kMyA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEBwYXJhbSB7RGVmaW5pdGlvbn0gZGVmaW5pdGlvblxuICogQHJldHVybnMge1NjaGVtYX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlKGRlZmluaXRpb24pIHtcbiAgLyoqIEB0eXBlIHtQcm9wZXJ0aWVzfSAqL1xuICBjb25zdCBwcm9wZXJ0eSA9IHt9O1xuICAvKiogQHR5cGUge05vcm1hbH0gKi9cbiAgY29uc3Qgbm9ybWFsID0ge307XG4gIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICBsZXQgcHJvcDtcblxuICBmb3IgKHByb3AgaW4gZGVmaW5pdGlvbi5wcm9wZXJ0aWVzKSB7XG4gICAgaWYgKG93biQzLmNhbGwoZGVmaW5pdGlvbi5wcm9wZXJ0aWVzLCBwcm9wKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBkZWZpbml0aW9uLnByb3BlcnRpZXNbcHJvcF07XG4gICAgICBjb25zdCBpbmZvID0gbmV3IERlZmluZWRJbmZvKFxuICAgICAgICBwcm9wLFxuICAgICAgICBkZWZpbml0aW9uLnRyYW5zZm9ybShkZWZpbml0aW9uLmF0dHJpYnV0ZXMgfHwge30sIHByb3ApLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zcGFjZVxuICAgICAgKTtcblxuICAgICAgaWYgKFxuICAgICAgICBkZWZpbml0aW9uLm11c3RVc2VQcm9wZXJ0eSAmJlxuICAgICAgICBkZWZpbml0aW9uLm11c3RVc2VQcm9wZXJ0eS5pbmNsdWRlcyhwcm9wKVxuICAgICAgKSB7XG4gICAgICAgIGluZm8ubXVzdFVzZVByb3BlcnR5ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcHJvcGVydHlbcHJvcF0gPSBpbmZvO1xuXG4gICAgICBub3JtYWxbbm9ybWFsaXplKHByb3ApXSA9IHByb3A7XG4gICAgICBub3JtYWxbbm9ybWFsaXplKGluZm8uYXR0cmlidXRlKV0gPSBwcm9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgU2NoZW1hKHByb3BlcnR5LCBub3JtYWwsIGRlZmluaXRpb24uc3BhY2UpXG59XG5cbmNvbnN0IHhsaW5rID0gY3JlYXRlKHtcbiAgc3BhY2U6ICd4bGluaycsXG4gIHRyYW5zZm9ybShfLCBwcm9wKSB7XG4gICAgcmV0dXJuICd4bGluazonICsgcHJvcC5zbGljZSg1KS50b0xvd2VyQ2FzZSgpXG4gIH0sXG4gIHByb3BlcnRpZXM6IHtcbiAgICB4TGlua0FjdHVhdGU6IG51bGwsXG4gICAgeExpbmtBcmNSb2xlOiBudWxsLFxuICAgIHhMaW5rSHJlZjogbnVsbCxcbiAgICB4TGlua1JvbGU6IG51bGwsXG4gICAgeExpbmtTaG93OiBudWxsLFxuICAgIHhMaW5rVGl0bGU6IG51bGwsXG4gICAgeExpbmtUeXBlOiBudWxsXG4gIH1cbn0pO1xuXG5jb25zdCB4bWwgPSBjcmVhdGUoe1xuICBzcGFjZTogJ3htbCcsXG4gIHRyYW5zZm9ybShfLCBwcm9wKSB7XG4gICAgcmV0dXJuICd4bWw6JyArIHByb3Auc2xpY2UoMykudG9Mb3dlckNhc2UoKVxuICB9LFxuICBwcm9wZXJ0aWVzOiB7eG1sTGFuZzogbnVsbCwgeG1sQmFzZTogbnVsbCwgeG1sU3BhY2U6IG51bGx9XG59KTtcblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZz59IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNhc2VTZW5zaXRpdmVUcmFuc2Zvcm0oYXR0cmlidXRlcywgYXR0cmlidXRlKSB7XG4gIHJldHVybiBhdHRyaWJ1dGUgaW4gYXR0cmlidXRlcyA/IGF0dHJpYnV0ZXNbYXR0cmlidXRlXSA6IGF0dHJpYnV0ZVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gYXR0cmlidXRlc1xuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYXNlSW5zZW5zaXRpdmVUcmFuc2Zvcm0oYXR0cmlidXRlcywgcHJvcGVydHkpIHtcbiAgcmV0dXJuIGNhc2VTZW5zaXRpdmVUcmFuc2Zvcm0oYXR0cmlidXRlcywgcHJvcGVydHkudG9Mb3dlckNhc2UoKSlcbn1cblxuY29uc3QgeG1sbnMgPSBjcmVhdGUoe1xuICBzcGFjZTogJ3htbG5zJyxcbiAgYXR0cmlidXRlczoge3htbG5zeGxpbms6ICd4bWxuczp4bGluayd9LFxuICB0cmFuc2Zvcm06IGNhc2VJbnNlbnNpdGl2ZVRyYW5zZm9ybSxcbiAgcHJvcGVydGllczoge3htbG5zOiBudWxsLCB4bWxuc1hMaW5rOiBudWxsfVxufSk7XG5cbmNvbnN0IGFyaWEgPSBjcmVhdGUoe1xuICB0cmFuc2Zvcm0oXywgcHJvcCkge1xuICAgIHJldHVybiBwcm9wID09PSAncm9sZScgPyBwcm9wIDogJ2FyaWEtJyArIHByb3Auc2xpY2UoNCkudG9Mb3dlckNhc2UoKVxuICB9LFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgYXJpYUFjdGl2ZURlc2NlbmRhbnQ6IG51bGwsXG4gICAgYXJpYUF0b21pYzogYm9vbGVhbmlzaCxcbiAgICBhcmlhQXV0b0NvbXBsZXRlOiBudWxsLFxuICAgIGFyaWFCdXN5OiBib29sZWFuaXNoLFxuICAgIGFyaWFDaGVja2VkOiBib29sZWFuaXNoLFxuICAgIGFyaWFDb2xDb3VudDogbnVtYmVyLFxuICAgIGFyaWFDb2xJbmRleDogbnVtYmVyLFxuICAgIGFyaWFDb2xTcGFuOiBudW1iZXIsXG4gICAgYXJpYUNvbnRyb2xzOiBzcGFjZVNlcGFyYXRlZCxcbiAgICBhcmlhQ3VycmVudDogbnVsbCxcbiAgICBhcmlhRGVzY3JpYmVkQnk6IHNwYWNlU2VwYXJhdGVkLFxuICAgIGFyaWFEZXRhaWxzOiBudWxsLFxuICAgIGFyaWFEaXNhYmxlZDogYm9vbGVhbmlzaCxcbiAgICBhcmlhRHJvcEVmZmVjdDogc3BhY2VTZXBhcmF0ZWQsXG4gICAgYXJpYUVycm9yTWVzc2FnZTogbnVsbCxcbiAgICBhcmlhRXhwYW5kZWQ6IGJvb2xlYW5pc2gsXG4gICAgYXJpYUZsb3dUbzogc3BhY2VTZXBhcmF0ZWQsXG4gICAgYXJpYUdyYWJiZWQ6IGJvb2xlYW5pc2gsXG4gICAgYXJpYUhhc1BvcHVwOiBudWxsLFxuICAgIGFyaWFIaWRkZW46IGJvb2xlYW5pc2gsXG4gICAgYXJpYUludmFsaWQ6IG51bGwsXG4gICAgYXJpYUtleVNob3J0Y3V0czogbnVsbCxcbiAgICBhcmlhTGFiZWw6IG51bGwsXG4gICAgYXJpYUxhYmVsbGVkQnk6IHNwYWNlU2VwYXJhdGVkLFxuICAgIGFyaWFMZXZlbDogbnVtYmVyLFxuICAgIGFyaWFMaXZlOiBudWxsLFxuICAgIGFyaWFNb2RhbDogYm9vbGVhbmlzaCxcbiAgICBhcmlhTXVsdGlMaW5lOiBib29sZWFuaXNoLFxuICAgIGFyaWFNdWx0aVNlbGVjdGFibGU6IGJvb2xlYW5pc2gsXG4gICAgYXJpYU9yaWVudGF0aW9uOiBudWxsLFxuICAgIGFyaWFPd25zOiBzcGFjZVNlcGFyYXRlZCxcbiAgICBhcmlhUGxhY2Vob2xkZXI6IG51bGwsXG4gICAgYXJpYVBvc0luU2V0OiBudW1iZXIsXG4gICAgYXJpYVByZXNzZWQ6IGJvb2xlYW5pc2gsXG4gICAgYXJpYVJlYWRPbmx5OiBib29sZWFuaXNoLFxuICAgIGFyaWFSZWxldmFudDogbnVsbCxcbiAgICBhcmlhUmVxdWlyZWQ6IGJvb2xlYW5pc2gsXG4gICAgYXJpYVJvbGVEZXNjcmlwdGlvbjogc3BhY2VTZXBhcmF0ZWQsXG4gICAgYXJpYVJvd0NvdW50OiBudW1iZXIsXG4gICAgYXJpYVJvd0luZGV4OiBudW1iZXIsXG4gICAgYXJpYVJvd1NwYW46IG51bWJlcixcbiAgICBhcmlhU2VsZWN0ZWQ6IGJvb2xlYW5pc2gsXG4gICAgYXJpYVNldFNpemU6IG51bWJlcixcbiAgICBhcmlhU29ydDogbnVsbCxcbiAgICBhcmlhVmFsdWVNYXg6IG51bWJlcixcbiAgICBhcmlhVmFsdWVNaW46IG51bWJlcixcbiAgICBhcmlhVmFsdWVOb3c6IG51bWJlcixcbiAgICBhcmlhVmFsdWVUZXh0OiBudWxsLFxuICAgIHJvbGU6IG51bGxcbiAgfVxufSk7XG5cbmNvbnN0IGh0bWwkMyA9IGNyZWF0ZSh7XG4gIHNwYWNlOiAnaHRtbCcsXG4gIGF0dHJpYnV0ZXM6IHtcbiAgICBhY2NlcHRjaGFyc2V0OiAnYWNjZXB0LWNoYXJzZXQnLFxuICAgIGNsYXNzbmFtZTogJ2NsYXNzJyxcbiAgICBodG1sZm9yOiAnZm9yJyxcbiAgICBodHRwZXF1aXY6ICdodHRwLWVxdWl2J1xuICB9LFxuICB0cmFuc2Zvcm06IGNhc2VJbnNlbnNpdGl2ZVRyYW5zZm9ybSxcbiAgbXVzdFVzZVByb3BlcnR5OiBbJ2NoZWNrZWQnLCAnbXVsdGlwbGUnLCAnbXV0ZWQnLCAnc2VsZWN0ZWQnXSxcbiAgcHJvcGVydGllczoge1xuICAgIC8vIFN0YW5kYXJkIFByb3BlcnRpZXMuXG4gICAgYWJicjogbnVsbCxcbiAgICBhY2NlcHQ6IGNvbW1hU2VwYXJhdGVkLFxuICAgIGFjY2VwdENoYXJzZXQ6IHNwYWNlU2VwYXJhdGVkLFxuICAgIGFjY2Vzc0tleTogc3BhY2VTZXBhcmF0ZWQsXG4gICAgYWN0aW9uOiBudWxsLFxuICAgIGFsbG93OiBudWxsLFxuICAgIGFsbG93RnVsbFNjcmVlbjogYm9vbGVhbixcbiAgICBhbGxvd1BheW1lbnRSZXF1ZXN0OiBib29sZWFuLFxuICAgIGFsbG93VXNlck1lZGlhOiBib29sZWFuLFxuICAgIGFsdDogbnVsbCxcbiAgICBhczogbnVsbCxcbiAgICBhc3luYzogYm9vbGVhbixcbiAgICBhdXRvQ2FwaXRhbGl6ZTogbnVsbCxcbiAgICBhdXRvQ29tcGxldGU6IHNwYWNlU2VwYXJhdGVkLFxuICAgIGF1dG9Gb2N1czogYm9vbGVhbixcbiAgICBhdXRvUGxheTogYm9vbGVhbixcbiAgICBjYXB0dXJlOiBib29sZWFuLFxuICAgIGNoYXJTZXQ6IG51bGwsXG4gICAgY2hlY2tlZDogYm9vbGVhbixcbiAgICBjaXRlOiBudWxsLFxuICAgIGNsYXNzTmFtZTogc3BhY2VTZXBhcmF0ZWQsXG4gICAgY29sczogbnVtYmVyLFxuICAgIGNvbFNwYW46IG51bGwsXG4gICAgY29udGVudDogbnVsbCxcbiAgICBjb250ZW50RWRpdGFibGU6IGJvb2xlYW5pc2gsXG4gICAgY29udHJvbHM6IGJvb2xlYW4sXG4gICAgY29udHJvbHNMaXN0OiBzcGFjZVNlcGFyYXRlZCxcbiAgICBjb29yZHM6IG51bWJlciB8IGNvbW1hU2VwYXJhdGVkLFxuICAgIGNyb3NzT3JpZ2luOiBudWxsLFxuICAgIGRhdGE6IG51bGwsXG4gICAgZGF0ZVRpbWU6IG51bGwsXG4gICAgZGVjb2Rpbmc6IG51bGwsXG4gICAgZGVmYXVsdDogYm9vbGVhbixcbiAgICBkZWZlcjogYm9vbGVhbixcbiAgICBkaXI6IG51bGwsXG4gICAgZGlyTmFtZTogbnVsbCxcbiAgICBkaXNhYmxlZDogYm9vbGVhbixcbiAgICBkb3dubG9hZDogb3ZlcmxvYWRlZEJvb2xlYW4sXG4gICAgZHJhZ2dhYmxlOiBib29sZWFuaXNoLFxuICAgIGVuY1R5cGU6IG51bGwsXG4gICAgZW50ZXJLZXlIaW50OiBudWxsLFxuICAgIGZvcm06IG51bGwsXG4gICAgZm9ybUFjdGlvbjogbnVsbCxcbiAgICBmb3JtRW5jVHlwZTogbnVsbCxcbiAgICBmb3JtTWV0aG9kOiBudWxsLFxuICAgIGZvcm1Ob1ZhbGlkYXRlOiBib29sZWFuLFxuICAgIGZvcm1UYXJnZXQ6IG51bGwsXG4gICAgaGVhZGVyczogc3BhY2VTZXBhcmF0ZWQsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgaGlkZGVuOiBib29sZWFuLFxuICAgIGhpZ2g6IG51bWJlcixcbiAgICBocmVmOiBudWxsLFxuICAgIGhyZWZMYW5nOiBudWxsLFxuICAgIGh0bWxGb3I6IHNwYWNlU2VwYXJhdGVkLFxuICAgIGh0dHBFcXVpdjogc3BhY2VTZXBhcmF0ZWQsXG4gICAgaWQ6IG51bGwsXG4gICAgaW1hZ2VTaXplczogbnVsbCxcbiAgICBpbWFnZVNyY1NldDogbnVsbCxcbiAgICBpbnB1dE1vZGU6IG51bGwsXG4gICAgaW50ZWdyaXR5OiBudWxsLFxuICAgIGlzOiBudWxsLFxuICAgIGlzTWFwOiBib29sZWFuLFxuICAgIGl0ZW1JZDogbnVsbCxcbiAgICBpdGVtUHJvcDogc3BhY2VTZXBhcmF0ZWQsXG4gICAgaXRlbVJlZjogc3BhY2VTZXBhcmF0ZWQsXG4gICAgaXRlbVNjb3BlOiBib29sZWFuLFxuICAgIGl0ZW1UeXBlOiBzcGFjZVNlcGFyYXRlZCxcbiAgICBraW5kOiBudWxsLFxuICAgIGxhYmVsOiBudWxsLFxuICAgIGxhbmc6IG51bGwsXG4gICAgbGFuZ3VhZ2U6IG51bGwsXG4gICAgbGlzdDogbnVsbCxcbiAgICBsb2FkaW5nOiBudWxsLFxuICAgIGxvb3A6IGJvb2xlYW4sXG4gICAgbG93OiBudW1iZXIsXG4gICAgbWFuaWZlc3Q6IG51bGwsXG4gICAgbWF4OiBudWxsLFxuICAgIG1heExlbmd0aDogbnVtYmVyLFxuICAgIG1lZGlhOiBudWxsLFxuICAgIG1ldGhvZDogbnVsbCxcbiAgICBtaW46IG51bGwsXG4gICAgbWluTGVuZ3RoOiBudW1iZXIsXG4gICAgbXVsdGlwbGU6IGJvb2xlYW4sXG4gICAgbXV0ZWQ6IGJvb2xlYW4sXG4gICAgbmFtZTogbnVsbCxcbiAgICBub25jZTogbnVsbCxcbiAgICBub01vZHVsZTogYm9vbGVhbixcbiAgICBub1ZhbGlkYXRlOiBib29sZWFuLFxuICAgIG9uQWJvcnQ6IG51bGwsXG4gICAgb25BZnRlclByaW50OiBudWxsLFxuICAgIG9uQXV4Q2xpY2s6IG51bGwsXG4gICAgb25CZWZvcmVNYXRjaDogbnVsbCxcbiAgICBvbkJlZm9yZVByaW50OiBudWxsLFxuICAgIG9uQmVmb3JlVW5sb2FkOiBudWxsLFxuICAgIG9uQmx1cjogbnVsbCxcbiAgICBvbkNhbmNlbDogbnVsbCxcbiAgICBvbkNhblBsYXk6IG51bGwsXG4gICAgb25DYW5QbGF5VGhyb3VnaDogbnVsbCxcbiAgICBvbkNoYW5nZTogbnVsbCxcbiAgICBvbkNsaWNrOiBudWxsLFxuICAgIG9uQ2xvc2U6IG51bGwsXG4gICAgb25Db250ZXh0TG9zdDogbnVsbCxcbiAgICBvbkNvbnRleHRNZW51OiBudWxsLFxuICAgIG9uQ29udGV4dFJlc3RvcmVkOiBudWxsLFxuICAgIG9uQ29weTogbnVsbCxcbiAgICBvbkN1ZUNoYW5nZTogbnVsbCxcbiAgICBvbkN1dDogbnVsbCxcbiAgICBvbkRibENsaWNrOiBudWxsLFxuICAgIG9uRHJhZzogbnVsbCxcbiAgICBvbkRyYWdFbmQ6IG51bGwsXG4gICAgb25EcmFnRW50ZXI6IG51bGwsXG4gICAgb25EcmFnRXhpdDogbnVsbCxcbiAgICBvbkRyYWdMZWF2ZTogbnVsbCxcbiAgICBvbkRyYWdPdmVyOiBudWxsLFxuICAgIG9uRHJhZ1N0YXJ0OiBudWxsLFxuICAgIG9uRHJvcDogbnVsbCxcbiAgICBvbkR1cmF0aW9uQ2hhbmdlOiBudWxsLFxuICAgIG9uRW1wdGllZDogbnVsbCxcbiAgICBvbkVuZGVkOiBudWxsLFxuICAgIG9uRXJyb3I6IG51bGwsXG4gICAgb25Gb2N1czogbnVsbCxcbiAgICBvbkZvcm1EYXRhOiBudWxsLFxuICAgIG9uSGFzaENoYW5nZTogbnVsbCxcbiAgICBvbklucHV0OiBudWxsLFxuICAgIG9uSW52YWxpZDogbnVsbCxcbiAgICBvbktleURvd246IG51bGwsXG4gICAgb25LZXlQcmVzczogbnVsbCxcbiAgICBvbktleVVwOiBudWxsLFxuICAgIG9uTGFuZ3VhZ2VDaGFuZ2U6IG51bGwsXG4gICAgb25Mb2FkOiBudWxsLFxuICAgIG9uTG9hZGVkRGF0YTogbnVsbCxcbiAgICBvbkxvYWRlZE1ldGFkYXRhOiBudWxsLFxuICAgIG9uTG9hZEVuZDogbnVsbCxcbiAgICBvbkxvYWRTdGFydDogbnVsbCxcbiAgICBvbk1lc3NhZ2U6IG51bGwsXG4gICAgb25NZXNzYWdlRXJyb3I6IG51bGwsXG4gICAgb25Nb3VzZURvd246IG51bGwsXG4gICAgb25Nb3VzZUVudGVyOiBudWxsLFxuICAgIG9uTW91c2VMZWF2ZTogbnVsbCxcbiAgICBvbk1vdXNlTW92ZTogbnVsbCxcbiAgICBvbk1vdXNlT3V0OiBudWxsLFxuICAgIG9uTW91c2VPdmVyOiBudWxsLFxuICAgIG9uTW91c2VVcDogbnVsbCxcbiAgICBvbk9mZmxpbmU6IG51bGwsXG4gICAgb25PbmxpbmU6IG51bGwsXG4gICAgb25QYWdlSGlkZTogbnVsbCxcbiAgICBvblBhZ2VTaG93OiBudWxsLFxuICAgIG9uUGFzdGU6IG51bGwsXG4gICAgb25QYXVzZTogbnVsbCxcbiAgICBvblBsYXk6IG51bGwsXG4gICAgb25QbGF5aW5nOiBudWxsLFxuICAgIG9uUG9wU3RhdGU6IG51bGwsXG4gICAgb25Qcm9ncmVzczogbnVsbCxcbiAgICBvblJhdGVDaGFuZ2U6IG51bGwsXG4gICAgb25SZWplY3Rpb25IYW5kbGVkOiBudWxsLFxuICAgIG9uUmVzZXQ6IG51bGwsXG4gICAgb25SZXNpemU6IG51bGwsXG4gICAgb25TY3JvbGw6IG51bGwsXG4gICAgb25TY3JvbGxFbmQ6IG51bGwsXG4gICAgb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbjogbnVsbCxcbiAgICBvblNlZWtlZDogbnVsbCxcbiAgICBvblNlZWtpbmc6IG51bGwsXG4gICAgb25TZWxlY3Q6IG51bGwsXG4gICAgb25TbG90Q2hhbmdlOiBudWxsLFxuICAgIG9uU3RhbGxlZDogbnVsbCxcbiAgICBvblN0b3JhZ2U6IG51bGwsXG4gICAgb25TdWJtaXQ6IG51bGwsXG4gICAgb25TdXNwZW5kOiBudWxsLFxuICAgIG9uVGltZVVwZGF0ZTogbnVsbCxcbiAgICBvblRvZ2dsZTogbnVsbCxcbiAgICBvblVuaGFuZGxlZFJlamVjdGlvbjogbnVsbCxcbiAgICBvblVubG9hZDogbnVsbCxcbiAgICBvblZvbHVtZUNoYW5nZTogbnVsbCxcbiAgICBvbldhaXRpbmc6IG51bGwsXG4gICAgb25XaGVlbDogbnVsbCxcbiAgICBvcGVuOiBib29sZWFuLFxuICAgIG9wdGltdW06IG51bWJlcixcbiAgICBwYXR0ZXJuOiBudWxsLFxuICAgIHBpbmc6IHNwYWNlU2VwYXJhdGVkLFxuICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgIHBsYXlzSW5saW5lOiBib29sZWFuLFxuICAgIHBvc3RlcjogbnVsbCxcbiAgICBwcmVsb2FkOiBudWxsLFxuICAgIHJlYWRPbmx5OiBib29sZWFuLFxuICAgIHJlZmVycmVyUG9saWN5OiBudWxsLFxuICAgIHJlbDogc3BhY2VTZXBhcmF0ZWQsXG4gICAgcmVxdWlyZWQ6IGJvb2xlYW4sXG4gICAgcmV2ZXJzZWQ6IGJvb2xlYW4sXG4gICAgcm93czogbnVtYmVyLFxuICAgIHJvd1NwYW46IG51bWJlcixcbiAgICBzYW5kYm94OiBzcGFjZVNlcGFyYXRlZCxcbiAgICBzY29wZTogbnVsbCxcbiAgICBzY29wZWQ6IGJvb2xlYW4sXG4gICAgc2VhbWxlc3M6IGJvb2xlYW4sXG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW4sXG4gICAgc2hhcGU6IG51bGwsXG4gICAgc2l6ZTogbnVtYmVyLFxuICAgIHNpemVzOiBudWxsLFxuICAgIHNsb3Q6IG51bGwsXG4gICAgc3BhbjogbnVtYmVyLFxuICAgIHNwZWxsQ2hlY2s6IGJvb2xlYW5pc2gsXG4gICAgc3JjOiBudWxsLFxuICAgIHNyY0RvYzogbnVsbCxcbiAgICBzcmNMYW5nOiBudWxsLFxuICAgIHNyY1NldDogbnVsbCxcbiAgICBzdGFydDogbnVtYmVyLFxuICAgIHN0ZXA6IG51bGwsXG4gICAgc3R5bGU6IG51bGwsXG4gICAgdGFiSW5kZXg6IG51bWJlcixcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgdHJhbnNsYXRlOiBudWxsLFxuICAgIHR5cGU6IG51bGwsXG4gICAgdHlwZU11c3RNYXRjaDogYm9vbGVhbixcbiAgICB1c2VNYXA6IG51bGwsXG4gICAgdmFsdWU6IGJvb2xlYW5pc2gsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICB3cmFwOiBudWxsLFxuXG4gICAgLy8gTGVnYWN5LlxuICAgIC8vIFNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jb3RoZXItZWxlbWVudHMsLWF0dHJpYnV0ZXMtYW5kLWFwaXNcbiAgICBhbGlnbjogbnVsbCwgLy8gU2V2ZXJhbC4gVXNlIENTUyBgdGV4dC1hbGlnbmAgaW5zdGVhZCxcbiAgICBhTGluazogbnVsbCwgLy8gYDxib2R5PmAuIFVzZSBDU1MgYGE6YWN0aXZlIHtjb2xvcn1gIGluc3RlYWRcbiAgICBhcmNoaXZlOiBzcGFjZVNlcGFyYXRlZCwgLy8gYDxvYmplY3Q+YC4gTGlzdCBvZiBVUklzIHRvIGFyY2hpdmVzXG4gICAgYXhpczogbnVsbCwgLy8gYDx0ZD5gIGFuZCBgPHRoPmAuIFVzZSBgc2NvcGVgIG9uIGA8dGg+YFxuICAgIGJhY2tncm91bmQ6IG51bGwsIC8vIGA8Ym9keT5gLiBVc2UgQ1NTIGBiYWNrZ3JvdW5kLWltYWdlYCBpbnN0ZWFkXG4gICAgYmdDb2xvcjogbnVsbCwgLy8gYDxib2R5PmAgYW5kIHRhYmxlIGVsZW1lbnRzLiBVc2UgQ1NTIGBiYWNrZ3JvdW5kLWNvbG9yYCBpbnN0ZWFkXG4gICAgYm9yZGVyOiBudW1iZXIsIC8vIGA8dGFibGU+YC4gVXNlIENTUyBgYm9yZGVyLXdpZHRoYCBpbnN0ZWFkLFxuICAgIGJvcmRlckNvbG9yOiBudWxsLCAvLyBgPHRhYmxlPmAuIFVzZSBDU1MgYGJvcmRlci1jb2xvcmAgaW5zdGVhZCxcbiAgICBib3R0b21NYXJnaW46IG51bWJlciwgLy8gYDxib2R5PmBcbiAgICBjZWxsUGFkZGluZzogbnVsbCwgLy8gYDx0YWJsZT5gXG4gICAgY2VsbFNwYWNpbmc6IG51bGwsIC8vIGA8dGFibGU+YFxuICAgIGNoYXI6IG51bGwsIC8vIFNldmVyYWwgdGFibGUgZWxlbWVudHMuIFdoZW4gYGFsaWduPWNoYXJgLCBzZXRzIHRoZSBjaGFyYWN0ZXIgdG8gYWxpZ24gb25cbiAgICBjaGFyT2ZmOiBudWxsLCAvLyBTZXZlcmFsIHRhYmxlIGVsZW1lbnRzLiBXaGVuIGBjaGFyYCwgb2Zmc2V0cyB0aGUgYWxpZ25tZW50XG4gICAgY2xhc3NJZDogbnVsbCwgLy8gYDxvYmplY3Q+YFxuICAgIGNsZWFyOiBudWxsLCAvLyBgPGJyPmAuIFVzZSBDU1MgYGNsZWFyYCBpbnN0ZWFkXG4gICAgY29kZTogbnVsbCwgLy8gYDxvYmplY3Q+YFxuICAgIGNvZGVCYXNlOiBudWxsLCAvLyBgPG9iamVjdD5gXG4gICAgY29kZVR5cGU6IG51bGwsIC8vIGA8b2JqZWN0PmBcbiAgICBjb2xvcjogbnVsbCwgLy8gYDxmb250PmAgYW5kIGA8aHI+YC4gVXNlIENTUyBpbnN0ZWFkXG4gICAgY29tcGFjdDogYm9vbGVhbiwgLy8gTGlzdHMuIFVzZSBDU1MgdG8gcmVkdWNlIHNwYWNlIGJldHdlZW4gaXRlbXMgaW5zdGVhZFxuICAgIGRlY2xhcmU6IGJvb2xlYW4sIC8vIGA8b2JqZWN0PmBcbiAgICBldmVudDogbnVsbCwgLy8gYDxzY3JpcHQ+YFxuICAgIGZhY2U6IG51bGwsIC8vIGA8Zm9udD5gLiBVc2UgQ1NTIGluc3RlYWRcbiAgICBmcmFtZTogbnVsbCwgLy8gYDx0YWJsZT5gXG4gICAgZnJhbWVCb3JkZXI6IG51bGwsIC8vIGA8aWZyYW1lPmAuIFVzZSBDU1MgYGJvcmRlcmAgaW5zdGVhZFxuICAgIGhTcGFjZTogbnVtYmVyLCAvLyBgPGltZz5gIGFuZCBgPG9iamVjdD5gXG4gICAgbGVmdE1hcmdpbjogbnVtYmVyLCAvLyBgPGJvZHk+YFxuICAgIGxpbms6IG51bGwsIC8vIGA8Ym9keT5gLiBVc2UgQ1NTIGBhOmxpbmsge2NvbG9yOiAqfWAgaW5zdGVhZFxuICAgIGxvbmdEZXNjOiBudWxsLCAvLyBgPGZyYW1lPmAsIGA8aWZyYW1lPmAsIGFuZCBgPGltZz5gLiBVc2UgYW4gYDxhPmBcbiAgICBsb3dTcmM6IG51bGwsIC8vIGA8aW1nPmAuIFVzZSBhIGA8cGljdHVyZT5gXG4gICAgbWFyZ2luSGVpZ2h0OiBudW1iZXIsIC8vIGA8Ym9keT5gXG4gICAgbWFyZ2luV2lkdGg6IG51bWJlciwgLy8gYDxib2R5PmBcbiAgICBub1Jlc2l6ZTogYm9vbGVhbiwgLy8gYDxmcmFtZT5gXG4gICAgbm9IcmVmOiBib29sZWFuLCAvLyBgPGFyZWE+YC4gVXNlIG5vIGhyZWYgaW5zdGVhZCBvZiBhbiBleHBsaWNpdCBgbm9ocmVmYFxuICAgIG5vU2hhZGU6IGJvb2xlYW4sIC8vIGA8aHI+YC4gVXNlIGJhY2tncm91bmQtY29sb3IgYW5kIGhlaWdodCBpbnN0ZWFkIG9mIGJvcmRlcnNcbiAgICBub1dyYXA6IGJvb2xlYW4sIC8vIGA8dGQ+YCBhbmQgYDx0aD5gXG4gICAgb2JqZWN0OiBudWxsLCAvLyBgPGFwcGxldD5gXG4gICAgcHJvZmlsZTogbnVsbCwgLy8gYDxoZWFkPmBcbiAgICBwcm9tcHQ6IG51bGwsIC8vIGA8aXNpbmRleD5gXG4gICAgcmV2OiBudWxsLCAvLyBgPGxpbms+YFxuICAgIHJpZ2h0TWFyZ2luOiBudW1iZXIsIC8vIGA8Ym9keT5gXG4gICAgcnVsZXM6IG51bGwsIC8vIGA8dGFibGU+YFxuICAgIHNjaGVtZTogbnVsbCwgLy8gYDxtZXRhPmBcbiAgICBzY3JvbGxpbmc6IGJvb2xlYW5pc2gsIC8vIGA8ZnJhbWU+YC4gVXNlIG92ZXJmbG93IGluIHRoZSBjaGlsZCBjb250ZXh0XG4gICAgc3RhbmRieTogbnVsbCwgLy8gYDxvYmplY3Q+YFxuICAgIHN1bW1hcnk6IG51bGwsIC8vIGA8dGFibGU+YFxuICAgIHRleHQ6IG51bGwsIC8vIGA8Ym9keT5gLiBVc2UgQ1NTIGBjb2xvcmAgaW5zdGVhZFxuICAgIHRvcE1hcmdpbjogbnVtYmVyLCAvLyBgPGJvZHk+YFxuICAgIHZhbHVlVHlwZTogbnVsbCwgLy8gYDxwYXJhbT5gXG4gICAgdmVyc2lvbjogbnVsbCwgLy8gYDxodG1sPmAuIFVzZSBhIGRvY3R5cGUuXG4gICAgdkFsaWduOiBudWxsLCAvLyBTZXZlcmFsLiBVc2UgQ1NTIGB2ZXJ0aWNhbC1hbGlnbmAgaW5zdGVhZFxuICAgIHZMaW5rOiBudWxsLCAvLyBgPGJvZHk+YC4gVXNlIENTUyBgYTp2aXNpdGVkIHtjb2xvcn1gIGluc3RlYWRcbiAgICB2U3BhY2U6IG51bWJlciwgLy8gYDxpbWc+YCBhbmQgYDxvYmplY3Q+YFxuXG4gICAgLy8gTm9uLXN0YW5kYXJkIFByb3BlcnRpZXMuXG4gICAgYWxsb3dUcmFuc3BhcmVuY3k6IG51bGwsXG4gICAgYXV0b0NvcnJlY3Q6IG51bGwsXG4gICAgYXV0b1NhdmU6IG51bGwsXG4gICAgZGlzYWJsZVBpY3R1cmVJblBpY3R1cmU6IGJvb2xlYW4sXG4gICAgZGlzYWJsZVJlbW90ZVBsYXliYWNrOiBib29sZWFuLFxuICAgIHByZWZpeDogbnVsbCxcbiAgICBwcm9wZXJ0eTogbnVsbCxcbiAgICByZXN1bHRzOiBudW1iZXIsXG4gICAgc2VjdXJpdHk6IG51bGwsXG4gICAgdW5zZWxlY3RhYmxlOiBudWxsXG4gIH1cbn0pO1xuXG5jb25zdCBzdmckMSA9IGNyZWF0ZSh7XG4gIHNwYWNlOiAnc3ZnJyxcbiAgYXR0cmlidXRlczoge1xuICAgIGFjY2VudEhlaWdodDogJ2FjY2VudC1oZWlnaHQnLFxuICAgIGFsaWdubWVudEJhc2VsaW5lOiAnYWxpZ25tZW50LWJhc2VsaW5lJyxcbiAgICBhcmFiaWNGb3JtOiAnYXJhYmljLWZvcm0nLFxuICAgIGJhc2VsaW5lU2hpZnQ6ICdiYXNlbGluZS1zaGlmdCcsXG4gICAgY2FwSGVpZ2h0OiAnY2FwLWhlaWdodCcsXG4gICAgY2xhc3NOYW1lOiAnY2xhc3MnLFxuICAgIGNsaXBQYXRoOiAnY2xpcC1wYXRoJyxcbiAgICBjbGlwUnVsZTogJ2NsaXAtcnVsZScsXG4gICAgY29sb3JJbnRlcnBvbGF0aW9uOiAnY29sb3ItaW50ZXJwb2xhdGlvbicsXG4gICAgY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyczogJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycycsXG4gICAgY29sb3JQcm9maWxlOiAnY29sb3ItcHJvZmlsZScsXG4gICAgY29sb3JSZW5kZXJpbmc6ICdjb2xvci1yZW5kZXJpbmcnLFxuICAgIGNyb3NzT3JpZ2luOiAnY3Jvc3NvcmlnaW4nLFxuICAgIGRhdGFUeXBlOiAnZGF0YXR5cGUnLFxuICAgIGRvbWluYW50QmFzZWxpbmU6ICdkb21pbmFudC1iYXNlbGluZScsXG4gICAgZW5hYmxlQmFja2dyb3VuZDogJ2VuYWJsZS1iYWNrZ3JvdW5kJyxcbiAgICBmaWxsT3BhY2l0eTogJ2ZpbGwtb3BhY2l0eScsXG4gICAgZmlsbFJ1bGU6ICdmaWxsLXJ1bGUnLFxuICAgIGZsb29kQ29sb3I6ICdmbG9vZC1jb2xvcicsXG4gICAgZmxvb2RPcGFjaXR5OiAnZmxvb2Qtb3BhY2l0eScsXG4gICAgZm9udEZhbWlseTogJ2ZvbnQtZmFtaWx5JyxcbiAgICBmb250U2l6ZTogJ2ZvbnQtc2l6ZScsXG4gICAgZm9udFNpemVBZGp1c3Q6ICdmb250LXNpemUtYWRqdXN0JyxcbiAgICBmb250U3RyZXRjaDogJ2ZvbnQtc3RyZXRjaCcsXG4gICAgZm9udFN0eWxlOiAnZm9udC1zdHlsZScsXG4gICAgZm9udFZhcmlhbnQ6ICdmb250LXZhcmlhbnQnLFxuICAgIGZvbnRXZWlnaHQ6ICdmb250LXdlaWdodCcsXG4gICAgZ2x5cGhOYW1lOiAnZ2x5cGgtbmFtZScsXG4gICAgZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWw6ICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJyxcbiAgICBnbHlwaE9yaWVudGF0aW9uVmVydGljYWw6ICdnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCcsXG4gICAgaHJlZkxhbmc6ICdocmVmbGFuZycsXG4gICAgaG9yaXpBZHZYOiAnaG9yaXotYWR2LXgnLFxuICAgIGhvcml6T3JpZ2luWDogJ2hvcml6LW9yaWdpbi14JyxcbiAgICBob3Jpek9yaWdpblk6ICdob3Jpei1vcmlnaW4teScsXG4gICAgaW1hZ2VSZW5kZXJpbmc6ICdpbWFnZS1yZW5kZXJpbmcnLFxuICAgIGxldHRlclNwYWNpbmc6ICdsZXR0ZXItc3BhY2luZycsXG4gICAgbGlnaHRpbmdDb2xvcjogJ2xpZ2h0aW5nLWNvbG9yJyxcbiAgICBtYXJrZXJFbmQ6ICdtYXJrZXItZW5kJyxcbiAgICBtYXJrZXJNaWQ6ICdtYXJrZXItbWlkJyxcbiAgICBtYXJrZXJTdGFydDogJ21hcmtlci1zdGFydCcsXG4gICAgbmF2RG93bjogJ25hdi1kb3duJyxcbiAgICBuYXZEb3duTGVmdDogJ25hdi1kb3duLWxlZnQnLFxuICAgIG5hdkRvd25SaWdodDogJ25hdi1kb3duLXJpZ2h0JyxcbiAgICBuYXZMZWZ0OiAnbmF2LWxlZnQnLFxuICAgIG5hdk5leHQ6ICduYXYtbmV4dCcsXG4gICAgbmF2UHJldjogJ25hdi1wcmV2JyxcbiAgICBuYXZSaWdodDogJ25hdi1yaWdodCcsXG4gICAgbmF2VXA6ICduYXYtdXAnLFxuICAgIG5hdlVwTGVmdDogJ25hdi11cC1sZWZ0JyxcbiAgICBuYXZVcFJpZ2h0OiAnbmF2LXVwLXJpZ2h0JyxcbiAgICBvbkFib3J0OiAnb25hYm9ydCcsXG4gICAgb25BY3RpdmF0ZTogJ29uYWN0aXZhdGUnLFxuICAgIG9uQWZ0ZXJQcmludDogJ29uYWZ0ZXJwcmludCcsXG4gICAgb25CZWZvcmVQcmludDogJ29uYmVmb3JlcHJpbnQnLFxuICAgIG9uQmVnaW46ICdvbmJlZ2luJyxcbiAgICBvbkNhbmNlbDogJ29uY2FuY2VsJyxcbiAgICBvbkNhblBsYXk6ICdvbmNhbnBsYXknLFxuICAgIG9uQ2FuUGxheVRocm91Z2g6ICdvbmNhbnBsYXl0aHJvdWdoJyxcbiAgICBvbkNoYW5nZTogJ29uY2hhbmdlJyxcbiAgICBvbkNsaWNrOiAnb25jbGljaycsXG4gICAgb25DbG9zZTogJ29uY2xvc2UnLFxuICAgIG9uQ29weTogJ29uY29weScsXG4gICAgb25DdWVDaGFuZ2U6ICdvbmN1ZWNoYW5nZScsXG4gICAgb25DdXQ6ICdvbmN1dCcsXG4gICAgb25EYmxDbGljazogJ29uZGJsY2xpY2snLFxuICAgIG9uRHJhZzogJ29uZHJhZycsXG4gICAgb25EcmFnRW5kOiAnb25kcmFnZW5kJyxcbiAgICBvbkRyYWdFbnRlcjogJ29uZHJhZ2VudGVyJyxcbiAgICBvbkRyYWdFeGl0OiAnb25kcmFnZXhpdCcsXG4gICAgb25EcmFnTGVhdmU6ICdvbmRyYWdsZWF2ZScsXG4gICAgb25EcmFnT3ZlcjogJ29uZHJhZ292ZXInLFxuICAgIG9uRHJhZ1N0YXJ0OiAnb25kcmFnc3RhcnQnLFxuICAgIG9uRHJvcDogJ29uZHJvcCcsXG4gICAgb25EdXJhdGlvbkNoYW5nZTogJ29uZHVyYXRpb25jaGFuZ2UnLFxuICAgIG9uRW1wdGllZDogJ29uZW1wdGllZCcsXG4gICAgb25FbmQ6ICdvbmVuZCcsXG4gICAgb25FbmRlZDogJ29uZW5kZWQnLFxuICAgIG9uRXJyb3I6ICdvbmVycm9yJyxcbiAgICBvbkZvY3VzOiAnb25mb2N1cycsXG4gICAgb25Gb2N1c0luOiAnb25mb2N1c2luJyxcbiAgICBvbkZvY3VzT3V0OiAnb25mb2N1c291dCcsXG4gICAgb25IYXNoQ2hhbmdlOiAnb25oYXNoY2hhbmdlJyxcbiAgICBvbklucHV0OiAnb25pbnB1dCcsXG4gICAgb25JbnZhbGlkOiAnb25pbnZhbGlkJyxcbiAgICBvbktleURvd246ICdvbmtleWRvd24nLFxuICAgIG9uS2V5UHJlc3M6ICdvbmtleXByZXNzJyxcbiAgICBvbktleVVwOiAnb25rZXl1cCcsXG4gICAgb25Mb2FkOiAnb25sb2FkJyxcbiAgICBvbkxvYWRlZERhdGE6ICdvbmxvYWRlZGRhdGEnLFxuICAgIG9uTG9hZGVkTWV0YWRhdGE6ICdvbmxvYWRlZG1ldGFkYXRhJyxcbiAgICBvbkxvYWRTdGFydDogJ29ubG9hZHN0YXJ0JyxcbiAgICBvbk1lc3NhZ2U6ICdvbm1lc3NhZ2UnLFxuICAgIG9uTW91c2VEb3duOiAnb25tb3VzZWRvd24nLFxuICAgIG9uTW91c2VFbnRlcjogJ29ubW91c2VlbnRlcicsXG4gICAgb25Nb3VzZUxlYXZlOiAnb25tb3VzZWxlYXZlJyxcbiAgICBvbk1vdXNlTW92ZTogJ29ubW91c2Vtb3ZlJyxcbiAgICBvbk1vdXNlT3V0OiAnb25tb3VzZW91dCcsXG4gICAgb25Nb3VzZU92ZXI6ICdvbm1vdXNlb3ZlcicsXG4gICAgb25Nb3VzZVVwOiAnb25tb3VzZXVwJyxcbiAgICBvbk1vdXNlV2hlZWw6ICdvbm1vdXNld2hlZWwnLFxuICAgIG9uT2ZmbGluZTogJ29ub2ZmbGluZScsXG4gICAgb25PbmxpbmU6ICdvbm9ubGluZScsXG4gICAgb25QYWdlSGlkZTogJ29ucGFnZWhpZGUnLFxuICAgIG9uUGFnZVNob3c6ICdvbnBhZ2VzaG93JyxcbiAgICBvblBhc3RlOiAnb25wYXN0ZScsXG4gICAgb25QYXVzZTogJ29ucGF1c2UnLFxuICAgIG9uUGxheTogJ29ucGxheScsXG4gICAgb25QbGF5aW5nOiAnb25wbGF5aW5nJyxcbiAgICBvblBvcFN0YXRlOiAnb25wb3BzdGF0ZScsXG4gICAgb25Qcm9ncmVzczogJ29ucHJvZ3Jlc3MnLFxuICAgIG9uUmF0ZUNoYW5nZTogJ29ucmF0ZWNoYW5nZScsXG4gICAgb25SZXBlYXQ6ICdvbnJlcGVhdCcsXG4gICAgb25SZXNldDogJ29ucmVzZXQnLFxuICAgIG9uUmVzaXplOiAnb25yZXNpemUnLFxuICAgIG9uU2Nyb2xsOiAnb25zY3JvbGwnLFxuICAgIG9uU2Vla2VkOiAnb25zZWVrZWQnLFxuICAgIG9uU2Vla2luZzogJ29uc2Vla2luZycsXG4gICAgb25TZWxlY3Q6ICdvbnNlbGVjdCcsXG4gICAgb25TaG93OiAnb25zaG93JyxcbiAgICBvblN0YWxsZWQ6ICdvbnN0YWxsZWQnLFxuICAgIG9uU3RvcmFnZTogJ29uc3RvcmFnZScsXG4gICAgb25TdWJtaXQ6ICdvbnN1Ym1pdCcsXG4gICAgb25TdXNwZW5kOiAnb25zdXNwZW5kJyxcbiAgICBvblRpbWVVcGRhdGU6ICdvbnRpbWV1cGRhdGUnLFxuICAgIG9uVG9nZ2xlOiAnb250b2dnbGUnLFxuICAgIG9uVW5sb2FkOiAnb251bmxvYWQnLFxuICAgIG9uVm9sdW1lQ2hhbmdlOiAnb252b2x1bWVjaGFuZ2UnLFxuICAgIG9uV2FpdGluZzogJ29ud2FpdGluZycsXG4gICAgb25ab29tOiAnb256b29tJyxcbiAgICBvdmVybGluZVBvc2l0aW9uOiAnb3ZlcmxpbmUtcG9zaXRpb24nLFxuICAgIG92ZXJsaW5lVGhpY2tuZXNzOiAnb3ZlcmxpbmUtdGhpY2tuZXNzJyxcbiAgICBwYWludE9yZGVyOiAncGFpbnQtb3JkZXInLFxuICAgIHBhbm9zZTE6ICdwYW5vc2UtMScsXG4gICAgcG9pbnRlckV2ZW50czogJ3BvaW50ZXItZXZlbnRzJyxcbiAgICByZWZlcnJlclBvbGljeTogJ3JlZmVycmVycG9saWN5JyxcbiAgICByZW5kZXJpbmdJbnRlbnQ6ICdyZW5kZXJpbmctaW50ZW50JyxcbiAgICBzaGFwZVJlbmRlcmluZzogJ3NoYXBlLXJlbmRlcmluZycsXG4gICAgc3RvcENvbG9yOiAnc3RvcC1jb2xvcicsXG4gICAgc3RvcE9wYWNpdHk6ICdzdG9wLW9wYWNpdHknLFxuICAgIHN0cmlrZXRocm91Z2hQb3NpdGlvbjogJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nLFxuICAgIHN0cmlrZXRocm91Z2hUaGlja25lc3M6ICdzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcycsXG4gICAgc3Ryb2tlRGFzaEFycmF5OiAnc3Ryb2tlLWRhc2hhcnJheScsXG4gICAgc3Ryb2tlRGFzaE9mZnNldDogJ3N0cm9rZS1kYXNob2Zmc2V0JyxcbiAgICBzdHJva2VMaW5lQ2FwOiAnc3Ryb2tlLWxpbmVjYXAnLFxuICAgIHN0cm9rZUxpbmVKb2luOiAnc3Ryb2tlLWxpbmVqb2luJyxcbiAgICBzdHJva2VNaXRlckxpbWl0OiAnc3Ryb2tlLW1pdGVybGltaXQnLFxuICAgIHN0cm9rZU9wYWNpdHk6ICdzdHJva2Utb3BhY2l0eScsXG4gICAgc3Ryb2tlV2lkdGg6ICdzdHJva2Utd2lkdGgnLFxuICAgIHRhYkluZGV4OiAndGFiaW5kZXgnLFxuICAgIHRleHRBbmNob3I6ICd0ZXh0LWFuY2hvcicsXG4gICAgdGV4dERlY29yYXRpb246ICd0ZXh0LWRlY29yYXRpb24nLFxuICAgIHRleHRSZW5kZXJpbmc6ICd0ZXh0LXJlbmRlcmluZycsXG4gICAgdHlwZU9mOiAndHlwZW9mJyxcbiAgICB1bmRlcmxpbmVQb3NpdGlvbjogJ3VuZGVybGluZS1wb3NpdGlvbicsXG4gICAgdW5kZXJsaW5lVGhpY2tuZXNzOiAndW5kZXJsaW5lLXRoaWNrbmVzcycsXG4gICAgdW5pY29kZUJpZGk6ICd1bmljb2RlLWJpZGknLFxuICAgIHVuaWNvZGVSYW5nZTogJ3VuaWNvZGUtcmFuZ2UnLFxuICAgIHVuaXRzUGVyRW06ICd1bml0cy1wZXItZW0nLFxuICAgIHZBbHBoYWJldGljOiAndi1hbHBoYWJldGljJyxcbiAgICB2SGFuZ2luZzogJ3YtaGFuZ2luZycsXG4gICAgdklkZW9ncmFwaGljOiAndi1pZGVvZ3JhcGhpYycsXG4gICAgdk1hdGhlbWF0aWNhbDogJ3YtbWF0aGVtYXRpY2FsJyxcbiAgICB2ZWN0b3JFZmZlY3Q6ICd2ZWN0b3ItZWZmZWN0JyxcbiAgICB2ZXJ0QWR2WTogJ3ZlcnQtYWR2LXknLFxuICAgIHZlcnRPcmlnaW5YOiAndmVydC1vcmlnaW4teCcsXG4gICAgdmVydE9yaWdpblk6ICd2ZXJ0LW9yaWdpbi15JyxcbiAgICB3b3JkU3BhY2luZzogJ3dvcmQtc3BhY2luZycsXG4gICAgd3JpdGluZ01vZGU6ICd3cml0aW5nLW1vZGUnLFxuICAgIHhIZWlnaHQ6ICd4LWhlaWdodCcsXG4gICAgLy8gVGhlc2Ugd2VyZSBjYW1lbGNhc2VkIGluIFRpbnkuIE5vdyBsb3dlcmNhc2VkIGluIFNWRyAyXG4gICAgcGxheWJhY2tPcmRlcjogJ3BsYXliYWNrb3JkZXInLFxuICAgIHRpbWVsaW5lQmVnaW46ICd0aW1lbGluZWJlZ2luJ1xuICB9LFxuICB0cmFuc2Zvcm06IGNhc2VTZW5zaXRpdmVUcmFuc2Zvcm0sXG4gIHByb3BlcnRpZXM6IHtcbiAgICBhYm91dDogY29tbWFPclNwYWNlU2VwYXJhdGVkLFxuICAgIGFjY2VudEhlaWdodDogbnVtYmVyLFxuICAgIGFjY3VtdWxhdGU6IG51bGwsXG4gICAgYWRkaXRpdmU6IG51bGwsXG4gICAgYWxpZ25tZW50QmFzZWxpbmU6IG51bGwsXG4gICAgYWxwaGFiZXRpYzogbnVtYmVyLFxuICAgIGFtcGxpdHVkZTogbnVtYmVyLFxuICAgIGFyYWJpY0Zvcm06IG51bGwsXG4gICAgYXNjZW50OiBudW1iZXIsXG4gICAgYXR0cmlidXRlTmFtZTogbnVsbCxcbiAgICBhdHRyaWJ1dGVUeXBlOiBudWxsLFxuICAgIGF6aW11dGg6IG51bWJlcixcbiAgICBiYW5kd2lkdGg6IG51bGwsXG4gICAgYmFzZWxpbmVTaGlmdDogbnVsbCxcbiAgICBiYXNlRnJlcXVlbmN5OiBudWxsLFxuICAgIGJhc2VQcm9maWxlOiBudWxsLFxuICAgIGJib3g6IG51bGwsXG4gICAgYmVnaW46IG51bGwsXG4gICAgYmlhczogbnVtYmVyLFxuICAgIGJ5OiBudWxsLFxuICAgIGNhbGNNb2RlOiBudWxsLFxuICAgIGNhcEhlaWdodDogbnVtYmVyLFxuICAgIGNsYXNzTmFtZTogc3BhY2VTZXBhcmF0ZWQsXG4gICAgY2xpcDogbnVsbCxcbiAgICBjbGlwUGF0aDogbnVsbCxcbiAgICBjbGlwUGF0aFVuaXRzOiBudWxsLFxuICAgIGNsaXBSdWxlOiBudWxsLFxuICAgIGNvbG9yOiBudWxsLFxuICAgIGNvbG9ySW50ZXJwb2xhdGlvbjogbnVsbCxcbiAgICBjb2xvckludGVycG9sYXRpb25GaWx0ZXJzOiBudWxsLFxuICAgIGNvbG9yUHJvZmlsZTogbnVsbCxcbiAgICBjb2xvclJlbmRlcmluZzogbnVsbCxcbiAgICBjb250ZW50OiBudWxsLFxuICAgIGNvbnRlbnRTY3JpcHRUeXBlOiBudWxsLFxuICAgIGNvbnRlbnRTdHlsZVR5cGU6IG51bGwsXG4gICAgY3Jvc3NPcmlnaW46IG51bGwsXG4gICAgY3Vyc29yOiBudWxsLFxuICAgIGN4OiBudWxsLFxuICAgIGN5OiBudWxsLFxuICAgIGQ6IG51bGwsXG4gICAgZGF0YVR5cGU6IG51bGwsXG4gICAgZGVmYXVsdEFjdGlvbjogbnVsbCxcbiAgICBkZXNjZW50OiBudW1iZXIsXG4gICAgZGlmZnVzZUNvbnN0YW50OiBudW1iZXIsXG4gICAgZGlyZWN0aW9uOiBudWxsLFxuICAgIGRpc3BsYXk6IG51bGwsXG4gICAgZHVyOiBudWxsLFxuICAgIGRpdmlzb3I6IG51bWJlcixcbiAgICBkb21pbmFudEJhc2VsaW5lOiBudWxsLFxuICAgIGRvd25sb2FkOiBib29sZWFuLFxuICAgIGR4OiBudWxsLFxuICAgIGR5OiBudWxsLFxuICAgIGVkZ2VNb2RlOiBudWxsLFxuICAgIGVkaXRhYmxlOiBudWxsLFxuICAgIGVsZXZhdGlvbjogbnVtYmVyLFxuICAgIGVuYWJsZUJhY2tncm91bmQ6IG51bGwsXG4gICAgZW5kOiBudWxsLFxuICAgIGV2ZW50OiBudWxsLFxuICAgIGV4cG9uZW50OiBudW1iZXIsXG4gICAgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZDogbnVsbCxcbiAgICBmaWxsOiBudWxsLFxuICAgIGZpbGxPcGFjaXR5OiBudW1iZXIsXG4gICAgZmlsbFJ1bGU6IG51bGwsXG4gICAgZmlsdGVyOiBudWxsLFxuICAgIGZpbHRlclJlczogbnVsbCxcbiAgICBmaWx0ZXJVbml0czogbnVsbCxcbiAgICBmbG9vZENvbG9yOiBudWxsLFxuICAgIGZsb29kT3BhY2l0eTogbnVsbCxcbiAgICBmb2N1c2FibGU6IG51bGwsXG4gICAgZm9jdXNIaWdobGlnaHQ6IG51bGwsXG4gICAgZm9udEZhbWlseTogbnVsbCxcbiAgICBmb250U2l6ZTogbnVsbCxcbiAgICBmb250U2l6ZUFkanVzdDogbnVsbCxcbiAgICBmb250U3RyZXRjaDogbnVsbCxcbiAgICBmb250U3R5bGU6IG51bGwsXG4gICAgZm9udFZhcmlhbnQ6IG51bGwsXG4gICAgZm9udFdlaWdodDogbnVsbCxcbiAgICBmb3JtYXQ6IG51bGwsXG4gICAgZnI6IG51bGwsXG4gICAgZnJvbTogbnVsbCxcbiAgICBmeDogbnVsbCxcbiAgICBmeTogbnVsbCxcbiAgICBnMTogY29tbWFTZXBhcmF0ZWQsXG4gICAgZzI6IGNvbW1hU2VwYXJhdGVkLFxuICAgIGdseXBoTmFtZTogY29tbWFTZXBhcmF0ZWQsXG4gICAgZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWw6IG51bGwsXG4gICAgZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsOiBudWxsLFxuICAgIGdseXBoUmVmOiBudWxsLFxuICAgIGdyYWRpZW50VHJhbnNmb3JtOiBudWxsLFxuICAgIGdyYWRpZW50VW5pdHM6IG51bGwsXG4gICAgaGFuZGxlcjogbnVsbCxcbiAgICBoYW5naW5nOiBudW1iZXIsXG4gICAgaGF0Y2hDb250ZW50VW5pdHM6IG51bGwsXG4gICAgaGF0Y2hVbml0czogbnVsbCxcbiAgICBoZWlnaHQ6IG51bGwsXG4gICAgaHJlZjogbnVsbCxcbiAgICBocmVmTGFuZzogbnVsbCxcbiAgICBob3JpekFkdlg6IG51bWJlcixcbiAgICBob3Jpek9yaWdpblg6IG51bWJlcixcbiAgICBob3Jpek9yaWdpblk6IG51bWJlcixcbiAgICBpZDogbnVsbCxcbiAgICBpZGVvZ3JhcGhpYzogbnVtYmVyLFxuICAgIGltYWdlUmVuZGVyaW5nOiBudWxsLFxuICAgIGluaXRpYWxWaXNpYmlsaXR5OiBudWxsLFxuICAgIGluOiBudWxsLFxuICAgIGluMjogbnVsbCxcbiAgICBpbnRlcmNlcHQ6IG51bWJlcixcbiAgICBrOiBudW1iZXIsXG4gICAgazE6IG51bWJlcixcbiAgICBrMjogbnVtYmVyLFxuICAgIGszOiBudW1iZXIsXG4gICAgazQ6IG51bWJlcixcbiAgICBrZXJuZWxNYXRyaXg6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgICBrZXJuZWxVbml0TGVuZ3RoOiBudWxsLFxuICAgIGtleVBvaW50czogbnVsbCwgLy8gU0VNSV9DT0xPTl9TRVBBUkFURURcbiAgICBrZXlTcGxpbmVzOiBudWxsLCAvLyBTRU1JX0NPTE9OX1NFUEFSQVRFRFxuICAgIGtleVRpbWVzOiBudWxsLCAvLyBTRU1JX0NPTE9OX1NFUEFSQVRFRFxuICAgIGtlcm5pbmc6IG51bGwsXG4gICAgbGFuZzogbnVsbCxcbiAgICBsZW5ndGhBZGp1c3Q6IG51bGwsXG4gICAgbGV0dGVyU3BhY2luZzogbnVsbCxcbiAgICBsaWdodGluZ0NvbG9yOiBudWxsLFxuICAgIGxpbWl0aW5nQ29uZUFuZ2xlOiBudW1iZXIsXG4gICAgbG9jYWw6IG51bGwsXG4gICAgbWFya2VyRW5kOiBudWxsLFxuICAgIG1hcmtlck1pZDogbnVsbCxcbiAgICBtYXJrZXJTdGFydDogbnVsbCxcbiAgICBtYXJrZXJIZWlnaHQ6IG51bGwsXG4gICAgbWFya2VyVW5pdHM6IG51bGwsXG4gICAgbWFya2VyV2lkdGg6IG51bGwsXG4gICAgbWFzazogbnVsbCxcbiAgICBtYXNrQ29udGVudFVuaXRzOiBudWxsLFxuICAgIG1hc2tVbml0czogbnVsbCxcbiAgICBtYXRoZW1hdGljYWw6IG51bGwsXG4gICAgbWF4OiBudWxsLFxuICAgIG1lZGlhOiBudWxsLFxuICAgIG1lZGlhQ2hhcmFjdGVyRW5jb2Rpbmc6IG51bGwsXG4gICAgbWVkaWFDb250ZW50RW5jb2RpbmdzOiBudWxsLFxuICAgIG1lZGlhU2l6ZTogbnVtYmVyLFxuICAgIG1lZGlhVGltZTogbnVsbCxcbiAgICBtZXRob2Q6IG51bGwsXG4gICAgbWluOiBudWxsLFxuICAgIG1vZGU6IG51bGwsXG4gICAgbmFtZTogbnVsbCxcbiAgICBuYXZEb3duOiBudWxsLFxuICAgIG5hdkRvd25MZWZ0OiBudWxsLFxuICAgIG5hdkRvd25SaWdodDogbnVsbCxcbiAgICBuYXZMZWZ0OiBudWxsLFxuICAgIG5hdk5leHQ6IG51bGwsXG4gICAgbmF2UHJldjogbnVsbCxcbiAgICBuYXZSaWdodDogbnVsbCxcbiAgICBuYXZVcDogbnVsbCxcbiAgICBuYXZVcExlZnQ6IG51bGwsXG4gICAgbmF2VXBSaWdodDogbnVsbCxcbiAgICBudW1PY3RhdmVzOiBudWxsLFxuICAgIG9ic2VydmVyOiBudWxsLFxuICAgIG9mZnNldDogbnVsbCxcbiAgICBvbkFib3J0OiBudWxsLFxuICAgIG9uQWN0aXZhdGU6IG51bGwsXG4gICAgb25BZnRlclByaW50OiBudWxsLFxuICAgIG9uQmVmb3JlUHJpbnQ6IG51bGwsXG4gICAgb25CZWdpbjogbnVsbCxcbiAgICBvbkNhbmNlbDogbnVsbCxcbiAgICBvbkNhblBsYXk6IG51bGwsXG4gICAgb25DYW5QbGF5VGhyb3VnaDogbnVsbCxcbiAgICBvbkNoYW5nZTogbnVsbCxcbiAgICBvbkNsaWNrOiBudWxsLFxuICAgIG9uQ2xvc2U6IG51bGwsXG4gICAgb25Db3B5OiBudWxsLFxuICAgIG9uQ3VlQ2hhbmdlOiBudWxsLFxuICAgIG9uQ3V0OiBudWxsLFxuICAgIG9uRGJsQ2xpY2s6IG51bGwsXG4gICAgb25EcmFnOiBudWxsLFxuICAgIG9uRHJhZ0VuZDogbnVsbCxcbiAgICBvbkRyYWdFbnRlcjogbnVsbCxcbiAgICBvbkRyYWdFeGl0OiBudWxsLFxuICAgIG9uRHJhZ0xlYXZlOiBudWxsLFxuICAgIG9uRHJhZ092ZXI6IG51bGwsXG4gICAgb25EcmFnU3RhcnQ6IG51bGwsXG4gICAgb25Ecm9wOiBudWxsLFxuICAgIG9uRHVyYXRpb25DaGFuZ2U6IG51bGwsXG4gICAgb25FbXB0aWVkOiBudWxsLFxuICAgIG9uRW5kOiBudWxsLFxuICAgIG9uRW5kZWQ6IG51bGwsXG4gICAgb25FcnJvcjogbnVsbCxcbiAgICBvbkZvY3VzOiBudWxsLFxuICAgIG9uRm9jdXNJbjogbnVsbCxcbiAgICBvbkZvY3VzT3V0OiBudWxsLFxuICAgIG9uSGFzaENoYW5nZTogbnVsbCxcbiAgICBvbklucHV0OiBudWxsLFxuICAgIG9uSW52YWxpZDogbnVsbCxcbiAgICBvbktleURvd246IG51bGwsXG4gICAgb25LZXlQcmVzczogbnVsbCxcbiAgICBvbktleVVwOiBudWxsLFxuICAgIG9uTG9hZDogbnVsbCxcbiAgICBvbkxvYWRlZERhdGE6IG51bGwsXG4gICAgb25Mb2FkZWRNZXRhZGF0YTogbnVsbCxcbiAgICBvbkxvYWRTdGFydDogbnVsbCxcbiAgICBvbk1lc3NhZ2U6IG51bGwsXG4gICAgb25Nb3VzZURvd246IG51bGwsXG4gICAgb25Nb3VzZUVudGVyOiBudWxsLFxuICAgIG9uTW91c2VMZWF2ZTogbnVsbCxcbiAgICBvbk1vdXNlTW92ZTogbnVsbCxcbiAgICBvbk1vdXNlT3V0OiBudWxsLFxuICAgIG9uTW91c2VPdmVyOiBudWxsLFxuICAgIG9uTW91c2VVcDogbnVsbCxcbiAgICBvbk1vdXNlV2hlZWw6IG51bGwsXG4gICAgb25PZmZsaW5lOiBudWxsLFxuICAgIG9uT25saW5lOiBudWxsLFxuICAgIG9uUGFnZUhpZGU6IG51bGwsXG4gICAgb25QYWdlU2hvdzogbnVsbCxcbiAgICBvblBhc3RlOiBudWxsLFxuICAgIG9uUGF1c2U6IG51bGwsXG4gICAgb25QbGF5OiBudWxsLFxuICAgIG9uUGxheWluZzogbnVsbCxcbiAgICBvblBvcFN0YXRlOiBudWxsLFxuICAgIG9uUHJvZ3Jlc3M6IG51bGwsXG4gICAgb25SYXRlQ2hhbmdlOiBudWxsLFxuICAgIG9uUmVwZWF0OiBudWxsLFxuICAgIG9uUmVzZXQ6IG51bGwsXG4gICAgb25SZXNpemU6IG51bGwsXG4gICAgb25TY3JvbGw6IG51bGwsXG4gICAgb25TZWVrZWQ6IG51bGwsXG4gICAgb25TZWVraW5nOiBudWxsLFxuICAgIG9uU2VsZWN0OiBudWxsLFxuICAgIG9uU2hvdzogbnVsbCxcbiAgICBvblN0YWxsZWQ6IG51bGwsXG4gICAgb25TdG9yYWdlOiBudWxsLFxuICAgIG9uU3VibWl0OiBudWxsLFxuICAgIG9uU3VzcGVuZDogbnVsbCxcbiAgICBvblRpbWVVcGRhdGU6IG51bGwsXG4gICAgb25Ub2dnbGU6IG51bGwsXG4gICAgb25VbmxvYWQ6IG51bGwsXG4gICAgb25Wb2x1bWVDaGFuZ2U6IG51bGwsXG4gICAgb25XYWl0aW5nOiBudWxsLFxuICAgIG9uWm9vbTogbnVsbCxcbiAgICBvcGFjaXR5OiBudWxsLFxuICAgIG9wZXJhdG9yOiBudWxsLFxuICAgIG9yZGVyOiBudWxsLFxuICAgIG9yaWVudDogbnVsbCxcbiAgICBvcmllbnRhdGlvbjogbnVsbCxcbiAgICBvcmlnaW46IG51bGwsXG4gICAgb3ZlcmZsb3c6IG51bGwsXG4gICAgb3ZlcmxheTogbnVsbCxcbiAgICBvdmVybGluZVBvc2l0aW9uOiBudW1iZXIsXG4gICAgb3ZlcmxpbmVUaGlja25lc3M6IG51bWJlcixcbiAgICBwYWludE9yZGVyOiBudWxsLFxuICAgIHBhbm9zZTE6IG51bGwsXG4gICAgcGF0aDogbnVsbCxcbiAgICBwYXRoTGVuZ3RoOiBudW1iZXIsXG4gICAgcGF0dGVybkNvbnRlbnRVbml0czogbnVsbCxcbiAgICBwYXR0ZXJuVHJhbnNmb3JtOiBudWxsLFxuICAgIHBhdHRlcm5Vbml0czogbnVsbCxcbiAgICBwaGFzZTogbnVsbCxcbiAgICBwaW5nOiBzcGFjZVNlcGFyYXRlZCxcbiAgICBwaXRjaDogbnVsbCxcbiAgICBwbGF5YmFja09yZGVyOiBudWxsLFxuICAgIHBvaW50ZXJFdmVudHM6IG51bGwsXG4gICAgcG9pbnRzOiBudWxsLFxuICAgIHBvaW50c0F0WDogbnVtYmVyLFxuICAgIHBvaW50c0F0WTogbnVtYmVyLFxuICAgIHBvaW50c0F0WjogbnVtYmVyLFxuICAgIHByZXNlcnZlQWxwaGE6IG51bGwsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogbnVsbCxcbiAgICBwcmltaXRpdmVVbml0czogbnVsbCxcbiAgICBwcm9wYWdhdGU6IG51bGwsXG4gICAgcHJvcGVydHk6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgICByOiBudWxsLFxuICAgIHJhZGl1czogbnVsbCxcbiAgICByZWZlcnJlclBvbGljeTogbnVsbCxcbiAgICByZWZYOiBudWxsLFxuICAgIHJlZlk6IG51bGwsXG4gICAgcmVsOiBjb21tYU9yU3BhY2VTZXBhcmF0ZWQsXG4gICAgcmV2OiBjb21tYU9yU3BhY2VTZXBhcmF0ZWQsXG4gICAgcmVuZGVyaW5nSW50ZW50OiBudWxsLFxuICAgIHJlcGVhdENvdW50OiBudWxsLFxuICAgIHJlcGVhdER1cjogbnVsbCxcbiAgICByZXF1aXJlZEV4dGVuc2lvbnM6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgICByZXF1aXJlZEZlYXR1cmVzOiBjb21tYU9yU3BhY2VTZXBhcmF0ZWQsXG4gICAgcmVxdWlyZWRGb250czogY29tbWFPclNwYWNlU2VwYXJhdGVkLFxuICAgIHJlcXVpcmVkRm9ybWF0czogY29tbWFPclNwYWNlU2VwYXJhdGVkLFxuICAgIHJlc291cmNlOiBudWxsLFxuICAgIHJlc3RhcnQ6IG51bGwsXG4gICAgcmVzdWx0OiBudWxsLFxuICAgIHJvdGF0ZTogbnVsbCxcbiAgICByeDogbnVsbCxcbiAgICByeTogbnVsbCxcbiAgICBzY2FsZTogbnVsbCxcbiAgICBzZWVkOiBudWxsLFxuICAgIHNoYXBlUmVuZGVyaW5nOiBudWxsLFxuICAgIHNpZGU6IG51bGwsXG4gICAgc2xvcGU6IG51bGwsXG4gICAgc25hcHNob3RUaW1lOiBudWxsLFxuICAgIHNwZWN1bGFyQ29uc3RhbnQ6IG51bWJlcixcbiAgICBzcGVjdWxhckV4cG9uZW50OiBudW1iZXIsXG4gICAgc3ByZWFkTWV0aG9kOiBudWxsLFxuICAgIHNwYWNpbmc6IG51bGwsXG4gICAgc3RhcnRPZmZzZXQ6IG51bGwsXG4gICAgc3RkRGV2aWF0aW9uOiBudWxsLFxuICAgIHN0ZW1oOiBudWxsLFxuICAgIHN0ZW12OiBudWxsLFxuICAgIHN0aXRjaFRpbGVzOiBudWxsLFxuICAgIHN0b3BDb2xvcjogbnVsbCxcbiAgICBzdG9wT3BhY2l0eTogbnVsbCxcbiAgICBzdHJpa2V0aHJvdWdoUG9zaXRpb246IG51bWJlcixcbiAgICBzdHJpa2V0aHJvdWdoVGhpY2tuZXNzOiBudW1iZXIsXG4gICAgc3RyaW5nOiBudWxsLFxuICAgIHN0cm9rZTogbnVsbCxcbiAgICBzdHJva2VEYXNoQXJyYXk6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgICBzdHJva2VEYXNoT2Zmc2V0OiBudWxsLFxuICAgIHN0cm9rZUxpbmVDYXA6IG51bGwsXG4gICAgc3Ryb2tlTGluZUpvaW46IG51bGwsXG4gICAgc3Ryb2tlTWl0ZXJMaW1pdDogbnVtYmVyLFxuICAgIHN0cm9rZU9wYWNpdHk6IG51bWJlcixcbiAgICBzdHJva2VXaWR0aDogbnVsbCxcbiAgICBzdHlsZTogbnVsbCxcbiAgICBzdXJmYWNlU2NhbGU6IG51bWJlcixcbiAgICBzeW5jQmVoYXZpb3I6IG51bGwsXG4gICAgc3luY0JlaGF2aW9yRGVmYXVsdDogbnVsbCxcbiAgICBzeW5jTWFzdGVyOiBudWxsLFxuICAgIHN5bmNUb2xlcmFuY2U6IG51bGwsXG4gICAgc3luY1RvbGVyYW5jZURlZmF1bHQ6IG51bGwsXG4gICAgc3lzdGVtTGFuZ3VhZ2U6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgICB0YWJJbmRleDogbnVtYmVyLFxuICAgIHRhYmxlVmFsdWVzOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICB0YXJnZXRYOiBudW1iZXIsXG4gICAgdGFyZ2V0WTogbnVtYmVyLFxuICAgIHRleHRBbmNob3I6IG51bGwsXG4gICAgdGV4dERlY29yYXRpb246IG51bGwsXG4gICAgdGV4dFJlbmRlcmluZzogbnVsbCxcbiAgICB0ZXh0TGVuZ3RoOiBudWxsLFxuICAgIHRpbWVsaW5lQmVnaW46IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgdHJhbnNmb3JtQmVoYXZpb3I6IG51bGwsXG4gICAgdHlwZTogbnVsbCxcbiAgICB0eXBlT2Y6IGNvbW1hT3JTcGFjZVNlcGFyYXRlZCxcbiAgICB0bzogbnVsbCxcbiAgICB0cmFuc2Zvcm06IG51bGwsXG4gICAgdTE6IG51bGwsXG4gICAgdTI6IG51bGwsXG4gICAgdW5kZXJsaW5lUG9zaXRpb246IG51bWJlcixcbiAgICB1bmRlcmxpbmVUaGlja25lc3M6IG51bWJlcixcbiAgICB1bmljb2RlOiBudWxsLFxuICAgIHVuaWNvZGVCaWRpOiBudWxsLFxuICAgIHVuaWNvZGVSYW5nZTogbnVsbCxcbiAgICB1bml0c1BlckVtOiBudW1iZXIsXG4gICAgdmFsdWVzOiBudWxsLFxuICAgIHZBbHBoYWJldGljOiBudW1iZXIsXG4gICAgdk1hdGhlbWF0aWNhbDogbnVtYmVyLFxuICAgIHZlY3RvckVmZmVjdDogbnVsbCxcbiAgICB2SGFuZ2luZzogbnVtYmVyLFxuICAgIHZJZGVvZ3JhcGhpYzogbnVtYmVyLFxuICAgIHZlcnNpb246IG51bGwsXG4gICAgdmVydEFkdlk6IG51bWJlcixcbiAgICB2ZXJ0T3JpZ2luWDogbnVtYmVyLFxuICAgIHZlcnRPcmlnaW5ZOiBudW1iZXIsXG4gICAgdmlld0JveDogbnVsbCxcbiAgICB2aWV3VGFyZ2V0OiBudWxsLFxuICAgIHZpc2liaWxpdHk6IG51bGwsXG4gICAgd2lkdGg6IG51bGwsXG4gICAgd2lkdGhzOiBudWxsLFxuICAgIHdvcmRTcGFjaW5nOiBudWxsLFxuICAgIHdyaXRpbmdNb2RlOiBudWxsLFxuICAgIHg6IG51bGwsXG4gICAgeDE6IG51bGwsXG4gICAgeDI6IG51bGwsXG4gICAgeENoYW5uZWxTZWxlY3RvcjogbnVsbCxcbiAgICB4SGVpZ2h0OiBudW1iZXIsXG4gICAgeTogbnVsbCxcbiAgICB5MTogbnVsbCxcbiAgICB5MjogbnVsbCxcbiAgICB5Q2hhbm5lbFNlbGVjdG9yOiBudWxsLFxuICAgIHo6IG51bGwsXG4gICAgem9vbUFuZFBhbjogbnVsbFxuICB9XG59KTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL3V0aWwvc2NoZW1hLmpzJykuU2NoZW1hfSBTY2hlbWFcbiAqL1xuXG5cbmNvbnN0IHZhbGlkID0gL15kYXRhWy1cXHcuOl0rJC9pO1xuY29uc3QgZGFzaCA9IC8tW2Etel0vZztcbmNvbnN0IGNhcCA9IC9bQS1aXS9nO1xuXG4vKipcbiAqIEBwYXJhbSB7U2NoZW1hfSBzY2hlbWFcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge0luZm99XG4gKi9cbmZ1bmN0aW9uIGZpbmQoc2NoZW1hLCB2YWx1ZSkge1xuICBjb25zdCBub3JtYWwgPSBub3JtYWxpemUodmFsdWUpO1xuICBsZXQgcHJvcCA9IHZhbHVlO1xuICBsZXQgVHlwZSA9IEluZm87XG5cbiAgaWYgKG5vcm1hbCBpbiBzY2hlbWEubm9ybWFsKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5wcm9wZXJ0eVtzY2hlbWEubm9ybWFsW25vcm1hbF1dXG4gIH1cblxuICBpZiAobm9ybWFsLmxlbmd0aCA+IDQgJiYgbm9ybWFsLnNsaWNlKDAsIDQpID09PSAnZGF0YScgJiYgdmFsaWQudGVzdCh2YWx1ZSkpIHtcbiAgICAvLyBBdHRyaWJ1dGUgb3IgcHJvcGVydHkuXG4gICAgaWYgKHZhbHVlLmNoYXJBdCg0KSA9PT0gJy0nKSB7XG4gICAgICAvLyBUdXJuIGl0IGludG8gYSBwcm9wZXJ0eS5cbiAgICAgIGNvbnN0IHJlc3QgPSB2YWx1ZS5zbGljZSg1KS5yZXBsYWNlKGRhc2gsIGNhbWVsY2FzZSk7XG4gICAgICBwcm9wID0gJ2RhdGEnICsgcmVzdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlc3Quc2xpY2UoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFR1cm4gaXQgaW50byBhbiBhdHRyaWJ1dGUuXG4gICAgICBjb25zdCByZXN0ID0gdmFsdWUuc2xpY2UoNCk7XG5cbiAgICAgIGlmICghZGFzaC50ZXN0KHJlc3QpKSB7XG4gICAgICAgIGxldCBkYXNoZXMgPSByZXN0LnJlcGxhY2UoY2FwLCBrZWJhYik7XG5cbiAgICAgICAgaWYgKGRhc2hlcy5jaGFyQXQoMCkgIT09ICctJykge1xuICAgICAgICAgIGRhc2hlcyA9ICctJyArIGRhc2hlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbHVlID0gJ2RhdGEnICsgZGFzaGVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIFR5cGUgPSBEZWZpbmVkSW5mbztcbiAgfVxuXG4gIHJldHVybiBuZXcgVHlwZShwcm9wLCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gJDBcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGtlYmFiKCQwKSB7XG4gIHJldHVybiAnLScgKyAkMC50b0xvd2VyQ2FzZSgpXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9ICQwXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYW1lbGNhc2UoJDApIHtcbiAgcmV0dXJuICQwLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9saWIvdXRpbC9pbmZvLmpzJykuSW5mb30gSW5mb1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9saWIvdXRpbC9zY2hlbWEuanMnKS5TY2hlbWF9IFNjaGVtYVxuICovXG5cbmNvbnN0IGh0bWwkMiA9IG1lcmdlKFt4bWwsIHhsaW5rLCB4bWxucywgYXJpYSwgaHRtbCQzXSwgJ2h0bWwnKTtcbmNvbnN0IHN2ZyA9IG1lcmdlKFt4bWwsIHhsaW5rLCB4bWxucywgYXJpYSwgc3ZnJDFdLCAnc3ZnJyk7XG5cbi8qKlxuICogQGNhbGxiYWNrIEhhbmRsZXJcbiAqICAgSGFuZGxlIGEgdmFsdWUsIHdpdGggYSBjZXJ0YWluIElEIGZpZWxkIHNldCB0byBhIGNlcnRhaW4gdmFsdWUuXG4gKiAgIFRoZSBJRCBmaWVsZCBpcyBwYXNzZWQgdG8gYHp3aXRjaGAsIGFuZCBpdOKAmXMgdmFsdWUgaXMgdGhpcyBmdW5jdGlvbuKAmXNcbiAqICAgcGxhY2Ugb24gdGhlIGBoYW5kbGVyc2AgcmVjb3JkLlxuICogQHBhcmFtIHsuLi5hbnl9IHBhcmFtZXRlcnNcbiAqICAgQXJiaXRyYXJ5IHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoZSB6d2l0Y2guXG4gKiAgIFRoZSBmaXJzdCB3aWxsIGJlIGFuIG9iamVjdCB3aXRoIGEgY2VydGFpbiBJRCBmaWVsZCBzZXQgdG8gYSBjZXJ0YWluIHZhbHVlLlxuICogQHJldHVybnMge2FueX1cbiAqICAgQW55dGhpbmchXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgVW5rbm93bkhhbmRsZXJcbiAqICAgSGFuZGxlIHZhbHVlcyB0aGF0IGRvIGhhdmUgYSBjZXJ0YWluIElEIGZpZWxkLCBidXQgaXTigJlzIHNldCB0byBhIHZhbHVlXG4gKiAgIHRoYXQgaXMgbm90IGxpc3RlZCBpbiB0aGUgYGhhbmRsZXJzYCByZWNvcmQuXG4gKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG4gKiAgIEFuIG9iamVjdCB3aXRoIGEgY2VydGFpbiBJRCBmaWVsZCBzZXQgdG8gYW4gdW5rbm93biB2YWx1ZS5cbiAqIEBwYXJhbSB7Li4uYW55fSByZXN0XG4gKiAgIEFyYml0cmFyeSBwYXJhbWV0ZXJzIHBhc3NlZCB0byB0aGUgendpdGNoLlxuICogQHJldHVybnMge2FueX1cbiAqICAgQW55dGhpbmchXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgSW52YWxpZEhhbmRsZXJcbiAqICAgSGFuZGxlIHZhbHVlcyB0aGF0IGRvIG5vdCBoYXZlIGEgY2VydGFpbiBJRCBmaWVsZC5cbiAqIEBwYXJhbSB7dW5rbm93bn0gdmFsdWVcbiAqICAgQW55IHVua25vd24gdmFsdWUuXG4gKiBAcGFyYW0gey4uLmFueX0gcmVzdFxuICogICBBcmJpdHJhcnkgcGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIHp3aXRjaC5cbiAqIEByZXR1cm5zIHt2b2lkfG51bGx8dW5kZWZpbmVkfG5ldmVyfVxuICogICBUaGlzIHNob3VsZCBjcmFzaCBvciByZXR1cm4gbm90aGluZy5cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7SW52YWxpZEhhbmRsZXJ9IFtJbnZhbGlkPUludmFsaWRIYW5kbGVyXVxuICogQHRlbXBsYXRlIHtVbmtub3duSGFuZGxlcn0gW1Vua25vd249VW5rbm93bkhhbmRsZXJdXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIEhhbmRsZXI+fSBbSGFuZGxlcnM9UmVjb3JkPHN0cmluZywgSGFuZGxlcj5dXG4gKiBAdHlwZWRlZiBPcHRpb25zXG4gKiAgIENvbmZpZ3VyYXRpb24gKHJlcXVpcmVkKS5cbiAqIEBwcm9wZXJ0eSB7SW52YWxpZH0gW2ludmFsaWRdXG4gKiAgIEhhbmRsZXIgdG8gdXNlIGZvciBpbnZhbGlkIHZhbHVlcy5cbiAqIEBwcm9wZXJ0eSB7VW5rbm93bn0gW3Vua25vd25dXG4gKiAgIEhhbmRsZXIgdG8gdXNlIGZvciB1bmtub3duIHZhbHVlcy5cbiAqIEBwcm9wZXJ0eSB7SGFuZGxlcnN9IFtoYW5kbGVyc11cbiAqICAgSGFuZGxlcnMgdG8gdXNlLlxuICovXG5cbmNvbnN0IG93biQyID0ge30uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogSGFuZGxlIHZhbHVlcyBiYXNlZCBvbiBhIGZpZWxkLlxuICpcbiAqIEB0ZW1wbGF0ZSB7SW52YWxpZEhhbmRsZXJ9IFtJbnZhbGlkPUludmFsaWRIYW5kbGVyXVxuICogQHRlbXBsYXRlIHtVbmtub3duSGFuZGxlcn0gW1Vua25vd249VW5rbm93bkhhbmRsZXJdXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIEhhbmRsZXI+fSBbSGFuZGxlcnM9UmVjb3JkPHN0cmluZywgSGFuZGxlcj5dXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiAgIEZpZWxkIHRvIHN3aXRjaCBvbi5cbiAqIEBwYXJhbSB7T3B0aW9uczxJbnZhbGlkLCBVbmtub3duLCBIYW5kbGVycz59IFtvcHRpb25zXVxuICogICBDb25maWd1cmF0aW9uIChyZXF1aXJlZCkuXG4gKiBAcmV0dXJucyB7e3Vua25vd246IFVua25vd24sIGludmFsaWQ6IEludmFsaWQsIGhhbmRsZXJzOiBIYW5kbGVycywgKC4uLnBhcmFtZXRlcnM6IFBhcmFtZXRlcnM8SGFuZGxlcnNba2V5b2YgSGFuZGxlcnNdPik6IFJldHVyblR5cGU8SGFuZGxlcnNba2V5b2YgSGFuZGxlcnNdPiwgKC4uLnBhcmFtZXRlcnM6IFBhcmFtZXRlcnM8VW5rbm93bj4pOiBSZXR1cm5UeXBlPFVua25vd24+fX1cbiAqL1xuZnVuY3Rpb24gendpdGNoKGtleSwgb3B0aW9ucykge1xuICBjb25zdCBzZXR0aW5ncyA9IG9wdGlvbnMgfHwge307XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBvbmUgdmFsdWUuXG4gICAqXG4gICAqIEJhc2VkIG9uIHRoZSBib3VuZCBga2V5YCwgYSByZXNwZWN0aXZlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQuXG4gICAqIElmIGB2YWx1ZWAgaXMgbm90IGFuIG9iamVjdCwgb3IgZG9lc27igJl0IGhhdmUgYSBga2V5YCBwcm9wZXJ0eSwgdGhlIHNwZWNpYWxcbiAgICog4oCcaW52YWxpZOKAnSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkLlxuICAgKiBJZiBgdmFsdWVgIGhhcyBhbiB1bmtub3duIGBrZXlgLCB0aGUgc3BlY2lhbCDigJx1bmtub3du4oCdIGhhbmRsZXIgd2lsbCBiZVxuICAgKiBjYWxsZWQuXG4gICAqXG4gICAqIEFsbCBhcmd1bWVudHMsIGFuZCB0aGUgY29udGV4dCBvYmplY3QsIGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgaGFuZGxlcixcbiAgICogYW5kIGl04oCZcyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAqXG4gICAqIEB0aGlzIHt1bmtub3dufVxuICAgKiAgIEFueSBjb250ZXh0IG9iamVjdC5cbiAgICogQHBhcmFtIHt1bmtub3dufSBbdmFsdWVdXG4gICAqICAgQW55IHZhbHVlLlxuICAgKiBAcGFyYW0gey4uLnVua25vd259IHBhcmFtZXRlcnNcbiAgICogICBBcmJpdHJhcnkgcGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIHp3aXRjaC5cbiAgICogQHByb3BlcnR5IHtIYW5kbGVyfSBpbnZhbGlkXG4gICAqICAgSGFuZGxlIGZvciB2YWx1ZXMgdGhhdCBkbyBub3QgaGF2ZSBhIGNlcnRhaW4gSUQgZmllbGQuXG4gICAqIEBwcm9wZXJ0eSB7SGFuZGxlcn0gdW5rbm93blxuICAgKiAgIEhhbmRsZSB2YWx1ZXMgdGhhdCBkbyBoYXZlIGEgY2VydGFpbiBJRCBmaWVsZCwgYnV0IGl04oCZcyBzZXQgdG8gYSB2YWx1ZVxuICAgKiAgIHRoYXQgaXMgbm90IGxpc3RlZCBpbiB0aGUgYGhhbmRsZXJzYCByZWNvcmQuXG4gICAqIEBwcm9wZXJ0eSB7SGFuZGxlcnN9IGhhbmRsZXJzXG4gICAqICAgUmVjb3JkIG9mIGhhbmRsZXJzLlxuICAgKiBAcmV0dXJucyB7dW5rbm93bn1cbiAgICogICBBbnl0aGluZy5cbiAgICovXG4gIGZ1bmN0aW9uIG9uZSh2YWx1ZSwgLi4ucGFyYW1ldGVycykge1xuICAgIC8qKiBAdHlwZSB7SGFuZGxlcnx1bmRlZmluZWR9ICovXG4gICAgbGV0IGZuID0gb25lLmludmFsaWQ7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBvbmUuaGFuZGxlcnM7XG5cbiAgICBpZiAodmFsdWUgJiYgb3duJDIuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBJbmRleGFibGUuXG4gICAgICBjb25zdCBpZCA9IFN0cmluZyh2YWx1ZVtrZXldKTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgSW5kZXhhYmxlLlxuICAgICAgZm4gPSBvd24kMi5jYWxsKGhhbmRsZXJzLCBpZCkgPyBoYW5kbGVyc1tpZF0gOiBvbmUudW5rbm93bjtcbiAgICB9XG5cbiAgICBpZiAoZm4pIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHZhbHVlLCAuLi5wYXJhbWV0ZXJzKVxuICAgIH1cbiAgfVxuXG4gIG9uZS5oYW5kbGVycyA9IHNldHRpbmdzLmhhbmRsZXJzIHx8IHt9O1xuICBvbmUuaW52YWxpZCA9IHNldHRpbmdzLmludmFsaWQ7XG4gIG9uZS51bmtub3duID0gc2V0dGluZ3MudW5rbm93bjtcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yOiBtYXRjaGVzIVxuICByZXR1cm4gb25lXG59XG5cbi8qKlxuICogQHR5cGVkZWYgQ29yZU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3N1YnNldD1bXV1cbiAqICAgV2hldGhlciB0byBvbmx5IGVzY2FwZSB0aGUgZ2l2ZW4gc3Vic2V0IG9mIGNoYXJhY3RlcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtlc2NhcGVPbmx5PWZhbHNlXVxuICogICBXaGV0aGVyIHRvIG9ubHkgZXNjYXBlIHBvc3NpYmx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLlxuICogICBUaG9zZSBjaGFyYWN0ZXJzIGFyZSBgXCJgLCBgJmAsIGAnYCwgYDxgLCBgPmAsIGFuZCBgYCBgIGBgLlxuICpcbiAqIEB0eXBlZGVmIEZvcm1hdE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7KGNvZGU6IG51bWJlciwgbmV4dDogbnVtYmVyLCBvcHRpb25zOiBDb3JlV2l0aEZvcm1hdE9wdGlvbnMpID0+IHN0cmluZ30gZm9ybWF0XG4gKiAgIEZvcm1hdCBzdHJhdGVneS5cbiAqXG4gKiBAdHlwZWRlZiB7Q29yZU9wdGlvbnMgJiBGb3JtYXRPcHRpb25zICYgaW1wb3J0KCcuL3V0aWwvZm9ybWF0LXNtYXJ0LmpzJykuRm9ybWF0U21hcnRPcHRpb25zfSBDb3JlV2l0aEZvcm1hdE9wdGlvbnNcbiAqL1xuXG4vKipcbiAqIEVuY29kZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gYHZhbHVlYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7Q29yZVdpdGhGb3JtYXRPcHRpb25zfSBvcHRpb25zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjb3JlKHZhbHVlLCBvcHRpb25zKSB7XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShcbiAgICBvcHRpb25zLnN1YnNldCA/IGNoYXJhY3RlcnNUb0V4cHJlc3Npb24ob3B0aW9ucy5zdWJzZXQpIDogL1tcIiYnPD5gXS9nLFxuICAgIGJhc2ljXG4gICk7XG5cbiAgaWYgKG9wdGlvbnMuc3Vic2V0IHx8IG9wdGlvbnMuZXNjYXBlT25seSkge1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICB2YWx1ZVxuICAgICAgLy8gU3Vycm9nYXRlIHBhaXJzLlxuICAgICAgLnJlcGxhY2UoL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZywgc3Vycm9nYXRlKVxuICAgICAgLy8gQk1QIGNvbnRyb2wgY2hhcmFjdGVycyAoQzAgZXhjZXB0IGZvciBMRiwgQ1IsIFNQOyBERUw7IGFuZCBzb21lIG1vcmVcbiAgICAgIC8vIG5vbi1BU0NJSSBvbmVzKS5cbiAgICAgIC5yZXBsYWNlKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleCwgdW5pY29ybi9uby1oZXgtZXNjYXBlXG4gICAgICAgIC9bXFx4MDEtXFx0XFx2XFxmXFx4MEUtXFx4MUZcXHg3RlxceDgxXFx4OERcXHg4RlxceDkwXFx4OURcXHhBMC1cXHVGRkZGXS9nLFxuICAgICAgICBiYXNpY1xuICAgICAgKVxuICApXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWlyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWxsXG4gICAqL1xuICBmdW5jdGlvbiBzdXJyb2dhdGUocGFpciwgaW5kZXgsIGFsbCkge1xuICAgIHJldHVybiBvcHRpb25zLmZvcm1hdChcbiAgICAgIChwYWlyLmNoYXJDb2RlQXQoMCkgLSAweGQ4MDApICogMHg0MDAgK1xuICAgICAgICBwYWlyLmNoYXJDb2RlQXQoMSkgLVxuICAgICAgICAweGRjMDAgK1xuICAgICAgICAweDEwMDAwLFxuICAgICAgYWxsLmNoYXJDb2RlQXQoaW5kZXggKyAyKSxcbiAgICAgIG9wdGlvbnNcbiAgICApXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlclxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFsbFxuICAgKi9cbiAgZnVuY3Rpb24gYmFzaWMoY2hhcmFjdGVyLCBpbmRleCwgYWxsKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZm9ybWF0KFxuICAgICAgY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCksXG4gICAgICBhbGwuY2hhckNvZGVBdChpbmRleCArIDEpLFxuICAgICAgb3B0aW9uc1xuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3Vic2V0XG4gKiBAcmV0dXJucyB7UmVnRXhwfVxuICovXG5mdW5jdGlvbiBjaGFyYWN0ZXJzVG9FeHByZXNzaW9uKHN1YnNldCkge1xuICAvKiogQHR5cGUge0FycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IGdyb3VwcyA9IFtdO1xuICBsZXQgaW5kZXggPSAtMTtcblxuICB3aGlsZSAoKytpbmRleCA8IHN1YnNldC5sZW5ndGgpIHtcbiAgICBncm91cHMucHVzaChzdWJzZXRbaW5kZXhdLnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLCAnXFxcXCQmJykpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBSZWdFeHAoJyg/OicgKyBncm91cHMuam9pbignfCcpICsgJyknLCAnZycpXG59XG5cbi8qKlxuICogQ29uZmlndXJhYmxlIHdheXMgdG8gZW5jb2RlIGNoYXJhY3RlcnMgYXMgaGV4YWRlY2ltYWwgcmVmZXJlbmNlcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZVxuICogQHBhcmFtIHtudW1iZXJ9IG5leHRcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IG9taXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRvSGV4YWRlY2ltYWwoY29kZSwgbmV4dCwgb21pdCkge1xuICBjb25zdCB2YWx1ZSA9ICcmI3gnICsgY29kZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgcmV0dXJuIG9taXQgJiYgbmV4dCAmJiAhL1tcXGRBLUZhLWZdLy50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCkpXG4gICAgPyB2YWx1ZVxuICAgIDogdmFsdWUgKyAnOydcbn1cblxuLyoqXG4gKiBDb25maWd1cmFibGUgd2F5cyB0byBlbmNvZGUgY2hhcmFjdGVycyBhcyBkZWNpbWFsIHJlZmVyZW5jZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXh0XG4gKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBvbWl0XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0b0RlY2ltYWwoY29kZSwgbmV4dCwgb21pdCkge1xuICBjb25zdCB2YWx1ZSA9ICcmIycgKyBTdHJpbmcoY29kZSk7XG4gIHJldHVybiBvbWl0ICYmIG5leHQgJiYgIS9cXGQvLnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0KSlcbiAgICA/IHZhbHVlXG4gICAgOiB2YWx1ZSArICc7J1xufVxuXG4vKipcbiAqIExpc3Qgb2YgbGVnYWN5IEhUTUwgbmFtZWQgY2hhcmFjdGVyIHJlZmVyZW5jZXMgdGhhdCBkb27igJl0IG5lZWQgYSB0cmFpbGluZyBzZW1pY29sb24uXG4gKlxuICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gKi9cbmNvbnN0IGNoYXJhY3RlckVudGl0aWVzTGVnYWN5ID0gW1xuICAnQUVsaWcnLFxuICAnQU1QJyxcbiAgJ0FhY3V0ZScsXG4gICdBY2lyYycsXG4gICdBZ3JhdmUnLFxuICAnQXJpbmcnLFxuICAnQXRpbGRlJyxcbiAgJ0F1bWwnLFxuICAnQ09QWScsXG4gICdDY2VkaWwnLFxuICAnRVRIJyxcbiAgJ0VhY3V0ZScsXG4gICdFY2lyYycsXG4gICdFZ3JhdmUnLFxuICAnRXVtbCcsXG4gICdHVCcsXG4gICdJYWN1dGUnLFxuICAnSWNpcmMnLFxuICAnSWdyYXZlJyxcbiAgJ0l1bWwnLFxuICAnTFQnLFxuICAnTnRpbGRlJyxcbiAgJ09hY3V0ZScsXG4gICdPY2lyYycsXG4gICdPZ3JhdmUnLFxuICAnT3NsYXNoJyxcbiAgJ090aWxkZScsXG4gICdPdW1sJyxcbiAgJ1FVT1QnLFxuICAnUkVHJyxcbiAgJ1RIT1JOJyxcbiAgJ1VhY3V0ZScsXG4gICdVY2lyYycsXG4gICdVZ3JhdmUnLFxuICAnVXVtbCcsXG4gICdZYWN1dGUnLFxuICAnYWFjdXRlJyxcbiAgJ2FjaXJjJyxcbiAgJ2FjdXRlJyxcbiAgJ2FlbGlnJyxcbiAgJ2FncmF2ZScsXG4gICdhbXAnLFxuICAnYXJpbmcnLFxuICAnYXRpbGRlJyxcbiAgJ2F1bWwnLFxuICAnYnJ2YmFyJyxcbiAgJ2NjZWRpbCcsXG4gICdjZWRpbCcsXG4gICdjZW50JyxcbiAgJ2NvcHknLFxuICAnY3VycmVuJyxcbiAgJ2RlZycsXG4gICdkaXZpZGUnLFxuICAnZWFjdXRlJyxcbiAgJ2VjaXJjJyxcbiAgJ2VncmF2ZScsXG4gICdldGgnLFxuICAnZXVtbCcsXG4gICdmcmFjMTInLFxuICAnZnJhYzE0JyxcbiAgJ2ZyYWMzNCcsXG4gICdndCcsXG4gICdpYWN1dGUnLFxuICAnaWNpcmMnLFxuICAnaWV4Y2wnLFxuICAnaWdyYXZlJyxcbiAgJ2lxdWVzdCcsXG4gICdpdW1sJyxcbiAgJ2xhcXVvJyxcbiAgJ2x0JyxcbiAgJ21hY3InLFxuICAnbWljcm8nLFxuICAnbWlkZG90JyxcbiAgJ25ic3AnLFxuICAnbm90JyxcbiAgJ250aWxkZScsXG4gICdvYWN1dGUnLFxuICAnb2NpcmMnLFxuICAnb2dyYXZlJyxcbiAgJ29yZGYnLFxuICAnb3JkbScsXG4gICdvc2xhc2gnLFxuICAnb3RpbGRlJyxcbiAgJ291bWwnLFxuICAncGFyYScsXG4gICdwbHVzbW4nLFxuICAncG91bmQnLFxuICAncXVvdCcsXG4gICdyYXF1bycsXG4gICdyZWcnLFxuICAnc2VjdCcsXG4gICdzaHknLFxuICAnc3VwMScsXG4gICdzdXAyJyxcbiAgJ3N1cDMnLFxuICAnc3psaWcnLFxuICAndGhvcm4nLFxuICAndGltZXMnLFxuICAndWFjdXRlJyxcbiAgJ3VjaXJjJyxcbiAgJ3VncmF2ZScsXG4gICd1bWwnLFxuICAndXVtbCcsXG4gICd5YWN1dGUnLFxuICAneWVuJyxcbiAgJ3l1bWwnXG5dO1xuXG4vKipcbiAqIE1hcCBvZiBuYW1lZCBjaGFyYWN0ZXIgcmVmZXJlbmNlcyBmcm9tIEhUTUwgNC5cbiAqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn1cbiAqL1xuY29uc3QgY2hhcmFjdGVyRW50aXRpZXNIdG1sNCA9IHtcbiAgbmJzcDogJ8KgJyxcbiAgaWV4Y2w6ICfCoScsXG4gIGNlbnQ6ICfCoicsXG4gIHBvdW5kOiAnwqMnLFxuICBjdXJyZW46ICfCpCcsXG4gIHllbjogJ8KlJyxcbiAgYnJ2YmFyOiAnwqYnLFxuICBzZWN0OiAnwqcnLFxuICB1bWw6ICfCqCcsXG4gIGNvcHk6ICfCqScsXG4gIG9yZGY6ICfCqicsXG4gIGxhcXVvOiAnwqsnLFxuICBub3Q6ICfCrCcsXG4gIHNoeTogJ8KtJyxcbiAgcmVnOiAnwq4nLFxuICBtYWNyOiAnwq8nLFxuICBkZWc6ICfCsCcsXG4gIHBsdXNtbjogJ8KxJyxcbiAgc3VwMjogJ8KyJyxcbiAgc3VwMzogJ8KzJyxcbiAgYWN1dGU6ICfCtCcsXG4gIG1pY3JvOiAnwrUnLFxuICBwYXJhOiAnwrYnLFxuICBtaWRkb3Q6ICfCtycsXG4gIGNlZGlsOiAnwrgnLFxuICBzdXAxOiAnwrknLFxuICBvcmRtOiAnwronLFxuICByYXF1bzogJ8K7JyxcbiAgZnJhYzE0OiAnwrwnLFxuICBmcmFjMTI6ICfCvScsXG4gIGZyYWMzNDogJ8K+JyxcbiAgaXF1ZXN0OiAnwr8nLFxuICBBZ3JhdmU6ICfDgCcsXG4gIEFhY3V0ZTogJ8OBJyxcbiAgQWNpcmM6ICfDgicsXG4gIEF0aWxkZTogJ8ODJyxcbiAgQXVtbDogJ8OEJyxcbiAgQXJpbmc6ICfDhScsXG4gIEFFbGlnOiAnw4YnLFxuICBDY2VkaWw6ICfDhycsXG4gIEVncmF2ZTogJ8OIJyxcbiAgRWFjdXRlOiAnw4knLFxuICBFY2lyYzogJ8OKJyxcbiAgRXVtbDogJ8OLJyxcbiAgSWdyYXZlOiAnw4wnLFxuICBJYWN1dGU6ICfDjScsXG4gIEljaXJjOiAnw44nLFxuICBJdW1sOiAnw48nLFxuICBFVEg6ICfDkCcsXG4gIE50aWxkZTogJ8ORJyxcbiAgT2dyYXZlOiAnw5InLFxuICBPYWN1dGU6ICfDkycsXG4gIE9jaXJjOiAnw5QnLFxuICBPdGlsZGU6ICfDlScsXG4gIE91bWw6ICfDlicsXG4gIHRpbWVzOiAnw5cnLFxuICBPc2xhc2g6ICfDmCcsXG4gIFVncmF2ZTogJ8OZJyxcbiAgVWFjdXRlOiAnw5onLFxuICBVY2lyYzogJ8ObJyxcbiAgVXVtbDogJ8OcJyxcbiAgWWFjdXRlOiAnw50nLFxuICBUSE9STjogJ8OeJyxcbiAgc3psaWc6ICfDnycsXG4gIGFncmF2ZTogJ8OgJyxcbiAgYWFjdXRlOiAnw6EnLFxuICBhY2lyYzogJ8OiJyxcbiAgYXRpbGRlOiAnw6MnLFxuICBhdW1sOiAnw6QnLFxuICBhcmluZzogJ8OlJyxcbiAgYWVsaWc6ICfDpicsXG4gIGNjZWRpbDogJ8OnJyxcbiAgZWdyYXZlOiAnw6gnLFxuICBlYWN1dGU6ICfDqScsXG4gIGVjaXJjOiAnw6onLFxuICBldW1sOiAnw6snLFxuICBpZ3JhdmU6ICfDrCcsXG4gIGlhY3V0ZTogJ8OtJyxcbiAgaWNpcmM6ICfDricsXG4gIGl1bWw6ICfDrycsXG4gIGV0aDogJ8OwJyxcbiAgbnRpbGRlOiAnw7EnLFxuICBvZ3JhdmU6ICfDsicsXG4gIG9hY3V0ZTogJ8OzJyxcbiAgb2NpcmM6ICfDtCcsXG4gIG90aWxkZTogJ8O1JyxcbiAgb3VtbDogJ8O2JyxcbiAgZGl2aWRlOiAnw7cnLFxuICBvc2xhc2g6ICfDuCcsXG4gIHVncmF2ZTogJ8O5JyxcbiAgdWFjdXRlOiAnw7onLFxuICB1Y2lyYzogJ8O7JyxcbiAgdXVtbDogJ8O8JyxcbiAgeWFjdXRlOiAnw70nLFxuICB0aG9ybjogJ8O+JyxcbiAgeXVtbDogJ8O/JyxcbiAgZm5vZjogJ8aSJyxcbiAgQWxwaGE6ICfOkScsXG4gIEJldGE6ICfOkicsXG4gIEdhbW1hOiAnzpMnLFxuICBEZWx0YTogJ86UJyxcbiAgRXBzaWxvbjogJ86VJyxcbiAgWmV0YTogJ86WJyxcbiAgRXRhOiAnzpcnLFxuICBUaGV0YTogJ86YJyxcbiAgSW90YTogJ86ZJyxcbiAgS2FwcGE6ICfOmicsXG4gIExhbWJkYTogJ86bJyxcbiAgTXU6ICfOnCcsXG4gIE51OiAnzp0nLFxuICBYaTogJ86eJyxcbiAgT21pY3JvbjogJ86fJyxcbiAgUGk6ICfOoCcsXG4gIFJobzogJ86hJyxcbiAgU2lnbWE6ICfOoycsXG4gIFRhdTogJ86kJyxcbiAgVXBzaWxvbjogJ86lJyxcbiAgUGhpOiAnzqYnLFxuICBDaGk6ICfOpycsXG4gIFBzaTogJ86oJyxcbiAgT21lZ2E6ICfOqScsXG4gIGFscGhhOiAnzrEnLFxuICBiZXRhOiAnzrInLFxuICBnYW1tYTogJ86zJyxcbiAgZGVsdGE6ICfOtCcsXG4gIGVwc2lsb246ICfOtScsXG4gIHpldGE6ICfOticsXG4gIGV0YTogJ863JyxcbiAgdGhldGE6ICfOuCcsXG4gIGlvdGE6ICfOuScsXG4gIGthcHBhOiAnzronLFxuICBsYW1iZGE6ICfOuycsXG4gIG11OiAnzrwnLFxuICBudTogJ869JyxcbiAgeGk6ICfOvicsXG4gIG9taWNyb246ICfOvycsXG4gIHBpOiAnz4AnLFxuICByaG86ICfPgScsXG4gIHNpZ21hZjogJ8+CJyxcbiAgc2lnbWE6ICfPgycsXG4gIHRhdTogJ8+EJyxcbiAgdXBzaWxvbjogJ8+FJyxcbiAgcGhpOiAnz4YnLFxuICBjaGk6ICfPhycsXG4gIHBzaTogJ8+IJyxcbiAgb21lZ2E6ICfPiScsXG4gIHRoZXRhc3ltOiAnz5EnLFxuICB1cHNpaDogJ8+SJyxcbiAgcGl2OiAnz5YnLFxuICBidWxsOiAn4oCiJyxcbiAgaGVsbGlwOiAn4oCmJyxcbiAgcHJpbWU6ICfigLInLFxuICBQcmltZTogJ+KAsycsXG4gIG9saW5lOiAn4oC+JyxcbiAgZnJhc2w6ICfigYQnLFxuICB3ZWllcnA6ICfihJgnLFxuICBpbWFnZTogJ+KEkScsXG4gIHJlYWw6ICfihJwnLFxuICB0cmFkZTogJ+KEoicsXG4gIGFsZWZzeW06ICfihLUnLFxuICBsYXJyOiAn4oaQJyxcbiAgdWFycjogJ+KGkScsXG4gIHJhcnI6ICfihpInLFxuICBkYXJyOiAn4oaTJyxcbiAgaGFycjogJ+KGlCcsXG4gIGNyYXJyOiAn4oa1JyxcbiAgbEFycjogJ+KHkCcsXG4gIHVBcnI6ICfih5EnLFxuICByQXJyOiAn4oeSJyxcbiAgZEFycjogJ+KHkycsXG4gIGhBcnI6ICfih5QnLFxuICBmb3JhbGw6ICfiiIAnLFxuICBwYXJ0OiAn4oiCJyxcbiAgZXhpc3Q6ICfiiIMnLFxuICBlbXB0eTogJ+KIhScsXG4gIG5hYmxhOiAn4oiHJyxcbiAgaXNpbjogJ+KIiCcsXG4gIG5vdGluOiAn4oiJJyxcbiAgbmk6ICfiiIsnLFxuICBwcm9kOiAn4oiPJyxcbiAgc3VtOiAn4oiRJyxcbiAgbWludXM6ICfiiJInLFxuICBsb3dhc3Q6ICfiiJcnLFxuICByYWRpYzogJ+KImicsXG4gIHByb3A6ICfiiJ0nLFxuICBpbmZpbjogJ+KInicsXG4gIGFuZzogJ+KIoCcsXG4gIGFuZDogJ+KIpycsXG4gIG9yOiAn4oioJyxcbiAgY2FwOiAn4oipJyxcbiAgY3VwOiAn4oiqJyxcbiAgaW50OiAn4oirJyxcbiAgdGhlcmU0OiAn4oi0JyxcbiAgc2ltOiAn4oi8JyxcbiAgY29uZzogJ+KJhScsXG4gIGFzeW1wOiAn4omIJyxcbiAgbmU6ICfiiaAnLFxuICBlcXVpdjogJ+KJoScsXG4gIGxlOiAn4omkJyxcbiAgZ2U6ICfiiaUnLFxuICBzdWI6ICfiioInLFxuICBzdXA6ICfiioMnLFxuICBuc3ViOiAn4oqEJyxcbiAgc3ViZTogJ+KKhicsXG4gIHN1cGU6ICfiiocnLFxuICBvcGx1czogJ+KKlScsXG4gIG90aW1lczogJ+KKlycsXG4gIHBlcnA6ICfiiqUnLFxuICBzZG90OiAn4ouFJyxcbiAgbGNlaWw6ICfijIgnLFxuICByY2VpbDogJ+KMiScsXG4gIGxmbG9vcjogJ+KMiicsXG4gIHJmbG9vcjogJ+KMiycsXG4gIGxhbmc6ICfijKknLFxuICByYW5nOiAn4oyqJyxcbiAgbG96OiAn4peKJyxcbiAgc3BhZGVzOiAn4pmgJyxcbiAgY2x1YnM6ICfimaMnLFxuICBoZWFydHM6ICfimaUnLFxuICBkaWFtczogJ+KZpicsXG4gIHF1b3Q6ICdcIicsXG4gIGFtcDogJyYnLFxuICBsdDogJzwnLFxuICBndDogJz4nLFxuICBPRWxpZzogJ8WSJyxcbiAgb2VsaWc6ICfFkycsXG4gIFNjYXJvbjogJ8WgJyxcbiAgc2Nhcm9uOiAnxaEnLFxuICBZdW1sOiAnxbgnLFxuICBjaXJjOiAny4YnLFxuICB0aWxkZTogJ8ucJyxcbiAgZW5zcDogJ+KAgicsXG4gIGVtc3A6ICfigIMnLFxuICB0aGluc3A6ICfigIknLFxuICB6d25qOiAn4oCMJyxcbiAgendqOiAn4oCNJyxcbiAgbHJtOiAn4oCOJyxcbiAgcmxtOiAn4oCPJyxcbiAgbmRhc2g6ICfigJMnLFxuICBtZGFzaDogJ+KAlCcsXG4gIGxzcXVvOiAn4oCYJyxcbiAgcnNxdW86ICfigJknLFxuICBzYnF1bzogJ+KAmicsXG4gIGxkcXVvOiAn4oCcJyxcbiAgcmRxdW86ICfigJ0nLFxuICBiZHF1bzogJ+KAnicsXG4gIGRhZ2dlcjogJ+KAoCcsXG4gIERhZ2dlcjogJ+KAoScsXG4gIHBlcm1pbDogJ+KAsCcsXG4gIGxzYXF1bzogJ+KAuScsXG4gIHJzYXF1bzogJ+KAuicsXG4gIGV1cm86ICfigqwnXG59O1xuXG4vKipcbiAqIExpc3Qgb2YgbGVnYWN5ICh0aGF0IGRvbuKAmXQgbmVlZCBhIHRyYWlsaW5nIGA7YCkgbmFtZWQgcmVmZXJlbmNlcyB3aGljaCBjb3VsZCxcbiAqIGRlcGVuZGluZyBvbiB3aGF0IGZvbGxvd3MgdGhlbSwgdHVybiBpbnRvIGEgZGlmZmVyZW50IG1lYW5pbmdcbiAqXG4gKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAqL1xuY29uc3QgZGFuZ2Vyb3VzID0gW1xuICAnY2VudCcsXG4gICdjb3B5JyxcbiAgJ2RpdmlkZScsXG4gICdndCcsXG4gICdsdCcsXG4gICdub3QnLFxuICAncGFyYScsXG4gICd0aW1lcydcbl07XG5cbmNvbnN0IG93biQxID0ge30uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogYGNoYXJhY3RlckVudGl0aWVzSHRtbDRgIGJ1dCBpbnZlcnRlZC5cbiAqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn1cbiAqL1xuY29uc3QgY2hhcmFjdGVycyA9IHt9O1xuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbmxldCBrZXk7XG5cbmZvciAoa2V5IGluIGNoYXJhY3RlckVudGl0aWVzSHRtbDQpIHtcbiAgaWYgKG93biQxLmNhbGwoY2hhcmFjdGVyRW50aXRpZXNIdG1sNCwga2V5KSkge1xuICAgIGNoYXJhY3RlcnNbY2hhcmFjdGVyRW50aXRpZXNIdG1sNFtrZXldXSA9IGtleTtcbiAgfVxufVxuXG4vKipcbiAqIENvbmZpZ3VyYWJsZSB3YXlzIHRvIGVuY29kZSBjaGFyYWN0ZXJzIGFzIG5hbWVkIHJlZmVyZW5jZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXh0XG4gKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBvbWl0XG4gKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRvTmFtZWQoY29kZSwgbmV4dCwgb21pdCwgYXR0cmlidXRlKSB7XG4gIGNvbnN0IGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG5cbiAgaWYgKG93biQxLmNhbGwoY2hhcmFjdGVycywgY2hhcmFjdGVyKSkge1xuICAgIGNvbnN0IG5hbWUgPSBjaGFyYWN0ZXJzW2NoYXJhY3Rlcl07XG4gICAgY29uc3QgdmFsdWUgPSAnJicgKyBuYW1lO1xuXG4gICAgaWYgKFxuICAgICAgb21pdCAmJlxuICAgICAgY2hhcmFjdGVyRW50aXRpZXNMZWdhY3kuaW5jbHVkZXMobmFtZSkgJiZcbiAgICAgICFkYW5nZXJvdXMuaW5jbHVkZXMobmFtZSkgJiZcbiAgICAgICghYXR0cmlidXRlIHx8XG4gICAgICAgIChuZXh0ICYmXG4gICAgICAgICAgbmV4dCAhPT0gNjEgLyogYD1gICovICYmXG4gICAgICAgICAgL1teXFxkYS16XS9pLnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0KSkpKVxuICAgICkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlICsgJzsnXG4gIH1cblxuICByZXR1cm4gJydcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiBGb3JtYXRTbWFydE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZU5hbWVkUmVmZXJlbmNlcz1mYWxzZV1cbiAqICAgUHJlZmVyIG5hbWVkIGNoYXJhY3RlciByZWZlcmVuY2VzIChgJmFtcDtgKSB3aGVyZSBwb3NzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZVNob3J0ZXN0UmVmZXJlbmNlcz1mYWxzZV1cbiAqICAgUHJlZmVyIHRoZSBzaG9ydGVzdCBwb3NzaWJsZSByZWZlcmVuY2UsIGlmIHRoYXQgcmVzdWx0cyBpbiBsZXNzIGJ5dGVzLlxuICogICAqKk5vdGUqKjogYHVzZU5hbWVkUmVmZXJlbmNlc2AgY2FuIGJlIG9taXR0ZWQgd2hlbiB1c2luZyBgdXNlU2hvcnRlc3RSZWZlcmVuY2VzYC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29taXRPcHRpb25hbFNlbWljb2xvbnM9ZmFsc2VdXG4gKiAgIFdoZXRoZXIgdG8gb21pdCBzZW1pY29sb25zIHdoZW4gcG9zc2libGUuXG4gKiAgICoqTm90ZSoqOiBUaGlzIGNyZWF0ZXMgd2hhdCBIVE1MIGNhbGxzIOKAnHBhcnNlIGVycm9yc+KAnSBidXQgaXMgb3RoZXJ3aXNlIHN0aWxsIHZhbGlkIEhUTUwg4oCUIGRvbuKAmXQgdXNlIHRoaXMgZXhjZXB0IHdoZW4gYnVpbGRpbmcgYSBtaW5pZmllci5cbiAqICAgT21pdHRpbmcgc2VtaWNvbG9ucyBpcyBwb3NzaWJsZSBmb3IgY2VydGFpbiBuYW1lZCBhbmQgbnVtZXJpYyByZWZlcmVuY2VzIGluIHNvbWUgY2FzZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGU9ZmFsc2VdXG4gKiAgIENyZWF0ZSBjaGFyYWN0ZXIgcmVmZXJlbmNlcyB3aGljaCBkb27igJl0IGZhaWwgaW4gYXR0cmlidXRlcy5cbiAqICAgKipOb3RlKio6IGBhdHRyaWJ1dGVgIG9ubHkgYXBwbGllcyB3aGVuIG9wZXJhdGluZyBkYW5nZXJvdXNseSB3aXRoXG4gKiAgIGBvbWl0T3B0aW9uYWxTZW1pY29sb25zOiB0cnVlYC5cbiAqL1xuXG5cbi8qKlxuICogQ29uZmlndXJhYmxlIHdheXMgdG8gZW5jb2RlIGEgY2hhcmFjdGVyIHlpZWxkaW5nIHByZXR0eSBvciBzbWFsbCByZXN1bHRzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gbmV4dFxuICogQHBhcmFtIHtGb3JtYXRTbWFydE9wdGlvbnN9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFNtYXJ0KGNvZGUsIG5leHQsIG9wdGlvbnMpIHtcbiAgbGV0IG51bWVyaWMgPSB0b0hleGFkZWNpbWFsKGNvZGUsIG5leHQsIG9wdGlvbnMub21pdE9wdGlvbmFsU2VtaWNvbG9ucyk7XG4gIC8qKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH0gKi9cbiAgbGV0IG5hbWVkO1xuXG4gIGlmIChvcHRpb25zLnVzZU5hbWVkUmVmZXJlbmNlcyB8fCBvcHRpb25zLnVzZVNob3J0ZXN0UmVmZXJlbmNlcykge1xuICAgIG5hbWVkID0gdG9OYW1lZChcbiAgICAgIGNvZGUsXG4gICAgICBuZXh0LFxuICAgICAgb3B0aW9ucy5vbWl0T3B0aW9uYWxTZW1pY29sb25zLFxuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGVcbiAgICApO1xuICB9XG5cbiAgLy8gVXNlIHRoZSBzaG9ydGVzdCBudW1lcmljIHJlZmVyZW5jZSB3aGVuIHJlcXVlc3RlZC5cbiAgLy8gQSBzaW1wbGUgYWxnb3JpdGhtIHdvdWxkIHVzZSBkZWNpbWFsIGZvciBhbGwgY29kZSBwb2ludHMgdW5kZXIgMTAwLCBhc1xuICAvLyB0aG9zZSBhcmUgc2hvcnRlciB0aGFuIGhleGFkZWNpbWFsOlxuICAvL1xuICAvLyAqIGAmIzk5O2AgdnMgYCYjeDYzO2AgKGRlY2ltYWwgc2hvcnRlcilcbiAgLy8gKiBgJiMxMDA7YCB2cyBgJiN4NjQ7YCAoZXF1YWwpXG4gIC8vXG4gIC8vIEhvd2V2ZXIsIGJlY2F1c2Ugd2UgdGFrZSBgbmV4dGAgaW50byBjb25zaWRlcmF0aW9uIHdoZW4gYG9taXRgIGlzIHVzZWQsXG4gIC8vIEFuZCBpdCB3b3VsZCBiZSBwb3NzaWJsZSB0aGF0IGRlY2ltYWxzIGFyZSBzaG9ydGVyIG9uIGJpZ2dlciB2YWx1ZXMgYXNcbiAgLy8gd2VsbCBpZiBgbmV4dGAgaXMgaGV4YWRlY2ltYWwgYnV0IG5vdCBkZWNpbWFsLCB3ZSBpbnN0ZWFkIGNvbXBhcmUgYm90aC5cbiAgaWYgKFxuICAgIChvcHRpb25zLnVzZVNob3J0ZXN0UmVmZXJlbmNlcyB8fCAhbmFtZWQpICYmXG4gICAgb3B0aW9ucy51c2VTaG9ydGVzdFJlZmVyZW5jZXNcbiAgKSB7XG4gICAgY29uc3QgZGVjaW1hbCA9IHRvRGVjaW1hbChjb2RlLCBuZXh0LCBvcHRpb25zLm9taXRPcHRpb25hbFNlbWljb2xvbnMpO1xuXG4gICAgaWYgKGRlY2ltYWwubGVuZ3RoIDwgbnVtZXJpYy5sZW5ndGgpIHtcbiAgICAgIG51bWVyaWMgPSBkZWNpbWFsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lZCAmJlxuICAgICghb3B0aW9ucy51c2VTaG9ydGVzdFJlZmVyZW5jZXMgfHwgbmFtZWQubGVuZ3RoIDwgbnVtZXJpYy5sZW5ndGgpXG4gICAgPyBuYW1lZFxuICAgIDogbnVtZXJpY1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vY29yZS5qcycpLkNvcmVPcHRpb25zICYgaW1wb3J0KCcuL3V0aWwvZm9ybWF0LXNtYXJ0LmpzJykuRm9ybWF0U21hcnRPcHRpb25zfSBPcHRpb25zXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2NvcmUuanMnKS5Db3JlT3B0aW9uc30gTGlnaHRPcHRpb25zXG4gKi9cblxuXG4vKipcbiAqIEVuY29kZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gYHZhbHVlYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqICAgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc11cbiAqICAgQ29uZmlndXJhdGlvbi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiAgIEVuY29kZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeUVudGl0aWVzKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiBjb3JlKHZhbHVlLCBPYmplY3QuYXNzaWduKHtmb3JtYXQ6IGZvcm1hdFNtYXJ0fSwgb3B0aW9ucykpXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLkNvbW1lbnR9IENvbW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5QYXJlbnRzfSBQYXJlbnRzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW5kZXguanMnKS5TdGF0ZX0gU3RhdGVcbiAqL1xuXG5cbi8qKlxuICogU2VyaWFsaXplIGEgY29tbWVudC5cbiAqXG4gKiBAcGFyYW0ge0NvbW1lbnR9IG5vZGVcbiAqICAgTm9kZSB0byBoYW5kbGUuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gXzFcbiAqICAgSW5kZXggb2YgYG5vZGVgIGluIGBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IF8yXG4gKiAgIFBhcmVudCBvZiBgbm9kZWAuXG4gKiBAcGFyYW0ge1N0YXRlfSBzdGF0ZVxuICogICBJbmZvIHBhc3NlZCBhcm91bmQgYWJvdXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogICBTZXJpYWxpemVkIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbW1lbnQobm9kZSwgXzEsIF8yLCBzdGF0ZSkge1xuICAvLyBTZWU6IDxodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNjb21tZW50cz5cbiAgcmV0dXJuIHN0YXRlLnNldHRpbmdzLmJvZ3VzQ29tbWVudHNcbiAgICA/ICc8PycgK1xuICAgICAgICBzdHJpbmdpZnlFbnRpdGllcyhcbiAgICAgICAgICBub2RlLnZhbHVlLFxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnNldHRpbmdzLmNoYXJhY3RlclJlZmVyZW5jZXMsIHtzdWJzZXQ6IFsnPiddfSlcbiAgICAgICAgKSArXG4gICAgICAgICc+J1xuICAgIDogJzwhLS0nICsgbm9kZS52YWx1ZS5yZXBsYWNlKC9ePnxeLT58PCEtLXwtLT58LS0hPnw8IS0kL2csIGVuY29kZSkgKyAnLS0+J1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gJDBcbiAgICovXG4gIGZ1bmN0aW9uIGVuY29kZSgkMCkge1xuICAgIHJldHVybiBzdHJpbmdpZnlFbnRpdGllcyhcbiAgICAgICQwLFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc2V0dGluZ3MuY2hhcmFjdGVyUmVmZXJlbmNlcywge1xuICAgICAgICBzdWJzZXQ6IFsnPCcsICc+J11cbiAgICAgIH0pXG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLkRvY3R5cGV9IERvY3R5cGVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5QYXJlbnRzfSBQYXJlbnRzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW5kZXguanMnKS5TdGF0ZX0gU3RhdGVcbiAqL1xuXG5cbi8qKlxuICogU2VyaWFsaXplIGEgZG9jdHlwZS5cbiAqXG4gKiBAcGFyYW0ge0RvY3R5cGV9IF8xXG4gKiAgIE5vZGUgdG8gaGFuZGxlLlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IF8yXG4gKiAgIEluZGV4IG9mIGBub2RlYCBpbiBgcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBfM1xuICogICBQYXJlbnQgb2YgYG5vZGVgLlxuICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcbiAqICAgSW5mbyBwYXNzZWQgYXJvdW5kIGFib3V0IHRoZSBjdXJyZW50IHN0YXRlLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqICAgU2VyaWFsaXplZCBub2RlLlxuICovXG5mdW5jdGlvbiBkb2N0eXBlKF8xLCBfMiwgXzMsIHN0YXRlKSB7XG4gIHJldHVybiAoXG4gICAgJzwhJyArXG4gICAgKHN0YXRlLnNldHRpbmdzLnVwcGVyRG9jdHlwZSA/ICdET0NUWVBFJyA6ICdkb2N0eXBlJykgK1xuICAgIChzdGF0ZS5zZXR0aW5ncy50aWdodERvY3R5cGUgPyAnJyA6ICcgJykgK1xuICAgICdodG1sPidcbiAgKVxufVxuXG4vKipcbiAqIENvdW50IGhvdyBvZnRlbiBhIGNoYXJhY3RlciAob3Igc3Vic3RyaW5nKSBpcyB1c2VkIGluIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogICBWYWx1ZSB0byBzZWFyY2ggaW4uXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyXG4gKiAgIENoYXJhY3RlciAob3Igc3Vic3RyaW5nKSB0byBsb29rIGZvci5cbiAqIEByZXR1cm4ge251bWJlcn1cbiAqICAgTnVtYmVyIG9mIHRpbWVzIGBjaGFyYWN0ZXJgIG9jY3VycmVkIGluIGB2YWx1ZWAuXG4gKi9cbmZ1bmN0aW9uIGNjb3VudCh2YWx1ZSwgY2hhcmFjdGVyKSB7XG4gIGNvbnN0IHNvdXJjZSA9IFN0cmluZyh2YWx1ZSk7XG5cbiAgaWYgKHR5cGVvZiBjaGFyYWN0ZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgY2hhcmFjdGVyJylcbiAgfVxuXG4gIGxldCBjb3VudCA9IDA7XG4gIGxldCBpbmRleCA9IHNvdXJjZS5pbmRleE9mKGNoYXJhY3Rlcik7XG5cbiAgd2hpbGUgKGluZGV4ICE9PSAtMSkge1xuICAgIGNvdW50Kys7XG4gICAgaW5kZXggPSBzb3VyY2UuaW5kZXhPZihjaGFyYWN0ZXIsIGluZGV4ICsgY2hhcmFjdGVyLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gY291bnRcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiBPcHRpb25zXG4gKiAgIENvbmZpZ3VyYXRpb24gZm9yIGBzdHJpbmdpZnlgLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGFkTGVmdD10cnVlXVxuICogICBXaGV0aGVyIHRvIHBhZCBhIHNwYWNlIGJlZm9yZSBhIHRva2VuLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGFkUmlnaHQ9ZmFsc2VdXG4gKiAgIFdoZXRoZXIgdG8gcGFkIGEgc3BhY2UgYWZ0ZXIgYSB0b2tlbi5cbiAqL1xuXG5cbi8qKlxuICogU2VyaWFsaXplIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgbnVtYmVycyB0byBjb21tYS1zZXBhcmF0ZWQgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfG51bWJlcj59IHZhbHVlc1xuICogICBMaXN0IG9mIHRva2Vucy5cbiAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdXG4gKiAgIENvbmZpZ3VyYXRpb24gZm9yIGBzdHJpbmdpZnlgIChvcHRpb25hbCkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogICBDb21tYS1zZXBhcmF0ZWQgdG9rZW5zLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnkkMSh2YWx1ZXMsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2V0dGluZ3MgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIEVuc3VyZSB0aGUgbGFzdCBlbXB0eSBlbnRyeSBpcyBzZWVuLlxuICBjb25zdCBpbnB1dCA9IHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV0gPT09ICcnID8gWy4uLnZhbHVlcywgJyddIDogdmFsdWVzO1xuXG4gIHJldHVybiBpbnB1dFxuICAgIC5qb2luKFxuICAgICAgKHNldHRpbmdzLnBhZFJpZ2h0ID8gJyAnIDogJycpICtcbiAgICAgICAgJywnICtcbiAgICAgICAgKHNldHRpbmdzLnBhZExlZnQgPT09IGZhbHNlID8gJycgOiAnICcpXG4gICAgKVxuICAgIC50cmltKClcbn1cblxuLyoqXG4gKiBQYXJzZSBzcGFjZS1zZXBhcmF0ZWQgdG9rZW5zIHRvIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiAgIFNwYWNlLXNlcGFyYXRlZCB0b2tlbnMuXG4gKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn1cbiAqICAgTGlzdCBvZiB0b2tlbnMuXG4gKi9cblxuLyoqXG4gKiBTZXJpYWxpemUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBhcyBzcGFjZSBzZXBhcmF0ZWQtdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfG51bWJlcj59IHZhbHVlc1xuICogICBMaXN0IG9mIHRva2Vucy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiAgIFNwYWNlLXNlcGFyYXRlZCB0b2tlbnMuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZXMpIHtcbiAgcmV0dXJuIHZhbHVlcy5qb2luKCcgJykudHJpbSgpXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLk5vZGVzfSBOb2Rlc1xuICovXG5cbi8vIEhUTUwgd2hpdGVzcGFjZSBleHByZXNzaW9uLlxuLy8gU2VlIDxodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jYXNjaWktd2hpdGVzcGFjZT4uXG5jb25zdCByZSA9IC9bIFxcdFxcblxcZlxccl0vZztcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgKmludGVyLWVsZW1lbnQgd2hpdGVzcGFjZSouXG4gKlxuICogQHBhcmFtIHtOb2RlcyB8IHN0cmluZ30gdGhpbmdcbiAqICAgVGhpbmcgdG8gY2hlY2sgKGBOb2RlYCBvciBgc3RyaW5nYCkuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgYHZhbHVlYCBpcyBpbnRlci1lbGVtZW50IHdoaXRlc3BhY2UgKGBib29sZWFuYCk6IGNvbnNpc3Rpbmcgb2ZcbiAqICAgemVybyBvciBtb3JlIG9mIHNwYWNlLCB0YWIgKGBcXHRgKSwgbGluZSBmZWVkIChgXFxuYCksIGNhcnJpYWdlIHJldHVyblxuICogICAoYFxccmApLCBvciBmb3JtIGZlZWQgKGBcXGZgKTsgaWYgYSBub2RlIGlzIHBhc3NlZCBpdCBtdXN0IGJlIGEgYFRleHRgIG5vZGUsXG4gKiAgIHdob3NlIGB2YWx1ZWAgZmllbGQgaXMgY2hlY2tlZC5cbiAqL1xuZnVuY3Rpb24gd2hpdGVzcGFjZSh0aGluZykge1xuICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0J1xuICAgID8gdGhpbmcudHlwZSA9PT0gJ3RleHQnXG4gICAgICA/IGVtcHR5KHRoaW5nLnZhbHVlKVxuICAgICAgOiBmYWxzZVxuICAgIDogZW1wdHkodGhpbmcpXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZW1wdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UocmUsICcnKSA9PT0gJydcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdoYXN0JykuUGFyZW50c30gUGFyZW50c1xuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlJvb3RDb250ZW50fSBSb290Q29udGVudFxuICovXG5cblxuY29uc3Qgc2libGluZ0FmdGVyID0gc2libGluZ3MoMSk7XG5jb25zdCBzaWJsaW5nQmVmb3JlID0gc2libGluZ3MoLTEpO1xuXG4vKiogQHR5cGUge0FycmF5PFJvb3RDb250ZW50Pn0gKi9cbmNvbnN0IGVtcHR5Q2hpbGRyZW4kMSA9IFtdO1xuXG4vKipcbiAqIEZhY3RvcnkgdG8gY2hlY2sgc2libGluZ3MgaW4gYSBkaXJlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGluY3JlbWVudFxuICovXG5mdW5jdGlvbiBzaWJsaW5ncyhpbmNyZW1lbnQpIHtcbiAgcmV0dXJuIHNpYmxpbmdcblxuICAvKipcbiAgICogRmluZCBhcHBsaWNhYmxlIHNpYmxpbmdzIGluIGEgZGlyZWN0aW9uLlxuICAgKlxuICAgKiBAdGVtcGxhdGUge1BhcmVudHN9IFBhcmVudFxuICAgKiAgIFBhcmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge1BhcmVudCB8IHVuZGVmaW5lZH0gcGFyZW50XG4gICAqICAgUGFyZW50LlxuICAgKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAgICogICBJbmRleCBvZiBjaGlsZCBpbiBgcGFyZW50YC5cbiAgICogQHBhcmFtIHtib29sZWFuIHwgdW5kZWZpbmVkfSBbaW5jbHVkZVdoaXRlc3BhY2U9ZmFsc2VdXG4gICAqICAgV2hldGhlciB0byBpbmNsdWRlIHdoaXRlc3BhY2UgKGRlZmF1bHQ6IGBmYWxzZWApLlxuICAgKiBAcmV0dXJucyB7UGFyZW50IGV4dGVuZHMge2NoaWxkcmVuOiBBcnJheTxpbmZlciBDaGlsZD59ID8gQ2hpbGQgfCB1bmRlZmluZWQgOiBuZXZlcn1cbiAgICogICBDaGlsZCBvZiBwYXJlbnQuXG4gICAqL1xuICBmdW5jdGlvbiBzaWJsaW5nKHBhcmVudCwgaW5kZXgsIGluY2x1ZGVXaGl0ZXNwYWNlKSB7XG4gICAgY29uc3Qgc2libGluZ3MgPSBwYXJlbnQgPyBwYXJlbnQuY2hpbGRyZW4gOiBlbXB0eUNoaWxkcmVuJDE7XG4gICAgbGV0IG9mZnNldCA9IChpbmRleCB8fCAwKSArIGluY3JlbWVudDtcbiAgICBsZXQgbmV4dCA9IHNpYmxpbmdzW29mZnNldF07XG5cbiAgICBpZiAoIWluY2x1ZGVXaGl0ZXNwYWNlKSB7XG4gICAgICB3aGlsZSAobmV4dCAmJiB3aGl0ZXNwYWNlKG5leHQpKSB7XG4gICAgICAgIG9mZnNldCArPSBpbmNyZW1lbnQ7XG4gICAgICAgIG5leHQgPSBzaWJsaW5nc1tvZmZzZXRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGl04oCZcyBhIGNvcnJlY3QgY2hpbGQuXG4gICAgcmV0dXJuIG5leHRcbiAgfVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdoYXN0JykuUGFyZW50c30gUGFyZW50c1xuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIE9taXRIYW5kbGVcbiAqICAgQ2hlY2sgaWYgYSB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqICAgRWxlbWVudCB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpbmRleFxuICogICBJbmRleCBvZiBlbGVtZW50IGluIHBhcmVudC5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiAgIFdoZXRoZXIgdG8gb21pdCBhIHRhZy5cbiAqXG4gKi9cblxuY29uc3Qgb3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogRmFjdG9yeSB0byBjaGVjayBpZiBhIGdpdmVuIG5vZGUgY2FuIGhhdmUgYSB0YWcgb21pdHRlZC5cbiAqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIE9taXRIYW5kbGU+fSBoYW5kbGVyc1xuICogICBPbWlzc2lvbiBoYW5kbGVycywgd2hlcmUgZWFjaCBrZXkgaXMgYSB0YWcgbmFtZSwgYW5kIGVhY2ggdmFsdWUgaXMgdGhlXG4gKiAgIGNvcnJlc3BvbmRpbmcgaGFuZGxlci5cbiAqIEByZXR1cm5zIHtPbWl0SGFuZGxlfVxuICogICBXaGV0aGVyIHRvIG9taXQgYSB0YWcgb2YgYW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gb21pc3Npb24oaGFuZGxlcnMpIHtcbiAgcmV0dXJuIG9taXRcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBnaXZlbiBub2RlIGNhbiBoYXZlIGEgdGFnIG9taXR0ZWQuXG4gICAqXG4gICAqIEB0eXBlIHtPbWl0SGFuZGxlfVxuICAgKi9cbiAgZnVuY3Rpb24gb21pdChub2RlLCBpbmRleCwgcGFyZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIG93bi5jYWxsKGhhbmRsZXJzLCBub2RlLnRhZ05hbWUpICYmXG4gICAgICBoYW5kbGVyc1tub2RlLnRhZ05hbWVdKG5vZGUsIGluZGV4LCBwYXJlbnQpXG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5QYXJlbnRzfSBQYXJlbnRzXG4gKi9cblxuXG5jb25zdCBjbG9zaW5nID0gb21pc3Npb24oe1xuICBib2R5OiBib2R5JDEsXG4gIGNhcHRpb246IGhlYWRPckNvbGdyb3VwT3JDYXB0aW9uLFxuICBjb2xncm91cDogaGVhZE9yQ29sZ3JvdXBPckNhcHRpb24sXG4gIGRkLFxuICBkdCxcbiAgaGVhZDogaGVhZE9yQ29sZ3JvdXBPckNhcHRpb24sXG4gIGh0bWw6IGh0bWwkMSxcbiAgbGksXG4gIG9wdGdyb3VwLFxuICBvcHRpb24sXG4gIHAsXG4gIHJwOiBydWJ5RWxlbWVudCxcbiAgcnQ6IHJ1YnlFbGVtZW50LFxuICB0Ym9keTogdGJvZHkkMSxcbiAgdGQ6IGNlbGxzLFxuICB0Zm9vdCxcbiAgdGg6IGNlbGxzLFxuICB0aGVhZCxcbiAgdHJcbn0pO1xuXG4vKipcbiAqIE1hY3JvIGZvciBgPC9oZWFkPmAsIGA8L2NvbGdyb3VwPmAsIGFuZCBgPC9jYXB0aW9uPmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gaGVhZE9yQ29sZ3JvdXBPckNhcHRpb24oXywgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBuZXh0ID0gc2libGluZ0FmdGVyKHBhcmVudCwgaW5kZXgsIHRydWUpO1xuICByZXR1cm4gKFxuICAgICFuZXh0IHx8XG4gICAgKG5leHQudHlwZSAhPT0gJ2NvbW1lbnQnICYmXG4gICAgICAhKG5leHQudHlwZSA9PT0gJ3RleHQnICYmIHdoaXRlc3BhY2UobmV4dC52YWx1ZS5jaGFyQXQoMCkpKSlcbiAgKVxufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPC9odG1sPmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gaHRtbCQxKF8sIGluZGV4LCBwYXJlbnQpIHtcbiAgY29uc3QgbmV4dCA9IHNpYmxpbmdBZnRlcihwYXJlbnQsIGluZGV4KTtcbiAgcmV0dXJuICFuZXh0IHx8IG5leHQudHlwZSAhPT0gJ2NvbW1lbnQnXG59XG5cbi8qKlxuICogV2hldGhlciB0byBvbWl0IGA8L2JvZHk+YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IF9cbiAqICAgRWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpbmRleFxuICogICBJbmRleCBvZiBlbGVtZW50IGluIHBhcmVudC5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiAgIFdoZXRoZXIgdGhlIGNsb3NpbmcgdGFnIGNhbiBiZSBvbWl0dGVkLlxuICovXG5mdW5jdGlvbiBib2R5JDEoXywgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBuZXh0ID0gc2libGluZ0FmdGVyKHBhcmVudCwgaW5kZXgpO1xuICByZXR1cm4gIW5leHQgfHwgbmV4dC50eXBlICE9PSAnY29tbWVudCdcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRvIG9taXQgYDwvcD5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gX1xuICogICBFbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IGluZGV4XG4gKiAgIEluZGV4IG9mIGVsZW1lbnQgaW4gcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgY2xvc2luZyB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbmZ1bmN0aW9uIHAoXywgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBuZXh0ID0gc2libGluZ0FmdGVyKHBhcmVudCwgaW5kZXgpO1xuICByZXR1cm4gbmV4dFxuICAgID8gbmV4dC50eXBlID09PSAnZWxlbWVudCcgJiZcbiAgICAgICAgKG5leHQudGFnTmFtZSA9PT0gJ2FkZHJlc3MnIHx8XG4gICAgICAgICAgbmV4dC50YWdOYW1lID09PSAnYXJ0aWNsZScgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdhc2lkZScgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdibG9ja3F1b3RlJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2RldGFpbHMnIHx8XG4gICAgICAgICAgbmV4dC50YWdOYW1lID09PSAnZGl2JyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2RsJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2ZpZWxkc2V0JyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2ZpZ2NhcHRpb24nIHx8XG4gICAgICAgICAgbmV4dC50YWdOYW1lID09PSAnZmlndXJlJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2Zvb3RlcicgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdmb3JtJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2gxJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2gyJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2gzJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2g0JyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2g1JyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2g2JyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ2hlYWRlcicgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdoZ3JvdXAnIHx8XG4gICAgICAgICAgbmV4dC50YWdOYW1lID09PSAnaHInIHx8XG4gICAgICAgICAgbmV4dC50YWdOYW1lID09PSAnbWFpbicgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdtZW51JyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ25hdicgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdvbCcgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdwJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ3ByZScgfHxcbiAgICAgICAgICBuZXh0LnRhZ05hbWUgPT09ICdzZWN0aW9uJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ3RhYmxlJyB8fFxuICAgICAgICAgIG5leHQudGFnTmFtZSA9PT0gJ3VsJylcbiAgICA6ICFwYXJlbnQgfHxcbiAgICAgICAgLy8gQ29uZnVzaW5nIHBhcmVudC5cbiAgICAgICAgIShcbiAgICAgICAgICBwYXJlbnQudHlwZSA9PT0gJ2VsZW1lbnQnICYmXG4gICAgICAgICAgKHBhcmVudC50YWdOYW1lID09PSAnYScgfHxcbiAgICAgICAgICAgIHBhcmVudC50YWdOYW1lID09PSAnYXVkaW8nIHx8XG4gICAgICAgICAgICBwYXJlbnQudGFnTmFtZSA9PT0gJ2RlbCcgfHxcbiAgICAgICAgICAgIHBhcmVudC50YWdOYW1lID09PSAnaW5zJyB8fFxuICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgPT09ICdtYXAnIHx8XG4gICAgICAgICAgICBwYXJlbnQudGFnTmFtZSA9PT0gJ25vc2NyaXB0JyB8fFxuICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgPT09ICd2aWRlbycpXG4gICAgICAgIClcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRvIG9taXQgYDwvbGk+YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IF9cbiAqICAgRWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpbmRleFxuICogICBJbmRleCBvZiBlbGVtZW50IGluIHBhcmVudC5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiAgIFdoZXRoZXIgdGhlIGNsb3NpbmcgdGFnIGNhbiBiZSBvbWl0dGVkLlxuICovXG5mdW5jdGlvbiBsaShfLCBpbmRleCwgcGFyZW50KSB7XG4gIGNvbnN0IG5leHQgPSBzaWJsaW5nQWZ0ZXIocGFyZW50LCBpbmRleCk7XG4gIHJldHVybiAhbmV4dCB8fCAobmV4dC50eXBlID09PSAnZWxlbWVudCcgJiYgbmV4dC50YWdOYW1lID09PSAnbGknKVxufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPC9kdD5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gX1xuICogICBFbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IGluZGV4XG4gKiAgIEluZGV4IG9mIGVsZW1lbnQgaW4gcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgY2xvc2luZyB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbmZ1bmN0aW9uIGR0KF8sIGluZGV4LCBwYXJlbnQpIHtcbiAgY29uc3QgbmV4dCA9IHNpYmxpbmdBZnRlcihwYXJlbnQsIGluZGV4KTtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgbmV4dCAmJlxuICAgICAgbmV4dC50eXBlID09PSAnZWxlbWVudCcgJiZcbiAgICAgIChuZXh0LnRhZ05hbWUgPT09ICdkdCcgfHwgbmV4dC50YWdOYW1lID09PSAnZGQnKVxuICApXG59XG5cbi8qKlxuICogV2hldGhlciB0byBvbWl0IGA8L2RkPmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gZGQoXywgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBuZXh0ID0gc2libGluZ0FmdGVyKHBhcmVudCwgaW5kZXgpO1xuICByZXR1cm4gKFxuICAgICFuZXh0IHx8XG4gICAgKG5leHQudHlwZSA9PT0gJ2VsZW1lbnQnICYmXG4gICAgICAobmV4dC50YWdOYW1lID09PSAnZHQnIHx8IG5leHQudGFnTmFtZSA9PT0gJ2RkJykpXG4gIClcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRvIG9taXQgYDwvcnQ+YCBvciBgPC9ycD5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gX1xuICogICBFbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IGluZGV4XG4gKiAgIEluZGV4IG9mIGVsZW1lbnQgaW4gcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgY2xvc2luZyB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbmZ1bmN0aW9uIHJ1YnlFbGVtZW50KF8sIGluZGV4LCBwYXJlbnQpIHtcbiAgY29uc3QgbmV4dCA9IHNpYmxpbmdBZnRlcihwYXJlbnQsIGluZGV4KTtcbiAgcmV0dXJuIChcbiAgICAhbmV4dCB8fFxuICAgIChuZXh0LnR5cGUgPT09ICdlbGVtZW50JyAmJlxuICAgICAgKG5leHQudGFnTmFtZSA9PT0gJ3JwJyB8fCBuZXh0LnRhZ05hbWUgPT09ICdydCcpKVxuICApXG59XG5cbi8qKlxuICogV2hldGhlciB0byBvbWl0IGA8L29wdGdyb3VwPmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gb3B0Z3JvdXAoXywgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBuZXh0ID0gc2libGluZ0FmdGVyKHBhcmVudCwgaW5kZXgpO1xuICByZXR1cm4gIW5leHQgfHwgKG5leHQudHlwZSA9PT0gJ2VsZW1lbnQnICYmIG5leHQudGFnTmFtZSA9PT0gJ29wdGdyb3VwJylcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRvIG9taXQgYDwvb3B0aW9uPmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gb3B0aW9uKF8sIGluZGV4LCBwYXJlbnQpIHtcbiAgY29uc3QgbmV4dCA9IHNpYmxpbmdBZnRlcihwYXJlbnQsIGluZGV4KTtcbiAgcmV0dXJuIChcbiAgICAhbmV4dCB8fFxuICAgIChuZXh0LnR5cGUgPT09ICdlbGVtZW50JyAmJlxuICAgICAgKG5leHQudGFnTmFtZSA9PT0gJ29wdGlvbicgfHwgbmV4dC50YWdOYW1lID09PSAnb3B0Z3JvdXAnKSlcbiAgKVxufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPC90aGVhZD5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gX1xuICogICBFbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IGluZGV4XG4gKiAgIEluZGV4IG9mIGVsZW1lbnQgaW4gcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgY2xvc2luZyB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRoZWFkKF8sIGluZGV4LCBwYXJlbnQpIHtcbiAgY29uc3QgbmV4dCA9IHNpYmxpbmdBZnRlcihwYXJlbnQsIGluZGV4KTtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgbmV4dCAmJlxuICAgICAgbmV4dC50eXBlID09PSAnZWxlbWVudCcgJiZcbiAgICAgIChuZXh0LnRhZ05hbWUgPT09ICd0Ym9keScgfHwgbmV4dC50YWdOYW1lID09PSAndGZvb3QnKVxuICApXG59XG5cbi8qKlxuICogV2hldGhlciB0byBvbWl0IGA8L3Rib2R5PmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gdGJvZHkkMShfLCBpbmRleCwgcGFyZW50KSB7XG4gIGNvbnN0IG5leHQgPSBzaWJsaW5nQWZ0ZXIocGFyZW50LCBpbmRleCk7XG4gIHJldHVybiAoXG4gICAgIW5leHQgfHxcbiAgICAobmV4dC50eXBlID09PSAnZWxlbWVudCcgJiZcbiAgICAgIChuZXh0LnRhZ05hbWUgPT09ICd0Ym9keScgfHwgbmV4dC50YWdOYW1lID09PSAndGZvb3QnKSlcbiAgKVxufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPC90Zm9vdD5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gX1xuICogICBFbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IGluZGV4XG4gKiAgIEluZGV4IG9mIGVsZW1lbnQgaW4gcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgY2xvc2luZyB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRmb290KF8sIGluZGV4LCBwYXJlbnQpIHtcbiAgcmV0dXJuICFzaWJsaW5nQWZ0ZXIocGFyZW50LCBpbmRleClcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRvIG9taXQgYDwvdHI+YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IF9cbiAqICAgRWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpbmRleFxuICogICBJbmRleCBvZiBlbGVtZW50IGluIHBhcmVudC5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiAgIFdoZXRoZXIgdGhlIGNsb3NpbmcgdGFnIGNhbiBiZSBvbWl0dGVkLlxuICovXG5mdW5jdGlvbiB0cihfLCBpbmRleCwgcGFyZW50KSB7XG4gIGNvbnN0IG5leHQgPSBzaWJsaW5nQWZ0ZXIocGFyZW50LCBpbmRleCk7XG4gIHJldHVybiAhbmV4dCB8fCAobmV4dC50eXBlID09PSAnZWxlbWVudCcgJiYgbmV4dC50YWdOYW1lID09PSAndHInKVxufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPC90ZD5gIG9yIGA8L3RoPmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBfXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBjbG9zaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gY2VsbHMoXywgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBuZXh0ID0gc2libGluZ0FmdGVyKHBhcmVudCwgaW5kZXgpO1xuICByZXR1cm4gKFxuICAgICFuZXh0IHx8XG4gICAgKG5leHQudHlwZSA9PT0gJ2VsZW1lbnQnICYmXG4gICAgICAobmV4dC50YWdOYW1lID09PSAndGQnIHx8IG5leHQudGFnTmFtZSA9PT0gJ3RoJykpXG4gIClcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdoYXN0JykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlBhcmVudHN9IFBhcmVudHNcbiAqL1xuXG5cbmNvbnN0IG9wZW5pbmcgPSBvbWlzc2lvbih7XG4gIGJvZHksXG4gIGNvbGdyb3VwLFxuICBoZWFkLFxuICBodG1sLFxuICB0Ym9keVxufSk7XG5cbi8qKlxuICogV2hldGhlciB0byBvbWl0IGA8aHRtbD5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogICBFbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiAgIFdoZXRoZXIgdGhlIG9wZW5pbmcgdGFnIGNhbiBiZSBvbWl0dGVkLlxuICovXG5mdW5jdGlvbiBodG1sKG5vZGUpIHtcbiAgY29uc3QgaGVhZCA9IHNpYmxpbmdBZnRlcihub2RlLCAtMSk7XG4gIHJldHVybiAhaGVhZCB8fCBoZWFkLnR5cGUgIT09ICdjb21tZW50J1xufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPGhlYWQ+YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqICAgRWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBvcGVuaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gaGVhZChub2RlKSB7XG4gIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbjtcbiAgLyoqIEB0eXBlIHtBcnJheTxzdHJpbmc+fSAqL1xuICBjb25zdCBzZWVuID0gW107XG4gIGxldCBpbmRleCA9IC0xO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgaWYgKFxuICAgICAgY2hpbGQudHlwZSA9PT0gJ2VsZW1lbnQnICYmXG4gICAgICAoY2hpbGQudGFnTmFtZSA9PT0gJ3RpdGxlJyB8fCBjaGlsZC50YWdOYW1lID09PSAnYmFzZScpXG4gICAgKSB7XG4gICAgICBpZiAoc2Vlbi5pbmNsdWRlcyhjaGlsZC50YWdOYW1lKSkgcmV0dXJuIGZhbHNlXG4gICAgICBzZWVuLnB1c2goY2hpbGQudGFnTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuLmxlbmd0aCA+IDBcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRvIG9taXQgYDxib2R5PmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiAgIEVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqICAgV2hldGhlciB0aGUgb3BlbmluZyB0YWcgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJvZHkobm9kZSkge1xuICBjb25zdCBoZWFkID0gc2libGluZ0FmdGVyKG5vZGUsIC0xLCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgICFoZWFkIHx8XG4gICAgKGhlYWQudHlwZSAhPT0gJ2NvbW1lbnQnICYmXG4gICAgICAhKGhlYWQudHlwZSA9PT0gJ3RleHQnICYmIHdoaXRlc3BhY2UoaGVhZC52YWx1ZS5jaGFyQXQoMCkpKSAmJlxuICAgICAgIShcbiAgICAgICAgaGVhZC50eXBlID09PSAnZWxlbWVudCcgJiZcbiAgICAgICAgKGhlYWQudGFnTmFtZSA9PT0gJ21ldGEnIHx8XG4gICAgICAgICAgaGVhZC50YWdOYW1lID09PSAnbGluaycgfHxcbiAgICAgICAgICBoZWFkLnRhZ05hbWUgPT09ICdzY3JpcHQnIHx8XG4gICAgICAgICAgaGVhZC50YWdOYW1lID09PSAnc3R5bGUnIHx8XG4gICAgICAgICAgaGVhZC50YWdOYW1lID09PSAndGVtcGxhdGUnKVxuICAgICAgKSlcbiAgKVxufVxuXG4vKipcbiAqIFdoZXRoZXIgdG8gb21pdCBgPGNvbGdyb3VwPmAuXG4gKiBUaGUgc3BlYyBkZXNjcmliZXMgc29tZSBsb2dpYyBmb3IgdGhlIG9wZW5pbmcgdGFnLCBidXQgaXTigJlzIGVhc2llciB0b1xuICogaW1wbGVtZW50IGluIHRoZSBjbG9zaW5nIHRhZywgdG8gdGhlIHNhbWUgZWZmZWN0LCBzbyB3ZSBoYW5kbGUgaXQgdGhlcmVcbiAqIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiAgIEVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgZWxlbWVudCBpbiBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogICBXaGV0aGVyIHRoZSBvcGVuaW5nIHRhZyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuZnVuY3Rpb24gY29sZ3JvdXAobm9kZSwgaW5kZXgsIHBhcmVudCkge1xuICBjb25zdCBwcmV2aW91cyA9IHNpYmxpbmdCZWZvcmUocGFyZW50LCBpbmRleCk7XG4gIGNvbnN0IGhlYWQgPSBzaWJsaW5nQWZ0ZXIobm9kZSwgLTEsIHRydWUpO1xuXG4gIC8vIFByZXZpb3VzIGNvbGdyb3VwIHdhcyBhbHJlYWR5IG9taXR0ZWQuXG4gIGlmIChcbiAgICBwYXJlbnQgJiZcbiAgICBwcmV2aW91cyAmJlxuICAgIHByZXZpb3VzLnR5cGUgPT09ICdlbGVtZW50JyAmJlxuICAgIHByZXZpb3VzLnRhZ05hbWUgPT09ICdjb2xncm91cCcgJiZcbiAgICBjbG9zaW5nKHByZXZpb3VzLCBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihwcmV2aW91cyksIHBhcmVudClcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gQm9vbGVhbihoZWFkICYmIGhlYWQudHlwZSA9PT0gJ2VsZW1lbnQnICYmIGhlYWQudGFnTmFtZSA9PT0gJ2NvbCcpXG59XG5cbi8qKlxuICogV2hldGhlciB0byBvbWl0IGA8dGJvZHk+YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqICAgRWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpbmRleFxuICogICBJbmRleCBvZiBlbGVtZW50IGluIHBhcmVudC5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiAgIFdoZXRoZXIgdGhlIG9wZW5pbmcgdGFnIGNhbiBiZSBvbWl0dGVkLlxuICovXG5mdW5jdGlvbiB0Ym9keShub2RlLCBpbmRleCwgcGFyZW50KSB7XG4gIGNvbnN0IHByZXZpb3VzID0gc2libGluZ0JlZm9yZShwYXJlbnQsIGluZGV4KTtcbiAgY29uc3QgaGVhZCA9IHNpYmxpbmdBZnRlcihub2RlLCAtMSk7XG5cbiAgLy8gUHJldmlvdXMgdGFibGUgc2VjdGlvbiB3YXMgYWxyZWFkeSBvbWl0dGVkLlxuICBpZiAoXG4gICAgcGFyZW50ICYmXG4gICAgcHJldmlvdXMgJiZcbiAgICBwcmV2aW91cy50eXBlID09PSAnZWxlbWVudCcgJiZcbiAgICAocHJldmlvdXMudGFnTmFtZSA9PT0gJ3RoZWFkJyB8fCBwcmV2aW91cy50YWdOYW1lID09PSAndGJvZHknKSAmJlxuICAgIGNsb3NpbmcocHJldmlvdXMsIHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHByZXZpb3VzKSwgcGFyZW50KVxuICApIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBCb29sZWFuKGhlYWQgJiYgaGVhZC50eXBlID09PSAnZWxlbWVudCcgJiYgaGVhZC50YWdOYW1lID09PSAndHInKVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdoYXN0JykuUGFyZW50c30gUGFyZW50c1xuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlByb3BlcnRpZXN9IFByb3BlcnRpZXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbmRleC5qcycpLlN0YXRlfSBTdGF0ZVxuICovXG5cblxuLyoqXG4gKiBNYXBzIG9mIHN1YnNldHMuXG4gKlxuICogRWFjaCB2YWx1ZSBpcyBhIG1hdHJpeCBvZiB0dXBsZXMuXG4gKiBUaGUgdmFsdWUgYXQgYDBgIGNhdXNlcyBwYXJzZSBlcnJvcnMsIHRoZSB2YWx1ZSBhdCBgMWAgaXMgdmFsaWQuXG4gKiBPZiBib3RoLCB0aGUgdmFsdWUgYXQgYDBgIGlzIHVuc2FmZSwgYW5kIHRoZSB2YWx1ZSBhdCBgMWAgaXMgc2FmZS5cbiAqXG4gKiBAdHlwZSB7UmVjb3JkPCdkb3VibGUnIHwgJ25hbWUnIHwgJ3NpbmdsZScgfCAndW5xdW90ZWQnLCBBcnJheTxbQXJyYXk8c3RyaW5nPiwgQXJyYXk8c3RyaW5nPl0+Pn1cbiAqL1xuY29uc3QgY29uc3RhbnRzID0ge1xuICAvLyBTZWU6IDxodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNhdHRyaWJ1dGUtbmFtZS1zdGF0ZT4uXG4gIG5hbWU6IFtcbiAgICBbJ1xcdFxcblxcZlxcciAmLz0+Jy5zcGxpdCgnJyksICdcXHRcXG5cXGZcXHIgXCImXFwnLz0+YCcuc3BsaXQoJycpXSxcbiAgICBbJ1xcMFxcdFxcblxcZlxcciBcIiZcXCcvPD0+Jy5zcGxpdCgnJyksICdcXDBcXHRcXG5cXGZcXHIgXCImXFwnLzw9PmAnLnNwbGl0KCcnKV1cbiAgXSxcbiAgLy8gU2VlOiA8aHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jYXR0cmlidXRlLXZhbHVlLSh1bnF1b3RlZCktc3RhdGU+LlxuICB1bnF1b3RlZDogW1xuICAgIFsnXFx0XFxuXFxmXFxyICY+Jy5zcGxpdCgnJyksICdcXDBcXHRcXG5cXGZcXHIgXCImXFwnPD0+YCcuc3BsaXQoJycpXSxcbiAgICBbJ1xcMFxcdFxcblxcZlxcciBcIiZcXCc8PT5gJy5zcGxpdCgnJyksICdcXDBcXHRcXG5cXGZcXHIgXCImXFwnPD0+YCcuc3BsaXQoJycpXVxuICBdLFxuICAvLyBTZWU6IDxodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNhdHRyaWJ1dGUtdmFsdWUtKHNpbmdsZS1xdW90ZWQpLXN0YXRlPi5cbiAgc2luZ2xlOiBbXG4gICAgW1wiJidcIi5zcGxpdCgnJyksICdcIiZcXCdgJy5zcGxpdCgnJyldLFxuICAgIFtcIlxcMCYnXCIuc3BsaXQoJycpLCAnXFwwXCImXFwnYCcuc3BsaXQoJycpXVxuICBdLFxuICAvLyBTZWU6IDxodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNhdHRyaWJ1dGUtdmFsdWUtKGRvdWJsZS1xdW90ZWQpLXN0YXRlPi5cbiAgZG91YmxlOiBbXG4gICAgWydcIiYnLnNwbGl0KCcnKSwgJ1wiJlxcJ2AnLnNwbGl0KCcnKV0sXG4gICAgWydcXDBcIiYnLnNwbGl0KCcnKSwgJ1xcMFwiJlxcJ2AnLnNwbGl0KCcnKV1cbiAgXVxufTtcblxuLyoqXG4gKiBTZXJpYWxpemUgYW4gZWxlbWVudCBub2RlLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogICBOb2RlIHRvIGhhbmRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBpbmRleFxuICogICBJbmRleCBvZiBgbm9kZWAgaW4gYHBhcmVudC5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBgbm9kZWAuXG4gKiBAcGFyYW0ge1N0YXRlfSBzdGF0ZVxuICogICBJbmZvIHBhc3NlZCBhcm91bmQgYWJvdXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogICBTZXJpYWxpemVkIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnQobm9kZSwgaW5kZXgsIHBhcmVudCwgc3RhdGUpIHtcbiAgY29uc3Qgc2NoZW1hID0gc3RhdGUuc2NoZW1hO1xuICBjb25zdCBvbWl0ID0gc2NoZW1hLnNwYWNlID09PSAnc3ZnJyA/IGZhbHNlIDogc3RhdGUuc2V0dGluZ3Mub21pdE9wdGlvbmFsVGFncztcbiAgbGV0IHNlbGZDbG9zaW5nID1cbiAgICBzY2hlbWEuc3BhY2UgPT09ICdzdmcnXG4gICAgICA/IHN0YXRlLnNldHRpbmdzLmNsb3NlRW1wdHlFbGVtZW50c1xuICAgICAgOiBzdGF0ZS5zZXR0aW5ncy52b2lkcy5pbmNsdWRlcyhub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gIC8qKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn0gKi9cbiAgY29uc3QgcGFydHMgPSBbXTtcbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIGxldCBsYXN0O1xuXG4gIGlmIChzY2hlbWEuc3BhY2UgPT09ICdodG1sJyAmJiBub2RlLnRhZ05hbWUgPT09ICdzdmcnKSB7XG4gICAgc3RhdGUuc2NoZW1hID0gc3ZnO1xuICB9XG5cbiAgY29uc3QgYXR0cnMgPSBzZXJpYWxpemVBdHRyaWJ1dGVzKHN0YXRlLCBub2RlLnByb3BlcnRpZXMpO1xuXG4gIGNvbnN0IGNvbnRlbnQgPSBzdGF0ZS5hbGwoXG4gICAgc2NoZW1hLnNwYWNlID09PSAnaHRtbCcgJiYgbm9kZS50YWdOYW1lID09PSAndGVtcGxhdGUnID8gbm9kZS5jb250ZW50IDogbm9kZVxuICApO1xuXG4gIHN0YXRlLnNjaGVtYSA9IHNjaGVtYTtcblxuICAvLyBJZiB0aGUgbm9kZSBpcyBjYXRlZ29yaXNlZCBhcyB2b2lkLCBidXQgaXQgaGFzIGNoaWxkcmVuLCByZW1vdmUgdGhlXG4gIC8vIGNhdGVnb3Jpc2F0aW9uLlxuICAvLyBUaGlzIGVuYWJsZXMgZm9yIGV4YW1wbGUgYG1lbnVpdGVtYHMsIHdoaWNoIGFyZSB2b2lkIGluIFczQyBIVE1MIGJ1dCBub3RcbiAgLy8gdm9pZCBpbiBXSEFUV0cgSFRNTCwgdG8gYmUgc3RyaW5naWZpZWQgcHJvcGVybHkuXG4gIC8vIE5vdGU6IGBtZW51aXRlbWAgaGFzIHNpbmNlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBIVE1MIHNwZWMsIGFuZCBzbyBpcyBub1xuICAvLyBsb25nZXIgdm9pZC5cbiAgaWYgKGNvbnRlbnQpIHNlbGZDbG9zaW5nID0gZmFsc2U7XG5cbiAgaWYgKGF0dHJzIHx8ICFvbWl0IHx8ICFvcGVuaW5nKG5vZGUsIGluZGV4LCBwYXJlbnQpKSB7XG4gICAgcGFydHMucHVzaCgnPCcsIG5vZGUudGFnTmFtZSwgYXR0cnMgPyAnICcgKyBhdHRycyA6ICcnKTtcblxuICAgIGlmIChcbiAgICAgIHNlbGZDbG9zaW5nICYmXG4gICAgICAoc2NoZW1hLnNwYWNlID09PSAnc3ZnJyB8fCBzdGF0ZS5zZXR0aW5ncy5jbG9zZVNlbGZDbG9zaW5nKVxuICAgICkge1xuICAgICAgbGFzdCA9IGF0dHJzLmNoYXJBdChhdHRycy5sZW5ndGggLSAxKTtcbiAgICAgIGlmIChcbiAgICAgICAgIXN0YXRlLnNldHRpbmdzLnRpZ2h0U2VsZkNsb3NpbmcgfHxcbiAgICAgICAgbGFzdCA9PT0gJy8nIHx8XG4gICAgICAgIChsYXN0ICYmIGxhc3QgIT09ICdcIicgJiYgbGFzdCAhPT0gXCInXCIpXG4gICAgICApIHtcbiAgICAgICAgcGFydHMucHVzaCgnICcpO1xuICAgICAgfVxuXG4gICAgICBwYXJ0cy5wdXNoKCcvJyk7XG4gICAgfVxuXG4gICAgcGFydHMucHVzaCgnPicpO1xuICB9XG5cbiAgcGFydHMucHVzaChjb250ZW50KTtcblxuICBpZiAoIXNlbGZDbG9zaW5nICYmICghb21pdCB8fCAhY2xvc2luZyhub2RlLCBpbmRleCwgcGFyZW50KSkpIHtcbiAgICBwYXJ0cy5wdXNoKCc8LycgKyBub2RlLnRhZ05hbWUgKyAnPicpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG5cbi8qKlxuICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcbiAqIEBwYXJhbSB7UHJvcGVydGllcyB8IG51bGwgfCB1bmRlZmluZWR9IHByb3BzXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGVzKHN0YXRlLCBwcm9wcykge1xuICAvKiogQHR5cGUge0FycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IHZhbHVlcyA9IFtdO1xuICBsZXQgaW5kZXggPSAtMTtcbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIGxldCBrZXk7XG5cbiAgaWYgKHByb3BzKSB7XG4gICAgZm9yIChrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChwcm9wc1trZXldICE9PSBudWxsICYmIHByb3BzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShzdGF0ZSwga2V5LCBwcm9wc1trZXldKTtcbiAgICAgICAgaWYgKHZhbHVlKSB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgd2hpbGUgKCsraW5kZXggPCB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgY29uc3QgbGFzdCA9IHN0YXRlLnNldHRpbmdzLnRpZ2h0QXR0cmlidXRlc1xuICAgICAgPyB2YWx1ZXNbaW5kZXhdLmNoYXJBdCh2YWx1ZXNbaW5kZXhdLmxlbmd0aCAtIDEpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIC8vIEluIHRpZ2h0IG1vZGUsIGRvbuKAmXQgYWRkIGEgc3BhY2UgYWZ0ZXIgcXVvdGVkIGF0dHJpYnV0ZXMuXG4gICAgaWYgKGluZGV4ICE9PSB2YWx1ZXMubGVuZ3RoIC0gMSAmJiBsYXN0ICE9PSAnXCInICYmIGxhc3QgIT09IFwiJ1wiKSB7XG4gICAgICB2YWx1ZXNbaW5kZXhdICs9ICcgJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWVzLmpvaW4oJycpXG59XG5cbi8qKlxuICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7UHJvcGVydGllc1trZXlvZiBQcm9wZXJ0aWVzXX0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZUF0dHJpYnV0ZShzdGF0ZSwga2V5LCB2YWx1ZSkge1xuICBjb25zdCBpbmZvID0gZmluZChzdGF0ZS5zY2hlbWEsIGtleSk7XG4gIGNvbnN0IHggPVxuICAgIHN0YXRlLnNldHRpbmdzLmFsbG93UGFyc2VFcnJvcnMgJiYgc3RhdGUuc2NoZW1hLnNwYWNlID09PSAnaHRtbCcgPyAwIDogMTtcbiAgY29uc3QgeSA9IHN0YXRlLnNldHRpbmdzLmFsbG93RGFuZ2Vyb3VzQ2hhcmFjdGVycyA/IDAgOiAxO1xuICBsZXQgcXVvdGUgPSBzdGF0ZS5xdW90ZTtcbiAgLyoqIEB0eXBlIHtzdHJpbmcgfCB1bmRlZmluZWR9ICovXG4gIGxldCByZXN1bHQ7XG5cbiAgaWYgKGluZm8ub3ZlcmxvYWRlZEJvb2xlYW4gJiYgKHZhbHVlID09PSBpbmZvLmF0dHJpYnV0ZSB8fCB2YWx1ZSA9PT0gJycpKSB7XG4gICAgdmFsdWUgPSB0cnVlO1xuICB9IGVsc2UgaWYgKFxuICAgIGluZm8uYm9vbGVhbiB8fFxuICAgIChpbmZvLm92ZXJsb2FkZWRCb29sZWFuICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpXG4gICkge1xuICAgIHZhbHVlID0gQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICBpZiAoXG4gICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgTnVtYmVyLmlzTmFOKHZhbHVlKSlcbiAgKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBjb25zdCBuYW1lID0gc3RyaW5naWZ5RW50aXRpZXMoXG4gICAgaW5mby5hdHRyaWJ1dGUsXG4gICAgT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc2V0dGluZ3MuY2hhcmFjdGVyUmVmZXJlbmNlcywge1xuICAgICAgLy8gQWx3YXlzIGVuY29kZSB3aXRob3V0IHBhcnNlIGVycm9ycyBpbiBub24tSFRNTC5cbiAgICAgIHN1YnNldDogY29uc3RhbnRzLm5hbWVbeF1beV1cbiAgICB9KVxuICApO1xuXG4gIC8vIE5vIHZhbHVlLlxuICAvLyBUaGVyZSBpcyBjdXJyZW50bHkgb25seSBvbmUgYm9vbGVhbiBwcm9wZXJ0eSBpbiBTVkc6IGBbZG93bmxvYWRdYCBvblxuICAvLyBgPGE+YC5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBkb2VzIG5vdCBzZWVtIHRvIHdvcmsgaW4gYnJvd3NlcnMgKEZpcmVmb3gsIFNhZmFyaSwgQ2hyb21lKSxcbiAgLy8gc28gSSBjYW7igJl0IHRlc3QgaWYgZHJvcHBpbmcgdGhlIHZhbHVlIHdvcmtzLlxuICAvLyBCdXQgSSBhc3N1bWUgdGhhdCBpdCBzaG91bGQ6XG4gIC8vXG4gIC8vIGBgYGh0bWxcbiAgLy8gPCFkb2N0eXBlIGh0bWw+XG4gIC8vIDxzdmcgdmlld0JveD1cIjAgMCAxMDAgMTAwXCI+XG4gIC8vICAgPGEgaHJlZj1odHRwczovL2V4YW1wbGUuY29tIGRvd25sb2FkPlxuICAvLyAgICAgPGNpcmNsZSBjeD01MCBjeT00MCByPTM1IC8+XG4gIC8vICAgPC9hPlxuICAvLyA8L3N2Zz5cbiAgLy8gYGBgXG4gIC8vXG4gIC8vIFNlZTogPGh0dHBzOi8vZ2l0aHViLmNvbS93b29vcm0vcHJvcGVydHktaW5mb3JtYXRpb24vYmxvYi9tYWluL2xpYi9zdmcuanM+XG4gIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgcmV0dXJuIG5hbWVcblxuICAvLyBgc3BhY2VzYCBkb2VzbuKAmXQgYWNjZXB0IGEgc2Vjb25kIGFyZ3VtZW50LCBidXQgaXTigJlzIGdpdmVuIGhlcmUganVzdCB0b1xuICAvLyBrZWVwIHRoZSBjb2RlIGNsZWFuZXIuXG4gIHZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICA/IChpbmZvLmNvbW1hU2VwYXJhdGVkID8gc3RyaW5naWZ5JDEgOiBzdHJpbmdpZnkpKHZhbHVlLCB7XG4gICAgICAgIHBhZExlZnQ6ICFzdGF0ZS5zZXR0aW5ncy50aWdodENvbW1hU2VwYXJhdGVkTGlzdHNcbiAgICAgIH0pXG4gICAgOiBTdHJpbmcodmFsdWUpO1xuXG4gIGlmIChzdGF0ZS5zZXR0aW5ncy5jb2xsYXBzZUVtcHR5QXR0cmlidXRlcyAmJiAhdmFsdWUpIHJldHVybiBuYW1lXG5cbiAgLy8gQ2hlY2sgdW5xdW90ZWQgdmFsdWUuXG4gIGlmIChzdGF0ZS5zZXR0aW5ncy5wcmVmZXJVbnF1b3RlZCkge1xuICAgIHJlc3VsdCA9IHN0cmluZ2lmeUVudGl0aWVzKFxuICAgICAgdmFsdWUsXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zZXR0aW5ncy5jaGFyYWN0ZXJSZWZlcmVuY2VzLCB7XG4gICAgICAgIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgICAgICAgc3Vic2V0OiBjb25zdGFudHMudW5xdW90ZWRbeF1beV1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIHdlIGRvbuKAmXQgd2FudCB1bnF1b3RlZCwgb3IgaWYgYHZhbHVlYCBjb250YWlucyBjaGFyYWN0ZXIgcmVmZXJlbmNlcyB3aGVuXG4gIC8vIHVucXVvdGVk4oCmXG4gIGlmIChyZXN1bHQgIT09IHZhbHVlKSB7XG4gICAgLy8gSWYgdGhlIGFsdGVybmF0aXZlIGlzIGxlc3MgY29tbW9uIHRoYW4gYHF1b3RlYCwgc3dpdGNoLlxuICAgIGlmIChcbiAgICAgIHN0YXRlLnNldHRpbmdzLnF1b3RlU21hcnQgJiZcbiAgICAgIGNjb3VudCh2YWx1ZSwgcXVvdGUpID4gY2NvdW50KHZhbHVlLCBzdGF0ZS5hbHRlcm5hdGl2ZSlcbiAgICApIHtcbiAgICAgIHF1b3RlID0gc3RhdGUuYWx0ZXJuYXRpdmU7XG4gICAgfVxuXG4gICAgcmVzdWx0ID1cbiAgICAgIHF1b3RlICtcbiAgICAgIHN0cmluZ2lmeUVudGl0aWVzKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc2V0dGluZ3MuY2hhcmFjdGVyUmVmZXJlbmNlcywge1xuICAgICAgICAgIC8vIEFsd2F5cyBlbmNvZGUgd2l0aG91dCBwYXJzZSBlcnJvcnMgaW4gbm9uLUhUTUwuXG4gICAgICAgICAgc3Vic2V0OiAocXVvdGUgPT09IFwiJ1wiID8gY29uc3RhbnRzLnNpbmdsZSA6IGNvbnN0YW50cy5kb3VibGUpW3hdW3ldLFxuICAgICAgICAgIGF0dHJpYnV0ZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKSArXG4gICAgICBxdW90ZTtcbiAgfVxuXG4gIC8vIERvbuKAmXQgYWRkIGEgYD1gIGZvciB1bnF1b3RlZCBlbXB0aWVzLlxuICByZXR1cm4gbmFtZSArIChyZXN1bHQgPyAnPScgKyByZXN1bHQgOiByZXN1bHQpXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlBhcmVudHN9IFBhcmVudHNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5UZXh0fSBUZXh0XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnbWRhc3QtdXRpbC10by1oYXN0JykuUmF3fSBSYXdcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbmRleC5qcycpLlN0YXRlfSBTdGF0ZVxuICovXG5cblxuLyoqXG4gKiBTZXJpYWxpemUgYSB0ZXh0IG5vZGUuXG4gKlxuICogQHBhcmFtIHtSYXcgfCBUZXh0fSBub2RlXG4gKiAgIE5vZGUgdG8gaGFuZGxlLlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IF9cbiAqICAgSW5kZXggb2YgYG5vZGVgIGluIGBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgYG5vZGVgLlxuICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcbiAqICAgSW5mbyBwYXNzZWQgYXJvdW5kIGFib3V0IHRoZSBjdXJyZW50IHN0YXRlLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqICAgU2VyaWFsaXplZCBub2RlLlxuICovXG5mdW5jdGlvbiB0ZXh0KG5vZGUsIF8sIHBhcmVudCwgc3RhdGUpIHtcbiAgLy8gQ2hlY2sgaWYgY29udGVudCBvZiBgbm9kZWAgc2hvdWxkIGJlIGVzY2FwZWQuXG4gIHJldHVybiBwYXJlbnQgJiZcbiAgICBwYXJlbnQudHlwZSA9PT0gJ2VsZW1lbnQnICYmXG4gICAgKHBhcmVudC50YWdOYW1lID09PSAnc2NyaXB0JyB8fCBwYXJlbnQudGFnTmFtZSA9PT0gJ3N0eWxlJylcbiAgICA/IG5vZGUudmFsdWVcbiAgICA6IHN0cmluZ2lmeUVudGl0aWVzKFxuICAgICAgICBub2RlLnZhbHVlLFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zZXR0aW5ncy5jaGFyYWN0ZXJSZWZlcmVuY2VzLCB7XG4gICAgICAgICAgc3Vic2V0OiBbJzwnLCAnJiddXG4gICAgICAgIH0pXG4gICAgICApXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlBhcmVudHN9IFBhcmVudHNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdtZGFzdC11dGlsLXRvLWhhc3QnKS5SYXd9IFJhd1xuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2luZGV4LmpzJykuU3RhdGV9IFN0YXRlXG4gKi9cblxuXG4vKipcbiAqIFNlcmlhbGl6ZSBhIHJhdyBub2RlLlxuICpcbiAqIEBwYXJhbSB7UmF3fSBub2RlXG4gKiAgIE5vZGUgdG8gaGFuZGxlLlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IGluZGV4XG4gKiAgIEluZGV4IG9mIGBub2RlYCBpbiBgcGFyZW50LlxuICogQHBhcmFtIHtQYXJlbnRzIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGBub2RlYC5cbiAqIEBwYXJhbSB7U3RhdGV9IHN0YXRlXG4gKiAgIEluZm8gcGFzc2VkIGFyb3VuZCBhYm91dCB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiAgIFNlcmlhbGl6ZWQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gcmF3KG5vZGUsIGluZGV4LCBwYXJlbnQsIHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5zZXR0aW5ncy5hbGxvd0Rhbmdlcm91c0h0bWxcbiAgICA/IG5vZGUudmFsdWVcbiAgICA6IHRleHQobm9kZSwgaW5kZXgsIHBhcmVudCwgc3RhdGUpXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlBhcmVudHN9IFBhcmVudHNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5Sb290fSBSb290XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW5kZXguanMnKS5TdGF0ZX0gU3RhdGVcbiAqL1xuXG5cbi8qKlxuICogU2VyaWFsaXplIGEgcm9vdC5cbiAqXG4gKiBAcGFyYW0ge1Jvb3R9IG5vZGVcbiAqICAgTm9kZSB0byBoYW5kbGUuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gXzFcbiAqICAgSW5kZXggb2YgYG5vZGVgIGluIGBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IF8yXG4gKiAgIFBhcmVudCBvZiBgbm9kZWAuXG4gKiBAcGFyYW0ge1N0YXRlfSBzdGF0ZVxuICogICBJbmZvIHBhc3NlZCBhcm91bmQgYWJvdXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogICBTZXJpYWxpemVkIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIHJvb3Qobm9kZSwgXzEsIF8yLCBzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuYWxsKG5vZGUpXG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLk5vZGVzfSBOb2Rlc1xuICogQHR5cGVkZWYge2ltcG9ydCgnaGFzdCcpLlBhcmVudHN9IFBhcmVudHNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbmRleC5qcycpLlN0YXRlfSBTdGF0ZVxuICovXG5cblxuLyoqXG4gKiBAdHlwZSB7KG5vZGU6IE5vZGVzLCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkLCBwYXJlbnQ6IFBhcmVudHMgfCB1bmRlZmluZWQsIHN0YXRlOiBTdGF0ZSkgPT4gc3RyaW5nfVxuICovXG5jb25zdCBoYW5kbGUgPSB6d2l0Y2goJ3R5cGUnLCB7XG4gIGludmFsaWQsXG4gIHVua25vd24sXG4gIGhhbmRsZXJzOiB7Y29tbWVudCwgZG9jdHlwZSwgZWxlbWVudCwgcmF3LCByb290LCB0ZXh0fVxufSk7XG5cbi8qKlxuICogRmFpbCB3aGVuIGEgbm9uLW5vZGUgaXMgZm91bmQgaW4gdGhlIHRyZWUuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSBub2RlXG4gKiAgIFVua25vd24gdmFsdWUuXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKiAgIE5ldmVyLlxuICovXG5mdW5jdGlvbiBpbnZhbGlkKG5vZGUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBub2RlLCBub3QgYCcgKyBub2RlICsgJ2AnKVxufVxuXG4vKipcbiAqIEZhaWwgd2hlbiBhIG5vZGUgd2l0aCBhbiB1bmtub3duIHR5cGUgaXMgZm91bmQgaW4gdGhlIHRyZWUuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSBub2RlX1xuICogIFVua25vd24gbm9kZS5cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqICAgTmV2ZXIuXG4gKi9cbmZ1bmN0aW9uIHVua25vd24obm9kZV8pIHtcbiAgLy8gYHR5cGVgIGlzIGd1YXJhbnRlZWQgYnkgcnVudGltZSBKUy5cbiAgY29uc3Qgbm9kZSA9IC8qKiBAdHlwZSB7Tm9kZXN9ICovIChub2RlXyk7XG4gIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBpbGUgdW5rbm93biBub2RlIGAnICsgbm9kZS50eXBlICsgJ2AnKVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5Ob2Rlc30gTm9kZXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2hhc3QnKS5QYXJlbnRzfSBQYXJlbnRzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdoYXN0JykuUm9vdENvbnRlbnR9IFJvb3RDb250ZW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgncHJvcGVydHktaW5mb3JtYXRpb24nKS5TY2hlbWF9IFNjaGVtYVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ3N0cmluZ2lmeS1lbnRpdGllcycpLk9wdGlvbnN9IFN0cmluZ2lmeUVudGl0aWVzT3B0aW9uc1xuICovXG5cblxuLyoqIEB0eXBlIHtPcHRpb25zfSAqL1xuY29uc3QgZW1wdHlPcHRpb25zID0ge307XG5cbi8qKiBAdHlwZSB7Q2hhcmFjdGVyUmVmZXJlbmNlc30gKi9cbmNvbnN0IGVtcHR5Q2hhcmFjdGVyUmVmZXJlbmNlcyA9IHt9O1xuXG4vKiogQHR5cGUge0FycmF5PG5ldmVyPn0gKi9cbmNvbnN0IGVtcHR5Q2hpbGRyZW4gPSBbXTtcblxuLyoqXG4gKiBTZXJpYWxpemUgaGFzdCBhcyBIVE1MLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8Um9vdENvbnRlbnQ+IHwgTm9kZXN9IHRyZWVcbiAqICAgVHJlZSB0byBzZXJpYWxpemUuXG4gKiBAcGFyYW0ge09wdGlvbnMgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0aW9uc11cbiAqICAgQ29uZmlndXJhdGlvbiAob3B0aW9uYWwpLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqICAgU2VyaWFsaXplZCBIVE1MLlxuICovXG5mdW5jdGlvbiB0b0h0bWwodHJlZSwgb3B0aW9ucykge1xuICBjb25zdCBvcHRpb25zXyA9IG9wdGlvbnMgfHwgZW1wdHlPcHRpb25zO1xuICBjb25zdCBxdW90ZSA9IG9wdGlvbnNfLnF1b3RlIHx8ICdcIic7XG4gIGNvbnN0IGFsdGVybmF0aXZlID0gcXVvdGUgPT09ICdcIicgPyBcIidcIiA6ICdcIic7XG5cbiAgaWYgKHF1b3RlICE9PSAnXCInICYmIHF1b3RlICE9PSBcIidcIikge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBxdW90ZSBgJyArIHF1b3RlICsgJ2AsIGV4cGVjdGVkIGBcXCdgIG9yIGBcImAnKVxuICB9XG5cbiAgLyoqIEB0eXBlIHtTdGF0ZX0gKi9cbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgb25lLFxuICAgIGFsbCxcbiAgICBzZXR0aW5nczoge1xuICAgICAgb21pdE9wdGlvbmFsVGFnczogb3B0aW9uc18ub21pdE9wdGlvbmFsVGFncyB8fCBmYWxzZSxcbiAgICAgIGFsbG93UGFyc2VFcnJvcnM6IG9wdGlvbnNfLmFsbG93UGFyc2VFcnJvcnMgfHwgZmFsc2UsXG4gICAgICBhbGxvd0Rhbmdlcm91c0NoYXJhY3RlcnM6IG9wdGlvbnNfLmFsbG93RGFuZ2Vyb3VzQ2hhcmFjdGVycyB8fCBmYWxzZSxcbiAgICAgIHF1b3RlU21hcnQ6IG9wdGlvbnNfLnF1b3RlU21hcnQgfHwgZmFsc2UsXG4gICAgICBwcmVmZXJVbnF1b3RlZDogb3B0aW9uc18ucHJlZmVyVW5xdW90ZWQgfHwgZmFsc2UsXG4gICAgICB0aWdodEF0dHJpYnV0ZXM6IG9wdGlvbnNfLnRpZ2h0QXR0cmlidXRlcyB8fCBmYWxzZSxcbiAgICAgIHVwcGVyRG9jdHlwZTogb3B0aW9uc18udXBwZXJEb2N0eXBlIHx8IGZhbHNlLFxuICAgICAgdGlnaHREb2N0eXBlOiBvcHRpb25zXy50aWdodERvY3R5cGUgfHwgZmFsc2UsXG4gICAgICBib2d1c0NvbW1lbnRzOiBvcHRpb25zXy5ib2d1c0NvbW1lbnRzIHx8IGZhbHNlLFxuICAgICAgdGlnaHRDb21tYVNlcGFyYXRlZExpc3RzOiBvcHRpb25zXy50aWdodENvbW1hU2VwYXJhdGVkTGlzdHMgfHwgZmFsc2UsXG4gICAgICB0aWdodFNlbGZDbG9zaW5nOiBvcHRpb25zXy50aWdodFNlbGZDbG9zaW5nIHx8IGZhbHNlLFxuICAgICAgY29sbGFwc2VFbXB0eUF0dHJpYnV0ZXM6IG9wdGlvbnNfLmNvbGxhcHNlRW1wdHlBdHRyaWJ1dGVzIHx8IGZhbHNlLFxuICAgICAgYWxsb3dEYW5nZXJvdXNIdG1sOiBvcHRpb25zXy5hbGxvd0Rhbmdlcm91c0h0bWwgfHwgZmFsc2UsXG4gICAgICB2b2lkczogb3B0aW9uc18udm9pZHMgfHwgaHRtbFZvaWRFbGVtZW50cyxcbiAgICAgIGNoYXJhY3RlclJlZmVyZW5jZXM6XG4gICAgICAgIG9wdGlvbnNfLmNoYXJhY3RlclJlZmVyZW5jZXMgfHwgZW1wdHlDaGFyYWN0ZXJSZWZlcmVuY2VzLFxuICAgICAgY2xvc2VTZWxmQ2xvc2luZzogb3B0aW9uc18uY2xvc2VTZWxmQ2xvc2luZyB8fCBmYWxzZSxcbiAgICAgIGNsb3NlRW1wdHlFbGVtZW50czogb3B0aW9uc18uY2xvc2VFbXB0eUVsZW1lbnRzIHx8IGZhbHNlXG4gICAgfSxcbiAgICBzY2hlbWE6IG9wdGlvbnNfLnNwYWNlID09PSAnc3ZnJyA/IHN2ZyA6IGh0bWwkMixcbiAgICBxdW90ZSxcbiAgICBhbHRlcm5hdGl2ZVxuICB9O1xuXG4gIHJldHVybiBzdGF0ZS5vbmUoXG4gICAgQXJyYXkuaXNBcnJheSh0cmVlKSA/IHt0eXBlOiAncm9vdCcsIGNoaWxkcmVuOiB0cmVlfSA6IHRyZWUsXG4gICAgdW5kZWZpbmVkLFxuICAgIHVuZGVmaW5lZFxuICApXG59XG5cbi8qKlxuICogU2VyaWFsaXplIGEgbm9kZS5cbiAqXG4gKiBAdGhpcyB7U3RhdGV9XG4gKiAgIEluZm8gcGFzc2VkIGFyb3VuZCBhYm91dCB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7Tm9kZXN9IG5vZGVcbiAqICAgTm9kZSB0byBoYW5kbGUuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gaW5kZXhcbiAqICAgSW5kZXggb2YgYG5vZGVgIGluIGBwYXJlbnQuXG4gKiBAcGFyYW0ge1BhcmVudHMgfCB1bmRlZmluZWR9IHBhcmVudFxuICogICBQYXJlbnQgb2YgYG5vZGVgLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqICAgU2VyaWFsaXplZCBub2RlLlxuICovXG5mdW5jdGlvbiBvbmUobm9kZSwgaW5kZXgsIHBhcmVudCkge1xuICByZXR1cm4gaGFuZGxlKG5vZGUsIGluZGV4LCBwYXJlbnQsIHRoaXMpXG59XG5cbi8qKlxuICogU2VyaWFsaXplIGFsbCBjaGlsZHJlbiBvZiBgcGFyZW50YC5cbiAqXG4gKiBAdGhpcyB7U3RhdGV9XG4gKiAgIEluZm8gcGFzc2VkIGFyb3VuZCBhYm91dCB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7UGFyZW50cyB8IHVuZGVmaW5lZH0gcGFyZW50XG4gKiAgIFBhcmVudCB3aG9zZSBjaGlsZHJlbiB0byBzZXJpYWxpemUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBhbGwocGFyZW50KSB7XG4gIC8qKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn0gKi9cbiAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICBjb25zdCBjaGlsZHJlbiA9IChwYXJlbnQgJiYgcGFyZW50LmNoaWxkcmVuKSB8fCBlbXB0eUNoaWxkcmVuO1xuICBsZXQgaW5kZXggPSAtMTtcblxuICB3aGlsZSAoKytpbmRleCA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHJlc3VsdHNbaW5kZXhdID0gdGhpcy5vbmUoY2hpbGRyZW5baW5kZXhdLCBpbmRleCwgcGFyZW50KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzLmpvaW4oJycpXG59XG5cbi8qKlxuICogR2V0IGhpZ2hsaWdodGVkIGNvZGUgaW4gSFRNTC5cbiAqL1xuZnVuY3Rpb24gY29kZVRvSHRtbChpbnRlcm5hbCwgY29kZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIG1ldGE6IHt9LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBjb2RlVG9IYXN0OiAoX2NvZGUsIF9vcHRpb25zKSA9PiBjb2RlVG9IYXN0KGludGVybmFsLCBfY29kZSwgX29wdGlvbnMpLFxuICAgIH07XG4gICAgbGV0IHJlc3VsdCA9IHRvSHRtbChjb2RlVG9IYXN0KGludGVybmFsLCBjb2RlLCBvcHRpb25zLCBjb250ZXh0KSk7XG4gICAgZm9yIChjb25zdCB0cmFuc2Zvcm1lciBvZiBvcHRpb25zLnRyYW5zZm9ybWVycyB8fCBbXSlcbiAgICAgICAgcmVzdWx0ID0gdHJhbnNmb3JtZXIucG9zdHByb2Nlc3M/LmNhbGwoY29udGV4dCwgcmVzdWx0LCBvcHRpb25zKSB8fCByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFpbihpbml0KSB7XG4gICAgbGV0IHdhc21NZW1vcnk7XG4gICAgbGV0IGJ1ZmZlcjtcbiAgICBjb25zdCBiaW5kaW5nID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoYnVmKSB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZjtcbiAgICAgICAgYmluZGluZy5IRUFQVTggPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgICAgICBiaW5kaW5nLkhFQVBVMzIgPSBuZXcgVWludDMyQXJyYXkoYnVmKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZ2V0X25vdygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBwZXJmb3JtYW5jZS5ub3coKSA6IERhdGUubm93KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX21lbWNweV9iaWcoZGVzdCwgc3JjLCBudW0pIHtcbiAgICAgICAgYmluZGluZy5IRUFQVTguY29weVdpdGhpbihkZXN0LCBzcmMsIHNyYyArIG51bSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhlYXBNYXgoKSB7XG4gICAgICAgIHJldHVybiAyMTQ3NDgzNjQ4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKHNpemUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdhc21NZW1vcnkuZ3Jvdygoc2l6ZSAtIGJ1ZmZlci5ieXRlTGVuZ3RoICsgNjU1MzUpID4+PiAxNik7XG4gICAgICAgICAgICB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwKHJlcXVlc3RlZFNpemUpIHtcbiAgICAgICAgY29uc3Qgb2xkU2l6ZSA9IGJpbmRpbmcuSEVBUFU4Lmxlbmd0aDtcbiAgICAgICAgcmVxdWVzdGVkU2l6ZSA9IHJlcXVlc3RlZFNpemUgPj4+IDA7XG4gICAgICAgIGNvbnN0IG1heEhlYXBTaXplID0gZ2V0SGVhcE1heCgpO1xuICAgICAgICBpZiAocmVxdWVzdGVkU2l6ZSA+IG1heEhlYXBTaXplKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBhbGlnblVwID0gKHgsIG11bHRpcGxlKSA9PiB4ICsgKChtdWx0aXBsZSAtICh4ICUgbXVsdGlwbGUpKSAlIG11bHRpcGxlKTtcbiAgICAgICAgZm9yIChsZXQgY3V0RG93biA9IDE7IGN1dERvd24gPD0gNDsgY3V0RG93biAqPSAyKSB7XG4gICAgICAgICAgICBsZXQgb3Zlckdyb3duSGVhcFNpemUgPSBvbGRTaXplICogKDEgKyAwLjIgLyBjdXREb3duKTtcbiAgICAgICAgICAgIG92ZXJHcm93bkhlYXBTaXplID0gTWF0aC5taW4ob3Zlckdyb3duSGVhcFNpemUsIHJlcXVlc3RlZFNpemUgKyAxMDA2NjMyOTYpO1xuICAgICAgICAgICAgY29uc3QgbmV3U2l6ZSA9IE1hdGgubWluKG1heEhlYXBTaXplLCBhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsIG92ZXJHcm93bkhlYXBTaXplKSwgNjU1MzYpKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihuZXdTaXplKTtcbiAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGFzbUxpYnJhcnlBcmcgPSB7XG4gICAgICAgIGVtc2NyaXB0ZW5fZ2V0X25vdzogX2Vtc2NyaXB0ZW5fZ2V0X25vdyxcbiAgICAgICAgZW1zY3JpcHRlbl9tZW1jcHlfYmlnOiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLFxuICAgICAgICBlbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwOiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcCxcbiAgICAgICAgZmRfd3JpdGU6ICgpID0+IDAsXG4gICAgfTtcbiAgICBhc3luYyBmdW5jdGlvbiBjcmVhdGVXYXNtKCkge1xuICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgZW52OiBhc21MaWJyYXJ5QXJnLFxuICAgICAgICAgICAgd2FzaV9zbmFwc2hvdF9wcmV2aWV3MTogYXNtTGlicmFyeUFyZyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZXhwb3J0cyA9IGF3YWl0IGluaXQoaW5mbyk7XG4gICAgICAgIHdhc21NZW1vcnkgPSBleHBvcnRzLm1lbW9yeTtcbiAgICAgICAgdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO1xuICAgICAgICBPYmplY3QuYXNzaWduKGJpbmRpbmcsIGV4cG9ydHMpO1xuICAgIH1cbiAgICBhd2FpdCBjcmVhdGVXYXNtKCk7XG4gICAgcmV0dXJuIGJpbmRpbmc7XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChDKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5sZXQgb25pZ0JpbmRpbmcgPSBudWxsO1xubGV0IGRlZmF1bHREZWJ1Z0NhbGwgPSBmYWxzZTtcbmZ1bmN0aW9uIHRocm93TGFzdE9uaWdFcnJvcihvbmlnQmluZGluZykge1xuICAgIHRocm93IG5ldyBFcnJvcihvbmlnQmluZGluZy5VVEY4VG9TdHJpbmcob25pZ0JpbmRpbmcuZ2V0TGFzdE9uaWdFcnJvcigpKSk7XG59XG5jbGFzcyBVdGZTdHJpbmcge1xuICAgIHN0YXRpYyBfdXRmOEJ5dGVMZW5ndGgoc3RyKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgbGV0IGNvZGVwb2ludCA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgbGV0IHdhc1N1cnJvZ2F0ZVBhaXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjaGFyQ29kZSA+PSAweEQ4MDAgJiYgY2hhckNvZGUgPD0gMHhEQkZGKSB7XG4gICAgICAgICAgICAgICAgLy8gSGl0IGEgaGlnaCBzdXJyb2dhdGUsIHRyeSB0byBsb29rIGZvciBhIG1hdGNoaW5nIGxvdyBzdXJyb2dhdGVcbiAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoYXJDb2RlID49IDB4REMwMCAmJiBuZXh0Q2hhckNvZGUgPD0gMHhERkZGKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCB0aGUgbWF0Y2hpbmcgbG93IHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZXBvaW50ID0gKCgoY2hhckNvZGUgLSAweEQ4MDApIDw8IDEwKSArIDB4MTAwMDApIHwgKG5leHRDaGFyQ29kZSAtIDB4REMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXNTdXJyb2dhdGVQYWlyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2RlcG9pbnQgPD0gMHg3RilcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVwb2ludCA8PSAweDdGRilcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gMjtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVwb2ludCA8PSAweEZGRkYpXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IDM7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IDQ7XG4gICAgICAgICAgICBpZiAod2FzU3Vycm9nYXRlUGFpcilcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdXRmMTZMZW5ndGg7XG4gICAgdXRmOExlbmd0aDtcbiAgICB1dGYxNlZhbHVlO1xuICAgIHV0ZjhWYWx1ZTtcbiAgICB1dGYxNk9mZnNldFRvVXRmODtcbiAgICB1dGY4T2Zmc2V0VG9VdGYxNjtcbiAgICBjb25zdHJ1Y3RvcihzdHIpIHtcbiAgICAgICAgY29uc3QgdXRmMTZMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICBjb25zdCB1dGY4TGVuZ3RoID0gVXRmU3RyaW5nLl91dGY4Qnl0ZUxlbmd0aChzdHIpO1xuICAgICAgICBjb25zdCBjb21wdXRlSW5kaWNlc01hcHBpbmcgPSAodXRmOExlbmd0aCAhPT0gdXRmMTZMZW5ndGgpO1xuICAgICAgICBjb25zdCB1dGYxNk9mZnNldFRvVXRmOCA9IGNvbXB1dGVJbmRpY2VzTWFwcGluZyA/IG5ldyBVaW50MzJBcnJheSh1dGYxNkxlbmd0aCArIDEpIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbXB1dGVJbmRpY2VzTWFwcGluZylcbiAgICAgICAgICAgIHV0ZjE2T2Zmc2V0VG9VdGY4W3V0ZjE2TGVuZ3RoXSA9IHV0ZjhMZW5ndGg7XG4gICAgICAgIGNvbnN0IHV0ZjhPZmZzZXRUb1V0ZjE2ID0gY29tcHV0ZUluZGljZXNNYXBwaW5nID8gbmV3IFVpbnQzMkFycmF5KHV0ZjhMZW5ndGggKyAxKSA6IG51bGw7XG4gICAgICAgIGlmIChjb21wdXRlSW5kaWNlc01hcHBpbmcpXG4gICAgICAgICAgICB1dGY4T2Zmc2V0VG9VdGYxNlt1dGY4TGVuZ3RoXSA9IHV0ZjE2TGVuZ3RoO1xuICAgICAgICBjb25zdCB1dGY4VmFsdWUgPSBuZXcgVWludDhBcnJheSh1dGY4TGVuZ3RoKTtcbiAgICAgICAgbGV0IGk4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaTE2ID0gMDsgaTE2IDwgdXRmMTZMZW5ndGg7IGkxNisrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkxNik7XG4gICAgICAgICAgICBsZXQgY29kZVBvaW50ID0gY2hhckNvZGU7XG4gICAgICAgICAgICBsZXQgd2FzU3Vycm9nYXRlUGFpciA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkYpIHtcbiAgICAgICAgICAgICAgICAvLyBIaXQgYSBoaWdoIHN1cnJvZ2F0ZSwgdHJ5IHRvIGxvb2sgZm9yIGEgbWF0Y2hpbmcgbG93IHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgIGlmIChpMTYgKyAxIDwgdXRmMTZMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaTE2ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hhckNvZGUgPj0gMHhEQzAwICYmIG5leHRDaGFyQ29kZSA8PSAweERGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIHRoZSBtYXRjaGluZyBsb3cgc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSAoKChjaGFyQ29kZSAtIDB4RDgwMCkgPDwgMTApICsgMHgxMDAwMCkgfCAobmV4dENoYXJDb2RlIC0gMHhEQzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc1N1cnJvZ2F0ZVBhaXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXB1dGVJbmRpY2VzTWFwcGluZykge1xuICAgICAgICAgICAgICAgIHV0ZjE2T2Zmc2V0VG9VdGY4W2kxNl0gPSBpODtcbiAgICAgICAgICAgICAgICBpZiAod2FzU3Vycm9nYXRlUGFpcilcbiAgICAgICAgICAgICAgICAgICAgdXRmMTZPZmZzZXRUb1V0ZjhbaTE2ICsgMV0gPSBpODtcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4N0YpIHtcbiAgICAgICAgICAgICAgICAgICAgdXRmOE9mZnNldFRvVXRmMTZbaTggKyAwXSA9IGkxNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZVBvaW50IDw9IDB4N0ZGKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhPZmZzZXRUb1V0ZjE2W2k4ICsgMF0gPSBpMTY7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhPZmZzZXRUb1V0ZjE2W2k4ICsgMV0gPSBpMTY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA8PSAweEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgdXRmOE9mZnNldFRvVXRmMTZbaTggKyAwXSA9IGkxNjtcbiAgICAgICAgICAgICAgICAgICAgdXRmOE9mZnNldFRvVXRmMTZbaTggKyAxXSA9IGkxNjtcbiAgICAgICAgICAgICAgICAgICAgdXRmOE9mZnNldFRvVXRmMTZbaTggKyAyXSA9IGkxNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhPZmZzZXRUb1V0ZjE2W2k4ICsgMF0gPSBpMTY7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhPZmZzZXRUb1V0ZjE2W2k4ICsgMV0gPSBpMTY7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhPZmZzZXRUb1V0ZjE2W2k4ICsgMl0gPSBpMTY7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhPZmZzZXRUb1V0ZjE2W2k4ICsgM10gPSBpMTY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweDdGKSB7XG4gICAgICAgICAgICAgICAgdXRmOFZhbHVlW2k4KytdID0gY29kZVBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29kZVBvaW50IDw9IDB4N0ZGKSB7XG4gICAgICAgICAgICAgICAgdXRmOFZhbHVlW2k4KytdID0gMGIxMTAwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTAwMDAwMCkgPj4+IDYpO1xuICAgICAgICAgICAgICAgIHV0ZjhWYWx1ZVtpOCsrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTEpID4+PiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA8PSAweEZGRkYpIHtcbiAgICAgICAgICAgICAgICB1dGY4VmFsdWVbaTgrK10gPSAwYjExMTAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAxMTExMDAwMDAwMDAwMDAwKSA+Pj4gMTIpO1xuICAgICAgICAgICAgICAgIHV0ZjhWYWx1ZVtpOCsrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTEwMDAwMDApID4+PiA2KTtcbiAgICAgICAgICAgICAgICB1dGY4VmFsdWVbaTgrK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTExKSA+Pj4gMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGY4VmFsdWVbaTgrK10gPSAwYjExMTEwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMTExMDAwMDAwMDAwMDAwMDAwMDAwKSA+Pj4gMTgpO1xuICAgICAgICAgICAgICAgIHV0ZjhWYWx1ZVtpOCsrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAxMTExMTEwMDAwMDAwMDAwMDApID4+PiAxMik7XG4gICAgICAgICAgICAgICAgdXRmOFZhbHVlW2k4KytdID0gMGIxMDAwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDExMTExMTAwMDAwMCkgPj4+IDYpO1xuICAgICAgICAgICAgICAgIHV0ZjhWYWx1ZVtpOCsrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTEpID4+PiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3YXNTdXJyb2dhdGVQYWlyKVxuICAgICAgICAgICAgICAgIGkxNisrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXRmMTZMZW5ndGggPSB1dGYxNkxlbmd0aDtcbiAgICAgICAgdGhpcy51dGY4TGVuZ3RoID0gdXRmOExlbmd0aDtcbiAgICAgICAgdGhpcy51dGYxNlZhbHVlID0gc3RyO1xuICAgICAgICB0aGlzLnV0ZjhWYWx1ZSA9IHV0ZjhWYWx1ZTtcbiAgICAgICAgdGhpcy51dGYxNk9mZnNldFRvVXRmOCA9IHV0ZjE2T2Zmc2V0VG9VdGY4O1xuICAgICAgICB0aGlzLnV0ZjhPZmZzZXRUb1V0ZjE2ID0gdXRmOE9mZnNldFRvVXRmMTY7XG4gICAgfVxuICAgIGNyZWF0ZVN0cmluZyhvbmlnQmluZGluZykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBvbmlnQmluZGluZy5vbWFsbG9jKHRoaXMudXRmOExlbmd0aCk7XG4gICAgICAgIG9uaWdCaW5kaW5nLkhFQVBVOC5zZXQodGhpcy51dGY4VmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuY2xhc3MgT25pZ1N0cmluZyB7XG4gICAgc3RhdGljIExBU1RfSUQgPSAwO1xuICAgIHN0YXRpYyBfc2hhcmVkUHRyID0gMDsgLy8gYSBwb2ludGVyIHRvIGEgc3RyaW5nIG9mIDEwMDAwIGJ5dGVzXG4gICAgc3RhdGljIF9zaGFyZWRQdHJJblVzZSA9IGZhbHNlO1xuICAgIGlkID0gKCsrT25pZ1N0cmluZy5MQVNUX0lEKTtcbiAgICBfb25pZ0JpbmRpbmc7XG4gICAgY29udGVudDtcbiAgICB1dGYxNkxlbmd0aDtcbiAgICB1dGY4TGVuZ3RoO1xuICAgIHV0ZjE2T2Zmc2V0VG9VdGY4O1xuICAgIHV0ZjhPZmZzZXRUb1V0ZjE2O1xuICAgIHB0cjtcbiAgICBjb25zdHJ1Y3RvcihzdHIpIHtcbiAgICAgICAgaWYgKCFvbmlnQmluZGluZylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBpbnZva2UgbG9hZFdhc20gZmlyc3QuJyk7XG4gICAgICAgIHRoaXMuX29uaWdCaW5kaW5nID0gb25pZ0JpbmRpbmc7XG4gICAgICAgIHRoaXMuY29udGVudCA9IHN0cjtcbiAgICAgICAgY29uc3QgdXRmU3RyaW5nID0gbmV3IFV0ZlN0cmluZyhzdHIpO1xuICAgICAgICB0aGlzLnV0ZjE2TGVuZ3RoID0gdXRmU3RyaW5nLnV0ZjE2TGVuZ3RoO1xuICAgICAgICB0aGlzLnV0ZjhMZW5ndGggPSB1dGZTdHJpbmcudXRmOExlbmd0aDtcbiAgICAgICAgdGhpcy51dGYxNk9mZnNldFRvVXRmOCA9IHV0ZlN0cmluZy51dGYxNk9mZnNldFRvVXRmODtcbiAgICAgICAgdGhpcy51dGY4T2Zmc2V0VG9VdGYxNiA9IHV0ZlN0cmluZy51dGY4T2Zmc2V0VG9VdGYxNjtcbiAgICAgICAgaWYgKHRoaXMudXRmOExlbmd0aCA8IDEwMDAwICYmICFPbmlnU3RyaW5nLl9zaGFyZWRQdHJJblVzZSkge1xuICAgICAgICAgICAgaWYgKCFPbmlnU3RyaW5nLl9zaGFyZWRQdHIpXG4gICAgICAgICAgICAgICAgT25pZ1N0cmluZy5fc2hhcmVkUHRyID0gb25pZ0JpbmRpbmcub21hbGxvYygxMDAwMCk7XG4gICAgICAgICAgICBPbmlnU3RyaW5nLl9zaGFyZWRQdHJJblVzZSA9IHRydWU7XG4gICAgICAgICAgICBvbmlnQmluZGluZy5IRUFQVTguc2V0KHV0ZlN0cmluZy51dGY4VmFsdWUsIE9uaWdTdHJpbmcuX3NoYXJlZFB0cik7XG4gICAgICAgICAgICB0aGlzLnB0ciA9IE9uaWdTdHJpbmcuX3NoYXJlZFB0cjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHRyID0gdXRmU3RyaW5nLmNyZWF0ZVN0cmluZyhvbmlnQmluZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udmVydFV0ZjhPZmZzZXRUb1V0ZjE2KHV0ZjhPZmZzZXQpIHtcbiAgICAgICAgaWYgKHRoaXMudXRmOE9mZnNldFRvVXRmMTYpIHtcbiAgICAgICAgICAgIGlmICh1dGY4T2Zmc2V0IDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmICh1dGY4T2Zmc2V0ID4gdGhpcy51dGY4TGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnV0ZjE2TGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXRmOE9mZnNldFRvVXRmMTZbdXRmOE9mZnNldF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0ZjhPZmZzZXQ7XG4gICAgfVxuICAgIGNvbnZlcnRVdGYxNk9mZnNldFRvVXRmOCh1dGYxNk9mZnNldCkge1xuICAgICAgICBpZiAodGhpcy51dGYxNk9mZnNldFRvVXRmOCkge1xuICAgICAgICAgICAgaWYgKHV0ZjE2T2Zmc2V0IDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmICh1dGYxNk9mZnNldCA+IHRoaXMudXRmMTZMZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXRmOExlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnV0ZjE2T2Zmc2V0VG9VdGY4W3V0ZjE2T2Zmc2V0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRmMTZPZmZzZXQ7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnB0ciA9PT0gT25pZ1N0cmluZy5fc2hhcmVkUHRyKVxuICAgICAgICAgICAgT25pZ1N0cmluZy5fc2hhcmVkUHRySW5Vc2UgPSBmYWxzZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fb25pZ0JpbmRpbmcub2ZyZWUodGhpcy5wdHIpO1xuICAgIH1cbn1cbmNsYXNzIE9uaWdTY2FubmVyIHtcbiAgICBfb25pZ0JpbmRpbmc7XG4gICAgX3B0cjtcbiAgICBjb25zdHJ1Y3RvcihwYXR0ZXJucykge1xuICAgICAgICBpZiAoIW9uaWdCaW5kaW5nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IGludm9rZSBsb2FkV2FzbSBmaXJzdC4nKTtcbiAgICAgICAgY29uc3Qgc3RyUHRyc0FyciA9IFtdO1xuICAgICAgICBjb25zdCBzdHJMZW5BcnIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdHRlcm5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB1dGZTdHJpbmcgPSBuZXcgVXRmU3RyaW5nKHBhdHRlcm5zW2ldKTtcbiAgICAgICAgICAgIHN0clB0cnNBcnJbaV0gPSB1dGZTdHJpbmcuY3JlYXRlU3RyaW5nKG9uaWdCaW5kaW5nKTtcbiAgICAgICAgICAgIHN0ckxlbkFycltpXSA9IHV0ZlN0cmluZy51dGY4TGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0clB0cnNQdHIgPSBvbmlnQmluZGluZy5vbWFsbG9jKDQgKiBwYXR0ZXJucy5sZW5ndGgpO1xuICAgICAgICBvbmlnQmluZGluZy5IRUFQVTMyLnNldChzdHJQdHJzQXJyLCBzdHJQdHJzUHRyIC8gNCk7XG4gICAgICAgIGNvbnN0IHN0ckxlblB0ciA9IG9uaWdCaW5kaW5nLm9tYWxsb2MoNCAqIHBhdHRlcm5zLmxlbmd0aCk7XG4gICAgICAgIG9uaWdCaW5kaW5nLkhFQVBVMzIuc2V0KHN0ckxlbkFyciwgc3RyTGVuUHRyIC8gNCk7XG4gICAgICAgIGNvbnN0IHNjYW5uZXJQdHIgPSBvbmlnQmluZGluZy5jcmVhdGVPbmlnU2Nhbm5lcihzdHJQdHJzUHRyLCBzdHJMZW5QdHIsIHBhdHRlcm5zLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXR0ZXJucy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIG9uaWdCaW5kaW5nLm9mcmVlKHN0clB0cnNBcnJbaV0pO1xuICAgICAgICBvbmlnQmluZGluZy5vZnJlZShzdHJMZW5QdHIpO1xuICAgICAgICBvbmlnQmluZGluZy5vZnJlZShzdHJQdHJzUHRyKTtcbiAgICAgICAgaWYgKHNjYW5uZXJQdHIgPT09IDApXG4gICAgICAgICAgICB0aHJvd0xhc3RPbmlnRXJyb3Iob25pZ0JpbmRpbmcpO1xuICAgICAgICB0aGlzLl9vbmlnQmluZGluZyA9IG9uaWdCaW5kaW5nO1xuICAgICAgICB0aGlzLl9wdHIgPSBzY2FubmVyUHRyO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9vbmlnQmluZGluZy5mcmVlT25pZ1NjYW5uZXIodGhpcy5fcHRyKTtcbiAgICB9XG4gICAgZmluZE5leHRNYXRjaFN5bmMoc3RyaW5nLCBzdGFydFBvc2l0aW9uLCBhcmcpIHtcbiAgICAgICAgbGV0IGRlYnVnQ2FsbCA9IGRlZmF1bHREZWJ1Z0NhbGw7XG4gICAgICAgIGxldCBvcHRpb25zID0gMCAvKiBGaW5kT3B0aW9uLk5vbmUgKi87XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKGFyZyAmIDggLyogRmluZE9wdGlvbi5EZWJ1Z0NhbGwgKi8pXG4gICAgICAgICAgICAgICAgZGVidWdDYWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhcmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBkZWJ1Z0NhbGwgPSBhcmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdHJpbmcgPSBuZXcgT25pZ1N0cmluZyhzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZmluZE5leHRNYXRjaFN5bmMoc3RyaW5nLCBzdGFydFBvc2l0aW9uLCBkZWJ1Z0NhbGwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgc3RyaW5nLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmROZXh0TWF0Y2hTeW5jKHN0cmluZywgc3RhcnRQb3NpdGlvbiwgZGVidWdDYWxsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgX2ZpbmROZXh0TWF0Y2hTeW5jKHN0cmluZywgc3RhcnRQb3NpdGlvbiwgZGVidWdDYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9uaWdCaW5kaW5nID0gdGhpcy5fb25pZ0JpbmRpbmc7XG4gICAgICAgIGxldCByZXN1bHRQdHI7XG4gICAgICAgIGlmIChkZWJ1Z0NhbGwpXG4gICAgICAgICAgICByZXN1bHRQdHIgPSBvbmlnQmluZGluZy5maW5kTmV4dE9uaWdTY2FubmVyTWF0Y2hEYmcodGhpcy5fcHRyLCBzdHJpbmcuaWQsIHN0cmluZy5wdHIsIHN0cmluZy51dGY4TGVuZ3RoLCBzdHJpbmcuY29udmVydFV0ZjE2T2Zmc2V0VG9VdGY4KHN0YXJ0UG9zaXRpb24pLCBvcHRpb25zKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzdWx0UHRyID0gb25pZ0JpbmRpbmcuZmluZE5leHRPbmlnU2Nhbm5lck1hdGNoKHRoaXMuX3B0ciwgc3RyaW5nLmlkLCBzdHJpbmcucHRyLCBzdHJpbmcudXRmOExlbmd0aCwgc3RyaW5nLmNvbnZlcnRVdGYxNk9mZnNldFRvVXRmOChzdGFydFBvc2l0aW9uKSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChyZXN1bHRQdHIgPT09IDApIHtcbiAgICAgICAgICAgIC8vIG5vIG1hdGNoXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBIRUFQVTMyID0gb25pZ0JpbmRpbmcuSEVBUFUzMjtcbiAgICAgICAgbGV0IG9mZnNldCA9IHJlc3VsdFB0ciAvIDQ7IC8vIGJ5dGUgb2Zmc2V0IC0+IHVpbnQzMiBvZmZzZXRcbiAgICAgICAgY29uc3QgaW5kZXggPSBIRUFQVTMyW29mZnNldCsrXTtcbiAgICAgICAgY29uc3QgY291bnQgPSBIRUFQVTMyW29mZnNldCsrXTtcbiAgICAgICAgY29uc3QgY2FwdHVyZUluZGljZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiZWcgPSBzdHJpbmcuY29udmVydFV0ZjhPZmZzZXRUb1V0ZjE2KEhFQVBVMzJbb2Zmc2V0KytdKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0cmluZy5jb252ZXJ0VXRmOE9mZnNldFRvVXRmMTYoSEVBUFUzMltvZmZzZXQrK10pO1xuICAgICAgICAgICAgY2FwdHVyZUluZGljZXNbaV0gPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGJlZyxcbiAgICAgICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBlbmQgLSBiZWcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGNhcHR1cmVJbmRpY2VzLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSW5zdGFudGlhdG9yT3B0aW9uc09iamVjdChkYXRhT3JPcHRpb25zKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgZGF0YU9yT3B0aW9ucy5pbnN0YW50aWF0b3IgPT09ICdmdW5jdGlvbicpO1xufVxuZnVuY3Rpb24gaXNJbnN0YW50aWF0b3JNb2R1bGUoZGF0YU9yT3B0aW9ucykge1xuICAgIHJldHVybiAodHlwZW9mIGRhdGFPck9wdGlvbnMuZGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBpc0RhdGFPcHRpb25zT2JqZWN0KGRhdGFPck9wdGlvbnMpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBkYXRhT3JPcHRpb25zLmRhdGEgIT09ICd1bmRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2UoZGF0YU9yT3B0aW9ucykge1xuICAgIHJldHVybiAodHlwZW9mIFJlc3BvbnNlICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhT3JPcHRpb25zIGluc3RhbmNlb2YgUmVzcG9uc2UpO1xufVxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihkYXRhKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSlcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvcHJlZmVyLWdsb2JhbC9idWZmZXJcbiAgICAgICAgfHwgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSlcbiAgICAgICAgfHwgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YSBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKVxuICAgICAgICB8fCAodHlwZW9mIFVpbnQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhIGluc3RhbmNlb2YgVWludDMyQXJyYXkpO1xufVxubGV0IGluaXRQcm9taXNlO1xuZnVuY3Rpb24gbG9hZFdhc20ob3B0aW9ucykge1xuICAgIGlmIChpbml0UHJvbWlzZSlcbiAgICAgICAgcmV0dXJuIGluaXRQcm9taXNlO1xuICAgIGFzeW5jIGZ1bmN0aW9uIF9sb2FkKCkge1xuICAgICAgICBvbmlnQmluZGluZyA9IGF3YWl0IG1haW4oYXN5bmMgKGluZm8pID0+IHtcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IGF3YWl0IGluc3RhbmNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGF3YWl0IGluc3RhbmNlKGluZm8pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGF3YWl0IGluc3RhbmNlKGluZm8pO1xuICAgICAgICAgICAgaWYgKGlzSW5zdGFudGlhdG9yT3B0aW9uc09iamVjdChpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGF3YWl0IGluc3RhbmNlLmluc3RhbnRpYXRvcihpbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5zdGFudGlhdG9yTW9kdWxlKGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gYXdhaXQgaW5zdGFuY2UuZGVmYXVsdChpbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpc0RhdGFPcHRpb25zT2JqZWN0KGluc3RhbmNlKSlcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBhd2FpdCBfbWFrZVJlc3BvbnNlU3RyZWFtaW5nTG9hZGVyKGluc3RhbmNlKShpbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBhd2FpdCBfbWFrZVJlc3BvbnNlTm9uU3RyZWFtaW5nTG9hZGVyKGluc3RhbmNlKShpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUJ1ZmZlcihpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBhd2FpdCBfbWFrZUFycmF5QnVmZmVyTG9hZGVyKGluc3RhbmNlKShpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2luc3RhbmNlJyBpbiBpbnN0YW5jZSlcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLmluc3RhbmNlO1xuICAgICAgICAgICAgaWYgKCdleHBvcnRzJyBpbiBpbnN0YW5jZSlcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLmV4cG9ydHM7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbml0UHJvbWlzZSA9IF9sb2FkKCk7XG4gICAgcmV0dXJuIGluaXRQcm9taXNlO1xufVxuZnVuY3Rpb24gX21ha2VBcnJheUJ1ZmZlckxvYWRlcihkYXRhKSB7XG4gICAgcmV0dXJuIGltcG9ydE9iamVjdCA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShkYXRhLCBpbXBvcnRPYmplY3QpO1xufVxuZnVuY3Rpb24gX21ha2VSZXNwb25zZVN0cmVhbWluZ0xvYWRlcihkYXRhKSB7XG4gICAgcmV0dXJuIGltcG9ydE9iamVjdCA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhkYXRhLCBpbXBvcnRPYmplY3QpO1xufVxuZnVuY3Rpb24gX21ha2VSZXNwb25zZU5vblN0cmVhbWluZ0xvYWRlcihkYXRhKSB7XG4gICAgcmV0dXJuIGFzeW5jIChpbXBvcnRPYmplY3QpID0+IHtcbiAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBkYXRhLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShhcnJheUJ1ZmZlciwgaW1wb3J0T2JqZWN0KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlT25pZ1N0cmluZyhzdHIpIHtcbiAgICByZXR1cm4gbmV3IE9uaWdTdHJpbmcoc3RyKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9uaWdTY2FubmVyKHBhdHRlcm5zKSB7XG4gICAgcmV0dXJuIG5ldyBPbmlnU2Nhbm5lcihwYXR0ZXJucyk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvYmxvYi9mN2YwNWRlZTUzZmIzM2ZlMDIzZGIyZTA2ZTMwYTg5ZDMwOTQ0ODhmL3NyYy92cy9wbGF0Zm9ybS90aGVtZS9jb21tb24vY29sb3JSZWdpc3RyeS50cyNMMjU4LUwyNjhcbiAqL1xuY29uc3QgVlNDT0RFX0ZBTExCQUNLX0VESVRPUl9GRyA9IHsgbGlnaHQ6ICcjMzMzMzMzJywgZGFyazogJyNiYmJiYmInIH07XG5jb25zdCBWU0NPREVfRkFMTEJBQ0tfRURJVE9SX0JHID0geyBsaWdodDogJyNmZmZmZmUnLCBkYXJrOiAnIzFlMWUxZScgfTtcbmNvbnN0IFJFU09MVkVEX0tFWSA9ICdfX3NoaWtpX3Jlc29sdmVkJztcbi8qKlxuICogTm9ybWFsaXplIGEgdGV4dG1hdGUgdGhlbWUgdG8gc2hpa2kgdGhlbWVcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplVGhlbWUocmF3VGhlbWUpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgZmllbGRcbiAgICBpZiAocmF3VGhlbWU/LltSRVNPTFZFRF9LRVldKVxuICAgICAgICByZXR1cm4gcmF3VGhlbWU7XG4gICAgY29uc3QgdGhlbWUgPSB7XG4gICAgICAgIC4uLnJhd1RoZW1lLFxuICAgIH07XG4gICAgLy8gRmFsbGJhY2sgc2V0dGluZ3NcbiAgICBpZiAodGhlbWUudG9rZW5Db2xvcnMgJiYgIXRoZW1lLnNldHRpbmdzKSB7XG4gICAgICAgIHRoZW1lLnNldHRpbmdzID0gdGhlbWUudG9rZW5Db2xvcnM7XG4gICAgICAgIGRlbGV0ZSB0aGVtZS50b2tlbkNvbG9ycztcbiAgICB9XG4gICAgdGhlbWUudHlwZSB8fD0gJ2RhcmsnO1xuICAgIHRoZW1lLmNvbG9yUmVwbGFjZW1lbnRzID0geyAuLi50aGVtZS5jb2xvclJlcGxhY2VtZW50cyB9O1xuICAgIHRoZW1lLnNldHRpbmdzIHx8PSBbXTtcbiAgICAvLyBHdWVzcyBmZy9iZyBjb2xvcnNcbiAgICBsZXQgeyBiZywgZmcgfSA9IHRoZW1lO1xuICAgIGlmICghYmcgfHwgIWZnKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJzdCB0cnk6XG4gICAgICAgICAqIFRoZW1lIG1pZ2h0IGNvbnRhaW4gYSBnbG9iYWwgYHRva2VuQ29sb3JgIHdpdGhvdXQgYG5hbWVgIG9yIGBzY29wZWBcbiAgICAgICAgICogVXNlZCBhcyBkZWZhdWx0IHZhbHVlIGZvciBmb3JlZ3JvdW5kL2JhY2tncm91bmRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGdsb2JhbFNldHRpbmcgPSB0aGVtZS5zZXR0aW5nc1xuICAgICAgICAgICAgPyB0aGVtZS5zZXR0aW5ncy5maW5kKChzKSA9PiAhcy5uYW1lICYmICFzLnNjb3BlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChnbG9iYWxTZXR0aW5nPy5zZXR0aW5ncz8uZm9yZWdyb3VuZClcbiAgICAgICAgICAgIGZnID0gZ2xvYmFsU2V0dGluZy5zZXR0aW5ncy5mb3JlZ3JvdW5kO1xuICAgICAgICBpZiAoZ2xvYmFsU2V0dGluZz8uc2V0dGluZ3M/LmJhY2tncm91bmQpXG4gICAgICAgICAgICBiZyA9IGdsb2JhbFNldHRpbmcuc2V0dGluZ3MuYmFja2dyb3VuZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlY29uZCB0cnk6XG4gICAgICAgICAqIElmIHRoZXJlJ3Mgbm8gZ2xvYmFsIGB0b2tlbkNvbG9yYCB3aXRob3V0IGBuYW1lYCBvciBgc2NvcGVgXG4gICAgICAgICAqIFVzZSBgZWRpdG9yLmZvcmVncm91bmRgIGFuZCBgZWRpdG9yLmJhY2tncm91bmRgXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWZnICYmIHRoZW1lPy5jb2xvcnM/LlsnZWRpdG9yLmZvcmVncm91bmQnXSlcbiAgICAgICAgICAgIGZnID0gdGhlbWUuY29sb3JzWydlZGl0b3IuZm9yZWdyb3VuZCddO1xuICAgICAgICBpZiAoIWJnICYmIHRoZW1lPy5jb2xvcnM/LlsnZWRpdG9yLmJhY2tncm91bmQnXSlcbiAgICAgICAgICAgIGJnID0gdGhlbWUuY29sb3JzWydlZGl0b3IuYmFja2dyb3VuZCddO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGFzdCB0cnk6XG4gICAgICAgICAqIElmIHRoZXJlJ3Mgbm8gZmcvYmcgY29sb3Igc3BlY2lmaWVkIGluIHRoZW1lLCB1c2UgZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFmZylcbiAgICAgICAgICAgIGZnID0gdGhlbWUudHlwZSA9PT0gJ2xpZ2h0JyA/IFZTQ09ERV9GQUxMQkFDS19FRElUT1JfRkcubGlnaHQgOiBWU0NPREVfRkFMTEJBQ0tfRURJVE9SX0ZHLmRhcms7XG4gICAgICAgIGlmICghYmcpXG4gICAgICAgICAgICBiZyA9IHRoZW1lLnR5cGUgPT09ICdsaWdodCcgPyBWU0NPREVfRkFMTEJBQ0tfRURJVE9SX0JHLmxpZ2h0IDogVlNDT0RFX0ZBTExCQUNLX0VESVRPUl9CRy5kYXJrO1xuICAgICAgICB0aGVtZS5mZyA9IGZnO1xuICAgICAgICB0aGVtZS5iZyA9IGJnO1xuICAgIH1cbiAgICAvLyBQdXNoIGEgbm8tc2NvcGUgc2V0dGluZyB3aXRoIGZhbGxiYWNrIGNvbG9yc1xuICAgIGlmICghKHRoZW1lLnNldHRpbmdzWzBdICYmIHRoZW1lLnNldHRpbmdzWzBdLnNldHRpbmdzICYmICF0aGVtZS5zZXR0aW5nc1swXS5zY29wZSkpIHtcbiAgICAgICAgdGhlbWUuc2V0dGluZ3MudW5zaGlmdCh7XG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIGZvcmVncm91bmQ6IHRoZW1lLmZnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRoZW1lLmJnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFB1c2ggbm9uLWhleCBjb2xvcnMgdG8gY29sb3IgcmVwbGFjZW1lbnRzLCBhcyBgdnNjb2RlLXRleHRtYXRlYCBkb2Vzbid0IHN1cHBvcnQgdGhlbVxuICAgIGxldCByZXBsYWNlbWVudENvdW50ID0gMDtcbiAgICBjb25zdCByZXBsYWNlbWVudE1hcCA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBnZXRSZXBsYWNlbWVudENvbG9yKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXBsYWNlbWVudE1hcC5oYXModmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50TWFwLmdldCh2YWx1ZSk7XG4gICAgICAgIHJlcGxhY2VtZW50Q291bnQgKz0gMTtcbiAgICAgICAgY29uc3QgaGV4ID0gYCMke3JlcGxhY2VtZW50Q291bnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsICcwJykudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICBpZiAodGhlbWUuY29sb3JSZXBsYWNlbWVudHM/LltgIyR7aGV4fWBdKSAvLyBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgcmV0dXJuIGdldFJlcGxhY2VtZW50Q29sb3IodmFsdWUpO1xuICAgICAgICByZXBsYWNlbWVudE1hcC5zZXQodmFsdWUsIGhleCk7XG4gICAgICAgIHJldHVybiBoZXg7XG4gICAgfVxuICAgIHRoZW1lLnNldHRpbmdzID0gdGhlbWUuc2V0dGluZ3MubWFwKChzZXR0aW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcGxhY2VGZyA9IHNldHRpbmcuc2V0dGluZ3M/LmZvcmVncm91bmQgJiYgIXNldHRpbmcuc2V0dGluZ3MuZm9yZWdyb3VuZC5zdGFydHNXaXRoKCcjJyk7XG4gICAgICAgIGNvbnN0IHJlcGxhY2VCZyA9IHNldHRpbmcuc2V0dGluZ3M/LmJhY2tncm91bmQgJiYgIXNldHRpbmcuc2V0dGluZ3MuYmFja2dyb3VuZC5zdGFydHNXaXRoKCcjJyk7XG4gICAgICAgIGlmICghcmVwbGFjZUZnICYmICFyZXBsYWNlQmcpXG4gICAgICAgICAgICByZXR1cm4gc2V0dGluZztcbiAgICAgICAgY29uc3QgY2xvbmUgPSB7XG4gICAgICAgICAgICAuLi5zZXR0aW5nLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAuLi5zZXR0aW5nLnNldHRpbmdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlcGxhY2VGZykge1xuICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBnZXRSZXBsYWNlbWVudENvbG9yKHNldHRpbmcuc2V0dGluZ3MuZm9yZWdyb3VuZCk7XG4gICAgICAgICAgICB0aGVtZS5jb2xvclJlcGxhY2VtZW50c1tyZXBsYWNlbWVudF0gPSBzZXR0aW5nLnNldHRpbmdzLmZvcmVncm91bmQ7XG4gICAgICAgICAgICBjbG9uZS5zZXR0aW5ncy5mb3JlZ3JvdW5kID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2VCZykge1xuICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBnZXRSZXBsYWNlbWVudENvbG9yKHNldHRpbmcuc2V0dGluZ3MuYmFja2dyb3VuZCk7XG4gICAgICAgICAgICB0aGVtZS5jb2xvclJlcGxhY2VtZW50c1tyZXBsYWNlbWVudF0gPSBzZXR0aW5nLnNldHRpbmdzLmJhY2tncm91bmQ7XG4gICAgICAgICAgICBjbG9uZS5zZXR0aW5ncy5iYWNrZ3JvdW5kID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH0pO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoZW1lLmNvbG9ycyB8fCB7fSkpIHtcbiAgICAgICAgLy8gT25seSBwYXRjaCBmb3Iga25vd24ga2V5c1xuICAgICAgICBpZiAoa2V5ID09PSAnZWRpdG9yLmZvcmVncm91bmQnIHx8IGtleSA9PT0gJ2VkaXRvci5iYWNrZ3JvdW5kJyB8fCBrZXkuc3RhcnRzV2l0aCgndGVybWluYWwuYW5zaScpKSB7XG4gICAgICAgICAgICBpZiAoIXRoZW1lLmNvbG9yc1trZXldPy5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9IGdldFJlcGxhY2VtZW50Q29sb3IodGhlbWUuY29sb3JzW2tleV0pO1xuICAgICAgICAgICAgICAgIHRoZW1lLmNvbG9yUmVwbGFjZW1lbnRzW3JlcGxhY2VtZW50XSA9IHRoZW1lLmNvbG9yc1trZXldO1xuICAgICAgICAgICAgICAgIHRoZW1lLmNvbG9yc1trZXldID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoZW1lLCBSRVNPTFZFRF9LRVksIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoZW1lO1xufVxuXG5jbGFzcyBSZWdpc3RyeSBleHRlbmRzIFJlZ2lzdHJ5JDEge1xuICAgIF9yZXNvbHZlcjtcbiAgICBfdGhlbWVzO1xuICAgIF9sYW5ncztcbiAgICBfcmVzb2x2ZWRUaGVtZXMgPSB7fTtcbiAgICBfcmVzb2x2ZWRHcmFtbWFycyA9IHt9O1xuICAgIF9sYW5nTWFwID0ge307XG4gICAgX2xhbmdHcmFwaCA9IG5ldyBNYXAoKTtcbiAgICBhbGlhcyA9IHt9O1xuICAgIGNvbnN0cnVjdG9yKF9yZXNvbHZlciwgX3RoZW1lcywgX2xhbmdzKSB7XG4gICAgICAgIHN1cGVyKF9yZXNvbHZlcik7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVyID0gX3Jlc29sdmVyO1xuICAgICAgICB0aGlzLl90aGVtZXMgPSBfdGhlbWVzO1xuICAgICAgICB0aGlzLl9sYW5ncyA9IF9sYW5ncztcbiAgICAgICAgX3RoZW1lcy5mb3JFYWNoKHQgPT4gdGhpcy5sb2FkVGhlbWUodCkpO1xuICAgICAgICBfbGFuZ3MuZm9yRWFjaChsID0+IHRoaXMubG9hZExhbmd1YWdlKGwpKTtcbiAgICB9XG4gICAgZ2V0VGhlbWUodGhlbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGVtZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZWRUaGVtZXNbdGhlbWVdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkVGhlbWUodGhlbWUpO1xuICAgIH1cbiAgICBsb2FkVGhlbWUodGhlbWUpIHtcbiAgICAgICAgY29uc3QgX3RoZW1lID0gbm9ybWFsaXplVGhlbWUodGhlbWUpO1xuICAgICAgICBpZiAoX3RoZW1lLm5hbWUpXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlZFRoZW1lc1tfdGhlbWUubmFtZV0gPSBfdGhlbWU7XG4gICAgICAgIHJldHVybiBfdGhlbWU7XG4gICAgfVxuICAgIGdldExvYWRlZFRoZW1lcygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3Jlc29sdmVkVGhlbWVzKTtcbiAgICB9XG4gICAgZ2V0R3JhbW1hcihuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmFsaWFzW25hbWVdKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IG5ldyBTZXQoW25hbWVdKTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmFsaWFzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IHRoaXMuYWxpYXNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkLmhhcyhuYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbc2hpa2lqaV0gQ2lyY3VsYXIgYWxpYXMgXFxgJHtBcnJheS5mcm9tKHJlc29sdmVkKS5qb2luKCcgLT4gJyl9IC0+ICR7bmFtZX1cXGBgKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlZC5hZGQobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVkR3JhbW1hcnNbbmFtZV07XG4gICAgfVxuICAgIGFzeW5jIGxvYWRMYW5ndWFnZShsYW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEdyYW1tYXIobGFuZy5uYW1lKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZW1iZWRkZWRMYXppbHlCeSA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyh0aGlzLl9sYW5nTWFwKS5maWx0ZXIoaSA9PiBpLmVtYmVkZGVkTGFuZ3NMYXp5Py5pbmNsdWRlcyhsYW5nLm5hbWUpKSk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVyLmFkZExhbmd1YWdlKGxhbmcpO1xuICAgICAgICBjb25zdCBncmFtbWFyQ29uZmlnID0ge1xuICAgICAgICAgICAgYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzOiBsYW5nLmJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycyB8fCBbJyonXSxcbiAgICAgICAgICAgIHVuYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzOiBsYW5nLnVuYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFByaXZhdGUgbWVtYmVycywgc2V0IHRoaXMgdG8gb3ZlcnJpZGUgdGhlIHByZXZpb3VzIGdyYW1tYXIgKHRoYXQgY2FuIGJlIGEgc3R1YilcbiAgICAgICAgdGhpcy5fc3luY1JlZ2lzdHJ5Ll9yYXdHcmFtbWFycy5zZXQobGFuZy5zY29wZU5hbWUsIGxhbmcpO1xuICAgICAgICBjb25zdCBnID0gYXdhaXQgdGhpcy5sb2FkR3JhbW1hcldpdGhDb25maWd1cmF0aW9uKGxhbmcuc2NvcGVOYW1lLCAxLCBncmFtbWFyQ29uZmlnKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWRHcmFtbWFyc1tsYW5nLm5hbWVdID0gZztcbiAgICAgICAgaWYgKGxhbmcuYWxpYXNlcykge1xuICAgICAgICAgICAgbGFuZy5hbGlhc2VzLmZvckVhY2goKGFsaWFzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGlhc1thbGlhc10gPSBsYW5nLm5hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGxhbmd1YWdlIHRoYXQgZW1iZWRzIHRoaXMgbGFuZ3VhZ2UgbGF6aWx5LCB3ZSBuZWVkIHRvIHJlbG9hZCBpdFxuICAgICAgICBpZiAoZW1iZWRkZWRMYXppbHlCeS5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgZW1iZWRkZWRMYXppbHlCeSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9yZXNvbHZlZEdyYW1tYXJzW2UubmFtZV07XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjbGVhciBjYWNoZVxuICAgICAgICAgICAgICAgIHRoaXMuX3N5bmNSZWdpc3RyeT8uX2luamVjdGlvbkdyYW1tYXJzPy5kZWxldGUoZS5zY29wZU5hbWUpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2xlYXIgY2FjaGVcbiAgICAgICAgICAgICAgICB0aGlzLl9zeW5jUmVnaXN0cnk/Ll9ncmFtbWFycz8uZGVsZXRlKGUuc2NvcGVOYW1lKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRMYW5ndWFnZSh0aGlzLl9sYW5nTWFwW2UubmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIHRoaXMuX3RoZW1lcy5tYXAodCA9PiB0aGlzLmxvYWRUaGVtZSh0KSk7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZExhbmd1YWdlcyh0aGlzLl9sYW5ncyk7XG4gICAgfVxuICAgIGFzeW5jIGxvYWRMYW5ndWFnZXMobGFuZ3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBsYW5nIG9mIGxhbmdzKVxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlRW1iZWRkZWRMYW5ndWFnZXMobGFuZyk7XG4gICAgICAgIGNvbnN0IGxhbmdzR3JhcGhBcnJheSA9IEFycmF5LmZyb20odGhpcy5fbGFuZ0dyYXBoLmVudHJpZXMoKSk7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdMYW5ncyA9IGxhbmdzR3JhcGhBcnJheS5maWx0ZXIoKFtfLCBsYW5nXSkgPT4gIWxhbmcpO1xuICAgICAgICBpZiAobWlzc2luZ0xhbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZGVwZW5kZW50cyA9IGxhbmdzR3JhcGhBcnJheVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtfLCBsYW5nXSkgPT4gbGFuZyAmJiBsYW5nLmVtYmVkZGVkTGFuZ3M/LnNvbWUobCA9PiBtaXNzaW5nTGFuZ3MubWFwKChbbmFtZV0pID0+IG5hbWUpLmluY2x1ZGVzKGwpKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGxhbmcgPT4gIW1pc3NpbmdMYW5ncy5pbmNsdWRlcyhsYW5nKSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtzaGlraWppXSBNaXNzaW5nIGxhbmd1YWdlcyAke21pc3NpbmdMYW5ncy5tYXAoKFtuYW1lXSkgPT4gYFxcYCR7bmFtZX1cXGBgKS5qb2luKCcsICcpfSwgcmVxdWlyZWQgYnkgJHtkZXBlbmRlbnRzLm1hcCgoW25hbWVdKSA9PiBgXFxgJHtuYW1lfVxcYGApLmpvaW4oJywgJyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbXywgbGFuZ10gb2YgbGFuZ3NHcmFwaEFycmF5KVxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZXIuYWRkTGFuZ3VhZ2UobGFuZyk7XG4gICAgICAgIGZvciAoY29uc3QgW18sIGxhbmddIG9mIGxhbmdzR3JhcGhBcnJheSlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZExhbmd1YWdlKGxhbmcpO1xuICAgIH1cbiAgICBnZXRMb2FkZWRMYW5ndWFnZXMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh7IC4uLnRoaXMuX3Jlc29sdmVkR3JhbW1hcnMsIC4uLnRoaXMuYWxpYXMgfSk7XG4gICAgfVxuICAgIHJlc29sdmVFbWJlZGRlZExhbmd1YWdlcyhsYW5nKSB7XG4gICAgICAgIHRoaXMuX2xhbmdNYXBbbGFuZy5uYW1lXSA9IGxhbmc7XG4gICAgICAgIHRoaXMuX2xhbmdHcmFwaC5zZXQobGFuZy5uYW1lLCBsYW5nKTtcbiAgICAgICAgaWYgKGxhbmcuZW1iZWRkZWRMYW5ncykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbWJlZGRlZExhbmcgb2YgbGFuZy5lbWJlZGRlZExhbmdzKVxuICAgICAgICAgICAgICAgIHRoaXMuX2xhbmdHcmFwaC5zZXQoZW1iZWRkZWRMYW5nLCB0aGlzLl9sYW5nTWFwW2VtYmVkZGVkTGFuZ10pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBSZXNvbHZlciB7XG4gICAgX2xhbmdzID0gbmV3IE1hcCgpO1xuICAgIF9zY29wZVRvTGFuZyA9IG5ldyBNYXAoKTtcbiAgICBfaW5qZWN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICBfb25pZ0xpYlByb21pc2U7XG4gICAgY29uc3RydWN0b3Iob25pZ0xpYlByb21pc2UsIGxhbmdzKSB7XG4gICAgICAgIHRoaXMuX29uaWdMaWJQcm9taXNlID0gb25pZ0xpYlByb21pc2U7XG4gICAgICAgIGxhbmdzLmZvckVhY2goaSA9PiB0aGlzLmFkZExhbmd1YWdlKGkpKTtcbiAgICB9XG4gICAgZ2V0IG9uaWdMaWIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbmlnTGliUHJvbWlzZTtcbiAgICB9XG4gICAgZ2V0TGFuZ1JlZ2lzdHJhdGlvbihsYW5nSWRPckFsaWFzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5ncy5nZXQobGFuZ0lkT3JBbGlhcyk7XG4gICAgfVxuICAgIGFzeW5jIGxvYWRHcmFtbWFyKHNjb3BlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NvcGVUb0xhbmcuZ2V0KHNjb3BlTmFtZSk7XG4gICAgfVxuICAgIGFkZExhbmd1YWdlKGwpIHtcbiAgICAgICAgdGhpcy5fbGFuZ3Muc2V0KGwubmFtZSwgbCk7XG4gICAgICAgIGlmIChsLmFsaWFzZXMpIHtcbiAgICAgICAgICAgIGwuYWxpYXNlcy5mb3JFYWNoKChhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFuZ3Muc2V0KGEsIGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2NvcGVUb0xhbmcuc2V0KGwuc2NvcGVOYW1lLCBsKTtcbiAgICAgICAgaWYgKGwuaW5qZWN0VG8pIHtcbiAgICAgICAgICAgIGwuaW5qZWN0VG8uZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faW5qZWN0aW9ucy5nZXQoaSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luamVjdGlvbnMuc2V0KGksIFtdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmplY3Rpb25zLmdldChpKS5wdXNoKGwuc2NvcGVOYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEluamVjdGlvbnMoc2NvcGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IHNjb3BlUGFydHMgPSBzY29wZU5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgbGV0IGluamVjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc2NvcGVQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3ViU2NvcGVOYW1lID0gc2NvcGVQYXJ0cy5zbGljZSgwLCBpKS5qb2luKCcuJyk7XG4gICAgICAgICAgICBpbmplY3Rpb25zID0gWy4uLmluamVjdGlvbnMsIC4uLih0aGlzLl9pbmplY3Rpb25zLmdldChzdWJTY29wZU5hbWUpIHx8IFtdKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluamVjdGlvbnM7XG4gICAgfVxufVxuXG5sZXQgX2RlZmF1bHRXYXNtTG9hZGVyO1xuLyoqXG4gKiBTZXQgdGhlIGRlZmF1bHQgd2FzbSBsb2FkZXIgZm9yIGBsb2FkV2FzbWAuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gc2V0RGVmYXVsdFdhc21Mb2FkZXIoX2xvYWRlcikge1xuICAgIF9kZWZhdWx0V2FzbUxvYWRlciA9IF9sb2FkZXI7XG59XG4vKipcbiAqIEdldCB0aGUgbWluaW1hbCBzaGlraSBjb250ZXh0IGZvciByZW5kZXJpbmcuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFNoaWtpSW50ZXJuYWwob3B0aW9ucyA9IHt9KSB7XG4gICAgYXN5bmMgZnVuY3Rpb24gbm9ybWFsaXplR2V0dGVyKHApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0eXBlb2YgcCA9PT0gJ2Z1bmN0aW9uJyA/IHAoKSA6IHApLnRoZW4ociA9PiByLmRlZmF1bHQgfHwgcik7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIHJlc29sdmVMYW5ncyhsYW5ncykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KChhd2FpdCBQcm9taXNlLmFsbChsYW5ncy5tYXAoYXN5bmMgKGxhbmcpID0+IGF3YWl0IG5vcm1hbGl6ZUdldHRlcihsYW5nKS50aGVuKHIgPT4gQXJyYXkuaXNBcnJheShyKSA/IHIgOiBbcl0pKSkpLmZsYXQoKSkpO1xuICAgIH1cbiAgICBjb25zdCB3YXNtTG9hZGVyID0gb3B0aW9ucy5sb2FkV2FzbSB8fCBfZGVmYXVsdFdhc21Mb2FkZXI7XG4gICAgY29uc3QgW3RoZW1lcywgbGFuZ3MsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgUHJvbWlzZS5hbGwoKG9wdGlvbnMudGhlbWVzIHx8IFtdKS5tYXAobm9ybWFsaXplR2V0dGVyKSkudGhlbihyID0+IHIubWFwKG5vcm1hbGl6ZVRoZW1lKSksXG4gICAgICAgIHJlc29sdmVMYW5ncyhvcHRpb25zLmxhbmdzIHx8IFtdKSxcbiAgICAgICAgd2FzbUxvYWRlciA/IGxvYWRXYXNtKHdhc21Mb2FkZXIpIDogdW5kZWZpbmVkLFxuICAgIF0pO1xuICAgIGNvbnN0IHJlc29sdmVyID0gbmV3IFJlc29sdmVyKFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGNyZWF0ZU9uaWdTY2FubmVyKHBhdHRlcm5zKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlT25pZ1NjYW5uZXIocGF0dGVybnMpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVPbmlnU3RyaW5nKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVPbmlnU3RyaW5nKHMpO1xuICAgICAgICB9LFxuICAgIH0pLCBsYW5ncyk7XG4gICAgY29uc3QgX3JlZ2lzdHJ5ID0gbmV3IFJlZ2lzdHJ5KHJlc29sdmVyLCB0aGVtZXMsIGxhbmdzKTtcbiAgICBPYmplY3QuYXNzaWduKF9yZWdpc3RyeS5hbGlhcywgb3B0aW9ucy5sYW5nQWxpYXMpO1xuICAgIGF3YWl0IF9yZWdpc3RyeS5pbml0KCk7XG4gICAgbGV0IF9sYXN0VGhlbWU7XG4gICAgZnVuY3Rpb24gZ2V0TGFuZ0dyYW1tYXIobmFtZSkge1xuICAgICAgICBjb25zdCBfbGFuZyA9IF9yZWdpc3RyeS5nZXRHcmFtbWFyKG5hbWUpO1xuICAgICAgICBpZiAoIV9sYW5nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbc2hpa2lqaV0gTGFuZ3VhZ2UgXFxgJHtuYW1lfVxcYCBub3QgZm91bmQsIHlvdSBtYXkgbmVlZCB0byBsb2FkIGl0IGZpcnN0YCk7XG4gICAgICAgIHJldHVybiBfbGFuZztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGhlbWUobmFtZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ25vbmUnKVxuICAgICAgICAgICAgcmV0dXJuIHsgYmc6ICcnLCBmZzogJycsIG5hbWU6ICdub25lJywgc2V0dGluZ3M6IFtdLCB0eXBlOiAnZGFyaycgfTtcbiAgICAgICAgY29uc3QgX3RoZW1lID0gX3JlZ2lzdHJ5LmdldFRoZW1lKG5hbWUpO1xuICAgICAgICBpZiAoIV90aGVtZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW3NoaWtpamldIFRoZW1lIFxcYCR7bmFtZX1cXGAgbm90IGZvdW5kLCB5b3UgbWF5IG5lZWQgdG8gbG9hZCBpdCBmaXJzdGApO1xuICAgICAgICByZXR1cm4gX3RoZW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRUaGVtZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IHRoZW1lID0gZ2V0VGhlbWUobmFtZSk7XG4gICAgICAgIGlmIChfbGFzdFRoZW1lICE9PSBuYW1lKSB7XG4gICAgICAgICAgICBfcmVnaXN0cnkuc2V0VGhlbWUodGhlbWUpO1xuICAgICAgICAgICAgX2xhc3RUaGVtZSA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JNYXAgPSBfcmVnaXN0cnkuZ2V0Q29sb3JNYXAoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRoZW1lLFxuICAgICAgICAgICAgY29sb3JNYXAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExvYWRlZFRoZW1lcygpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdpc3RyeS5nZXRMb2FkZWRUaGVtZXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TG9hZGVkTGFuZ3VhZ2VzKCkge1xuICAgICAgICByZXR1cm4gX3JlZ2lzdHJ5LmdldExvYWRlZExhbmd1YWdlcygpO1xuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkTGFuZ3VhZ2UoLi4ubGFuZ3MpIHtcbiAgICAgICAgYXdhaXQgX3JlZ2lzdHJ5LmxvYWRMYW5ndWFnZXMoYXdhaXQgcmVzb2x2ZUxhbmdzKGxhbmdzKSk7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRUaGVtZSguLi50aGVtZXMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhlbWVzLm1hcChhc3luYyAodGhlbWUpID0+IGlzU3BlY2lhbFRoZW1lKHRoZW1lKVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IF9yZWdpc3RyeS5sb2FkVGhlbWUoYXdhaXQgbm9ybWFsaXplR2V0dGVyKHRoZW1lKSkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQWxpYXMoYWxpYXMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihfcmVnaXN0cnkuYWxpYXMsIGFsaWFzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWxpYXMoKSB7XG4gICAgICAgIHJldHVybiBfcmVnaXN0cnkuYWxpYXM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFRoZW1lLFxuICAgICAgICBnZXRUaGVtZSxcbiAgICAgICAgZ2V0TGFuZ0dyYW1tYXIsXG4gICAgICAgIGdldExvYWRlZFRoZW1lcyxcbiAgICAgICAgZ2V0TG9hZGVkTGFuZ3VhZ2VzLFxuICAgICAgICBnZXRBbGlhcyxcbiAgICAgICAgdXBkYXRlQWxpYXMsXG4gICAgICAgIGxvYWRMYW5ndWFnZSxcbiAgICAgICAgbG9hZFRoZW1lLFxuICAgIH07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgU2hpa2lqaSBjb3JlIGhpZ2hsaWdodGVyIGluc3RhbmNlLCB3aXRoIG5vIGxhbmd1YWdlcyBvciB0aGVtZXMgYnVuZGxlZC5cbiAqIFdhc20gYW5kIGVhY2ggbGFuZ3VhZ2UgYW5kIHRoZW1lIG11c3QgYmUgbG9hZGVkIG1hbnVhbGx5LlxuICpcbiAqIEBzZWUgaHR0cDovL3NoaWtpamkubmV0bGlmeS5hcHAvZ3VpZGUvaW5zdGFsbCNmaW5lLWdyYWluZWQtYnVuZGxlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEhpZ2hsaWdodGVyQ29yZShvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBpbnRlcm5hbCA9IGF3YWl0IGdldFNoaWtpSW50ZXJuYWwob3B0aW9ucyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29kZVRvVGhlbWVkVG9rZW5zOiAoY29kZSwgb3B0aW9ucykgPT4gY29kZVRvVGhlbWVkVG9rZW5zKGludGVybmFsLCBjb2RlLCBvcHRpb25zKSxcbiAgICAgICAgY29kZVRvVG9rZW5zV2l0aFRoZW1lczogKGNvZGUsIG9wdGlvbnMpID0+IGNvZGVUb1Rva2Vuc1dpdGhUaGVtZXMoaW50ZXJuYWwsIGNvZGUsIG9wdGlvbnMpLFxuICAgICAgICBjb2RlVG9IYXN0OiAoY29kZSwgb3B0aW9ucykgPT4gY29kZVRvSGFzdChpbnRlcm5hbCwgY29kZSwgb3B0aW9ucyksXG4gICAgICAgIGNvZGVUb0h0bWw6IChjb2RlLCBvcHRpb25zKSA9PiBjb2RlVG9IdG1sKGludGVybmFsLCBjb2RlLCBvcHRpb25zKSxcbiAgICAgICAgbG9hZExhbmd1YWdlOiBpbnRlcm5hbC5sb2FkTGFuZ3VhZ2UsXG4gICAgICAgIGxvYWRUaGVtZTogaW50ZXJuYWwubG9hZFRoZW1lLFxuICAgICAgICBnZXRUaGVtZTogaW50ZXJuYWwuZ2V0VGhlbWUsXG4gICAgICAgIGdldExhbmdHcmFtbWFyOiBpbnRlcm5hbC5nZXRMYW5nR3JhbW1hcixcbiAgICAgICAgc2V0VGhlbWU6IGludGVybmFsLnNldFRoZW1lLFxuICAgICAgICBnZXRMb2FkZWRUaGVtZXM6IGludGVybmFsLmdldExvYWRlZFRoZW1lcyxcbiAgICAgICAgZ2V0TG9hZGVkTGFuZ3VhZ2VzOiBpbnRlcm5hbC5nZXRMb2FkZWRMYW5ndWFnZXMsXG4gICAgICAgIGdldEludGVybmFsQ29udGV4dDogKCkgPT4gaW50ZXJuYWwsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgZ2V0SGlnaGxpZ2h0ZXJgIGZ1bmN0aW9uIHdpdGggYnVuZGxlZCB0aGVtZXMgYW5kIGxhbmd1YWdlcy5cbiAqXG4gKiBAcGFyYW0gYnVuZGxlZExhbmd1YWdlc1xuICogQHBhcmFtIGJ1bmRsZWRUaGVtZXNcbiAqIEBwYXJhbSBsb2FkV2FzbVxuICovXG5mdW5jdGlvbiBjcmVhdGVkQnVuZGxlZEhpZ2hsaWdodGVyKGJ1bmRsZWRMYW5ndWFnZXMsIGJ1bmRsZWRUaGVtZXMsIGxvYWRXYXNtKSB7XG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0ZXIob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVMYW5nKGxhbmcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGFuZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTcGVjaWFsTGFuZyhsYW5nKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1bmRsZSA9IGJ1bmRsZWRMYW5ndWFnZXNbbGFuZ107XG4gICAgICAgICAgICAgICAgaWYgKCFidW5kbGUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW3NoaWtpamldIExhbmd1YWdlIFxcYCR7bGFuZ31cXGAgaXMgbm90IGJ1aWx0LWluLmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBidW5kbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGFuZztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlVGhlbWUodGhlbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1NwZWNpYWxUaGVtZSh0aGVtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVuZGxlID0gYnVuZGxlZFRoZW1lc1t0aGVtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFidW5kbGUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW3NoaWtpamldIFRoZW1lIFxcYCR7dGhlbWV9XFxgIGlzIG5vdCBidWlsdC1pbi5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVuZGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoZW1lO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IF90aGVtZXMgPSAob3B0aW9ucy50aGVtZXMgPz8gW10pLm1hcChpID0+IHJlc29sdmVUaGVtZShpKSk7XG4gICAgICAgIGNvbnN0IGxhbmdzID0gKG9wdGlvbnMubGFuZ3MgPz8gW10pXG4gICAgICAgICAgICAubWFwKGkgPT4gcmVzb2x2ZUxhbmcoaSkpO1xuICAgICAgICBjb25zdCBjb3JlID0gYXdhaXQgZ2V0SGlnaGxpZ2h0ZXJDb3JlKHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICB0aGVtZXM6IF90aGVtZXMsXG4gICAgICAgICAgICBsYW5ncyxcbiAgICAgICAgICAgIGxvYWRXYXNtLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNvcmUsXG4gICAgICAgICAgICBsb2FkTGFuZ3VhZ2UoLi4ubGFuZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5sb2FkTGFuZ3VhZ2UoLi4ubGFuZ3MubWFwKHJlc29sdmVMYW5nKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9hZFRoZW1lKC4uLnRoZW1lcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLmxvYWRUaGVtZSguLi50aGVtZXMubWFwKHJlc29sdmVUaGVtZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEhpZ2hsaWdodGVyO1xufVxuZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uU2hvcnRoYW5kcyhnZXRIaWdobGlnaHRlcikge1xuICAgIGxldCBfc2hpa2k7XG4gICAgYXN5bmMgZnVuY3Rpb24gX2dldEhpZ2hsaWdodGVyKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoIV9zaGlraSkge1xuICAgICAgICAgICAgX3NoaWtpID0gZ2V0SGlnaGxpZ2h0ZXIoe1xuICAgICAgICAgICAgICAgIHRoZW1lczogdG9BcnJheShvcHRpb25zLnRoZW1lIHx8IFtdKSxcbiAgICAgICAgICAgICAgICBsYW5nczogdG9BcnJheShvcHRpb25zLmxhbmcgfHwgW10pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX3NoaWtpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcyA9IGF3YWl0IF9zaGlraTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBzLmxvYWRUaGVtZSguLi50b0FycmF5KG9wdGlvbnMudGhlbWUgfHwgW10pKSxcbiAgICAgICAgICAgICAgICBzLmxvYWRMYW5ndWFnZSguLi50b0FycmF5KG9wdGlvbnMubGFuZyB8fCBbXSkpLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRTaW5nbGV0b25IaWdobGlnaHRlcjogKCkgPT4gX2dldEhpZ2hsaWdodGVyKCksXG4gICAgICAgIGFzeW5jIGNvZGVUb0h0bWwoY29kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgc2hpa2kgPSBhd2FpdCBfZ2V0SGlnaGxpZ2h0ZXIoe1xuICAgICAgICAgICAgICAgIGxhbmc6IG9wdGlvbnMubGFuZyxcbiAgICAgICAgICAgICAgICB0aGVtZTogKCd0aGVtZScgaW4gb3B0aW9ucyA/IFtvcHRpb25zLnRoZW1lXSA6IE9iamVjdC52YWx1ZXMob3B0aW9ucy50aGVtZXMpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNoaWtpLmNvZGVUb0h0bWwoY29kZSwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNvZGVUb0hhc3QoY29kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgc2hpa2kgPSBhd2FpdCBfZ2V0SGlnaGxpZ2h0ZXIoe1xuICAgICAgICAgICAgICAgIGxhbmc6IG9wdGlvbnMubGFuZyxcbiAgICAgICAgICAgICAgICB0aGVtZTogKCd0aGVtZScgaW4gb3B0aW9ucyA/IFtvcHRpb25zLnRoZW1lXSA6IE9iamVjdC52YWx1ZXMob3B0aW9ucy50aGVtZXMpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNoaWtpLmNvZGVUb0hhc3QoY29kZSwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNvZGVUb1RoZW1lZFRva2Vucyhjb2RlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBzaGlraSA9IGF3YWl0IF9nZXRIaWdobGlnaHRlcihvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBzaGlraS5jb2RlVG9UaGVtZWRUb2tlbnMoY29kZSwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNvZGVUb1Rva2Vuc1dpdGhUaGVtZXMoY29kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgc2hpa2kgPSBhd2FpdCBfZ2V0SGlnaGxpZ2h0ZXIoe1xuICAgICAgICAgICAgICAgIGxhbmc6IG9wdGlvbnMubGFuZyxcbiAgICAgICAgICAgICAgICB0aGVtZTogT2JqZWN0LnZhbHVlcyhvcHRpb25zLnRoZW1lcykuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2hpa2kuY29kZVRvVG9rZW5zV2l0aFRoZW1lcyhjb2RlLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBGb250U3R5bGUsIGFkZENsYXNzVG9IYXN0LCBhcHBseUNvbG9yUmVwbGFjZW1lbnRzLCBjb2RlVG9IYXN0LCBjb2RlVG9IdG1sLCBjb2RlVG9UaGVtZWRUb2tlbnMsIGNvZGVUb1Rva2Vuc1dpdGhUaGVtZXMsIGNyZWF0ZVNpbmdsZXRvblNob3J0aGFuZHMsIGNyZWF0ZWRCdW5kbGVkSGlnaGxpZ2h0ZXIsIGdldEhpZ2hsaWdodGVyQ29yZSwgZ2V0U2hpa2lJbnRlcm5hbCwgdG9IdG1sIGFzIGhhc3RUb0h0bWwsIGlzTm9uZVRoZW1lLCBpc1BsYWluTGFuZywgaXNQbGFpbnRleHQsIGlzU3BlY2lhbExhbmcsIGlzU3BlY2lhbFRoZW1lLCBsb2FkV2FzbSwgbm9ybWFsaXplVGhlbWUsIHNldERlZmF1bHRXYXNtTG9hZGVyLCBzcGxpdExpbmVzLCBzcGxpdFRva2VuLCB0b0FycmF5LCB0b2tlbml6ZUFuc2lXaXRoVGhlbWUsIHRva2VuaXplV2l0aFRoZW1lIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/textmate.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/textmate.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INITIAL: () => (/* binding */ INITIAL),\n/* harmony export */   Registry: () => (/* binding */ Registry$1),\n/* harmony export */   StackElementMetadata: () => (/* binding */ StackElementMetadata)\n/* harmony export */ });\n/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/types.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/polyfills/process.js\");\n\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\n({\n    InDebugMode: (typeof process !== 'undefined' && !!process.env['VSCODE_TEXTMATE_DEBUG'])\n});\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar EncodedTokenAttributes;\n(function (EncodedTokenAttributes) {\n    function toBinaryStr(encodedTokenAttributes) {\n        return encodedTokenAttributes.toString(2).padStart(32, \"0\");\n    }\n    EncodedTokenAttributes.toBinaryStr = toBinaryStr;\n    function print(encodedTokenAttributes) {\n        const languageId = EncodedTokenAttributes.getLanguageId(encodedTokenAttributes);\n        const tokenType = EncodedTokenAttributes.getTokenType(encodedTokenAttributes);\n        const fontStyle = EncodedTokenAttributes.getFontStyle(encodedTokenAttributes);\n        const foreground = EncodedTokenAttributes.getForeground(encodedTokenAttributes);\n        const background = EncodedTokenAttributes.getBackground(encodedTokenAttributes);\n        console.log({\n            languageId: languageId,\n            tokenType: tokenType,\n            fontStyle: fontStyle,\n            foreground: foreground,\n            background: background,\n        });\n    }\n    EncodedTokenAttributes.print = print;\n    function getLanguageId(encodedTokenAttributes) {\n        return ((encodedTokenAttributes & 255 /* EncodedTokenDataConsts.LANGUAGEID_MASK */) >>>\n            0 /* EncodedTokenDataConsts.LANGUAGEID_OFFSET */);\n    }\n    EncodedTokenAttributes.getLanguageId = getLanguageId;\n    function getTokenType(encodedTokenAttributes) {\n        return ((encodedTokenAttributes & 768 /* EncodedTokenDataConsts.TOKEN_TYPE_MASK */) >>>\n            8 /* EncodedTokenDataConsts.TOKEN_TYPE_OFFSET */);\n    }\n    EncodedTokenAttributes.getTokenType = getTokenType;\n    function containsBalancedBrackets(encodedTokenAttributes) {\n        return (encodedTokenAttributes & 1024 /* EncodedTokenDataConsts.BALANCED_BRACKETS_MASK */) !== 0;\n    }\n    EncodedTokenAttributes.containsBalancedBrackets = containsBalancedBrackets;\n    function getFontStyle(encodedTokenAttributes) {\n        return ((encodedTokenAttributes & 30720 /* EncodedTokenDataConsts.FONT_STYLE_MASK */) >>>\n            11 /* EncodedTokenDataConsts.FONT_STYLE_OFFSET */);\n    }\n    EncodedTokenAttributes.getFontStyle = getFontStyle;\n    function getForeground(encodedTokenAttributes) {\n        return ((encodedTokenAttributes & 16744448 /* EncodedTokenDataConsts.FOREGROUND_MASK */) >>>\n            15 /* EncodedTokenDataConsts.FOREGROUND_OFFSET */);\n    }\n    EncodedTokenAttributes.getForeground = getForeground;\n    function getBackground(encodedTokenAttributes) {\n        return ((encodedTokenAttributes & 4278190080 /* EncodedTokenDataConsts.BACKGROUND_MASK */) >>>\n            24 /* EncodedTokenDataConsts.BACKGROUND_OFFSET */);\n    }\n    EncodedTokenAttributes.getBackground = getBackground;\n    /**\n     * Updates the fields in `metadata`.\n     * A value of `0`, `NotSet` or `null` indicates that the corresponding field should be left as is.\n     */\n    function set(encodedTokenAttributes, languageId, tokenType, containsBalancedBrackets, fontStyle, foreground, background) {\n        let _languageId = EncodedTokenAttributes.getLanguageId(encodedTokenAttributes);\n        let _tokenType = EncodedTokenAttributes.getTokenType(encodedTokenAttributes);\n        let _containsBalancedBracketsBit = EncodedTokenAttributes.containsBalancedBrackets(encodedTokenAttributes) ? 1 : 0;\n        let _fontStyle = EncodedTokenAttributes.getFontStyle(encodedTokenAttributes);\n        let _foreground = EncodedTokenAttributes.getForeground(encodedTokenAttributes);\n        let _background = EncodedTokenAttributes.getBackground(encodedTokenAttributes);\n        if (languageId !== 0) {\n            _languageId = languageId;\n        }\n        if (tokenType !== 8 /* OptionalStandardTokenType.NotSet */) {\n            _tokenType = fromOptionalTokenType(tokenType);\n        }\n        if (containsBalancedBrackets !== null) {\n            _containsBalancedBracketsBit = containsBalancedBrackets ? 1 : 0;\n        }\n        if (fontStyle !== -1 /* FontStyle.NotSet */) {\n            _fontStyle = fontStyle;\n        }\n        if (foreground !== 0) {\n            _foreground = foreground;\n        }\n        if (background !== 0) {\n            _background = background;\n        }\n        return (((_languageId << 0 /* EncodedTokenDataConsts.LANGUAGEID_OFFSET */) |\n            (_tokenType << 8 /* EncodedTokenDataConsts.TOKEN_TYPE_OFFSET */) |\n            (_containsBalancedBracketsBit <<\n                10 /* EncodedTokenDataConsts.BALANCED_BRACKETS_OFFSET */) |\n            (_fontStyle << 11 /* EncodedTokenDataConsts.FONT_STYLE_OFFSET */) |\n            (_foreground << 15 /* EncodedTokenDataConsts.FOREGROUND_OFFSET */) |\n            (_background << 24 /* EncodedTokenDataConsts.BACKGROUND_OFFSET */)) >>>\n            0);\n    }\n    EncodedTokenAttributes.set = set;\n})(EncodedTokenAttributes || (EncodedTokenAttributes = {}));\nfunction toOptionalTokenType(standardType) {\n    return standardType;\n}\nfunction fromOptionalTokenType(standardType) {\n    return standardType;\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nfunction createMatchers(selector, matchesName) {\n    const results = [];\n    const tokenizer = newTokenizer(selector);\n    let token = tokenizer.next();\n    while (token !== null) {\n        let priority = 0;\n        if (token.length === 2 && token.charAt(1) === ':') {\n            switch (token.charAt(0)) {\n                case 'R':\n                    priority = 1;\n                    break;\n                case 'L':\n                    priority = -1;\n                    break;\n                default:\n                    console.log(`Unknown priority ${token} in scope selector`);\n            }\n            token = tokenizer.next();\n        }\n        let matcher = parseConjunction();\n        results.push({ matcher, priority });\n        if (token !== ',') {\n            break;\n        }\n        token = tokenizer.next();\n    }\n    return results;\n    function parseOperand() {\n        if (token === '-') {\n            token = tokenizer.next();\n            const expressionToNegate = parseOperand();\n            return matcherInput => !!expressionToNegate && !expressionToNegate(matcherInput);\n        }\n        if (token === '(') {\n            token = tokenizer.next();\n            const expressionInParents = parseInnerExpression();\n            if (token === ')') {\n                token = tokenizer.next();\n            }\n            return expressionInParents;\n        }\n        if (isIdentifier(token)) {\n            const identifiers = [];\n            do {\n                identifiers.push(token);\n                token = tokenizer.next();\n            } while (isIdentifier(token));\n            return matcherInput => matchesName(identifiers, matcherInput);\n        }\n        return null;\n    }\n    function parseConjunction() {\n        const matchers = [];\n        let matcher = parseOperand();\n        while (matcher) {\n            matchers.push(matcher);\n            matcher = parseOperand();\n        }\n        return matcherInput => matchers.every(matcher => matcher(matcherInput)); // and\n    }\n    function parseInnerExpression() {\n        const matchers = [];\n        let matcher = parseConjunction();\n        while (matcher) {\n            matchers.push(matcher);\n            if (token === '|' || token === ',') {\n                do {\n                    token = tokenizer.next();\n                } while (token === '|' || token === ','); // ignore subsequent commas\n            }\n            else {\n                break;\n            }\n            matcher = parseConjunction();\n        }\n        return matcherInput => matchers.some(matcher => matcher(matcherInput)); // or\n    }\n}\nfunction isIdentifier(token) {\n    return !!token && !!token.match(/[\\w\\.:]+/);\n}\nfunction newTokenizer(input) {\n    let regex = /([LR]:|[\\w\\.:][\\w\\.:\\-]*|[\\,\\|\\-\\(\\)])/g;\n    let match = regex.exec(input);\n    return {\n        next: () => {\n            if (!match) {\n                return null;\n            }\n            const res = match[0];\n            match = regex.exec(input);\n            return res;\n        }\n    };\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nfunction disposeOnigString(str) {\n    if (typeof str.dispose === 'function') {\n        str.dispose();\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nfunction clone(something) {\n    return doClone(something);\n}\nfunction doClone(something) {\n    if (Array.isArray(something)) {\n        return cloneArray(something);\n    }\n    if (typeof something === 'object') {\n        return cloneObj(something);\n    }\n    return something;\n}\nfunction cloneArray(arr) {\n    let r = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        r[i] = doClone(arr[i]);\n    }\n    return r;\n}\nfunction cloneObj(obj) {\n    let r = {};\n    for (let key in obj) {\n        r[key] = doClone(obj[key]);\n    }\n    return r;\n}\nfunction mergeObjects(target, ...sources) {\n    sources.forEach(source => {\n        for (let key in source) {\n            target[key] = source[key];\n        }\n    });\n    return target;\n}\nfunction basename(path) {\n    const idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\\\');\n    if (idx === 0) {\n        return path;\n    }\n    else if (~idx === path.length - 1) {\n        return basename(path.substring(0, path.length - 1));\n    }\n    else {\n        return path.substr(~idx + 1);\n    }\n}\nlet CAPTURING_REGEX_SOURCE = /\\$(\\d+)|\\${(\\d+):\\/(downcase|upcase)}/g;\nclass RegexSource {\n    static hasCaptures(regexSource) {\n        if (regexSource === null) {\n            return false;\n        }\n        CAPTURING_REGEX_SOURCE.lastIndex = 0;\n        return CAPTURING_REGEX_SOURCE.test(regexSource);\n    }\n    static replaceCaptures(regexSource, captureSource, captureIndices) {\n        return regexSource.replace(CAPTURING_REGEX_SOURCE, (match, index, commandIndex, command) => {\n            let capture = captureIndices[parseInt(index || commandIndex, 10)];\n            if (capture) {\n                let result = captureSource.substring(capture.start, capture.end);\n                // Remove leading dots that would make the selector invalid\n                while (result[0] === '.') {\n                    result = result.substring(1);\n                }\n                switch (command) {\n                    case 'downcase':\n                        return result.toLowerCase();\n                    case 'upcase':\n                        return result.toUpperCase();\n                    default:\n                        return result;\n                }\n            }\n            else {\n                return match;\n            }\n        });\n    }\n}\nfunction strcmp(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    if (a > b) {\n        return 1;\n    }\n    return 0;\n}\nfunction strArrCmp(a, b) {\n    if (a === null && b === null) {\n        return 0;\n    }\n    if (!a) {\n        return -1;\n    }\n    if (!b) {\n        return 1;\n    }\n    let len1 = a.length;\n    let len2 = b.length;\n    if (len1 === len2) {\n        for (let i = 0; i < len1; i++) {\n            let res = strcmp(a[i], b[i]);\n            if (res !== 0) {\n                return res;\n            }\n        }\n        return 0;\n    }\n    return len1 - len2;\n}\nfunction isValidHexColor(hex) {\n    if (/^#[0-9a-f]{6}$/i.test(hex)) {\n        // #rrggbb\n        return true;\n    }\n    if (/^#[0-9a-f]{8}$/i.test(hex)) {\n        // #rrggbbaa\n        return true;\n    }\n    if (/^#[0-9a-f]{3}$/i.test(hex)) {\n        // #rgb\n        return true;\n    }\n    if (/^#[0-9a-f]{4}$/i.test(hex)) {\n        // #rgba\n        return true;\n    }\n    return false;\n}\n/**\n * Escapes regular expression characters in a given string\n */\nfunction escapeRegExpCharacters(value) {\n    return value.replace(/[\\-\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&');\n}\nclass CachedFn {\n    fn;\n    cache = new Map();\n    constructor(fn) {\n        this.fn = fn;\n    }\n    get(key) {\n        if (this.cache.has(key)) {\n            return this.cache.get(key);\n        }\n        const value = this.fn(key);\n        this.cache.set(key, value);\n        return value;\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\n/**\n * References the top level rule of a grammar with the given scope name.\n*/\nclass TopLevelRuleReference {\n    scopeName;\n    constructor(scopeName) {\n        this.scopeName = scopeName;\n    }\n    toKey() {\n        return this.scopeName;\n    }\n}\n/**\n * References a rule of a grammar in the top level repository section with the given name.\n*/\nclass TopLevelRepositoryRuleReference {\n    scopeName;\n    ruleName;\n    constructor(scopeName, ruleName) {\n        this.scopeName = scopeName;\n        this.ruleName = ruleName;\n    }\n    toKey() {\n        return `${this.scopeName}#${this.ruleName}`;\n    }\n}\nclass ExternalReferenceCollector {\n    _references = [];\n    _seenReferenceKeys = new Set();\n    get references() {\n        return this._references;\n    }\n    visitedRule = new Set();\n    add(reference) {\n        const key = reference.toKey();\n        if (this._seenReferenceKeys.has(key)) {\n            return;\n        }\n        this._seenReferenceKeys.add(key);\n        this._references.push(reference);\n    }\n}\nclass ScopeDependencyProcessor {\n    repo;\n    initialScopeName;\n    seenFullScopeRequests = new Set();\n    seenPartialScopeRequests = new Set();\n    Q;\n    constructor(repo, initialScopeName) {\n        this.repo = repo;\n        this.initialScopeName = initialScopeName;\n        this.seenFullScopeRequests.add(this.initialScopeName);\n        this.Q = [new TopLevelRuleReference(this.initialScopeName)];\n    }\n    processQueue() {\n        const q = this.Q;\n        this.Q = [];\n        const deps = new ExternalReferenceCollector();\n        for (const dep of q) {\n            collectReferencesOfReference(dep, this.initialScopeName, this.repo, deps);\n        }\n        for (const dep of deps.references) {\n            if (dep instanceof TopLevelRuleReference) {\n                if (this.seenFullScopeRequests.has(dep.scopeName)) {\n                    // already processed\n                    continue;\n                }\n                this.seenFullScopeRequests.add(dep.scopeName);\n                this.Q.push(dep);\n            }\n            else {\n                if (this.seenFullScopeRequests.has(dep.scopeName)) {\n                    // already processed in full\n                    continue;\n                }\n                if (this.seenPartialScopeRequests.has(dep.toKey())) {\n                    // already processed\n                    continue;\n                }\n                this.seenPartialScopeRequests.add(dep.toKey());\n                this.Q.push(dep);\n            }\n        }\n    }\n}\nfunction collectReferencesOfReference(reference, baseGrammarScopeName, repo, result) {\n    const selfGrammar = repo.lookup(reference.scopeName);\n    if (!selfGrammar) {\n        if (reference.scopeName === baseGrammarScopeName) {\n            throw new Error(`No grammar provided for <${baseGrammarScopeName}>`);\n        }\n        return;\n    }\n    const baseGrammar = repo.lookup(baseGrammarScopeName);\n    if (reference instanceof TopLevelRuleReference) {\n        collectExternalReferencesInTopLevelRule({ baseGrammar, selfGrammar }, result);\n    }\n    else {\n        collectExternalReferencesInTopLevelRepositoryRule(reference.ruleName, { baseGrammar, selfGrammar, repository: selfGrammar.repository }, result);\n    }\n    const injections = repo.injections(reference.scopeName);\n    if (injections) {\n        for (const injection of injections) {\n            result.add(new TopLevelRuleReference(injection));\n        }\n    }\n}\nfunction collectExternalReferencesInTopLevelRepositoryRule(ruleName, context, result) {\n    if (context.repository && context.repository[ruleName]) {\n        const rule = context.repository[ruleName];\n        collectExternalReferencesInRules([rule], context, result);\n    }\n}\nfunction collectExternalReferencesInTopLevelRule(context, result) {\n    if (context.selfGrammar.patterns && Array.isArray(context.selfGrammar.patterns)) {\n        collectExternalReferencesInRules(context.selfGrammar.patterns, { ...context, repository: context.selfGrammar.repository }, result);\n    }\n    if (context.selfGrammar.injections) {\n        collectExternalReferencesInRules(Object.values(context.selfGrammar.injections), { ...context, repository: context.selfGrammar.repository }, result);\n    }\n}\nfunction collectExternalReferencesInRules(rules, context, result) {\n    for (const rule of rules) {\n        if (result.visitedRule.has(rule)) {\n            continue;\n        }\n        result.visitedRule.add(rule);\n        const patternRepository = rule.repository ? mergeObjects({}, context.repository, rule.repository) : context.repository;\n        if (Array.isArray(rule.patterns)) {\n            collectExternalReferencesInRules(rule.patterns, { ...context, repository: patternRepository }, result);\n        }\n        const include = rule.include;\n        if (!include) {\n            continue;\n        }\n        const reference = parseInclude(include);\n        switch (reference.kind) {\n            case 0 /* IncludeReferenceKind.Base */:\n                collectExternalReferencesInTopLevelRule({ ...context, selfGrammar: context.baseGrammar }, result);\n                break;\n            case 1 /* IncludeReferenceKind.Self */:\n                collectExternalReferencesInTopLevelRule(context, result);\n                break;\n            case 2 /* IncludeReferenceKind.RelativeReference */:\n                collectExternalReferencesInTopLevelRepositoryRule(reference.ruleName, { ...context, repository: patternRepository }, result);\n                break;\n            case 3 /* IncludeReferenceKind.TopLevelReference */:\n            case 4 /* IncludeReferenceKind.TopLevelRepositoryReference */:\n                const selfGrammar = reference.scopeName === context.selfGrammar.scopeName\n                    ? context.selfGrammar\n                    : reference.scopeName === context.baseGrammar.scopeName\n                        ? context.baseGrammar\n                        : undefined;\n                if (selfGrammar) {\n                    const newContext = { baseGrammar: context.baseGrammar, selfGrammar, repository: patternRepository };\n                    if (reference.kind === 4 /* IncludeReferenceKind.TopLevelRepositoryReference */) {\n                        collectExternalReferencesInTopLevelRepositoryRule(reference.ruleName, newContext, result);\n                    }\n                    else {\n                        collectExternalReferencesInTopLevelRule(newContext, result);\n                    }\n                }\n                else {\n                    if (reference.kind === 4 /* IncludeReferenceKind.TopLevelRepositoryReference */) {\n                        result.add(new TopLevelRepositoryRuleReference(reference.scopeName, reference.ruleName));\n                    }\n                    else {\n                        result.add(new TopLevelRuleReference(reference.scopeName));\n                    }\n                }\n                break;\n        }\n    }\n}\nclass BaseReference {\n    kind = 0 /* IncludeReferenceKind.Base */;\n}\nclass SelfReference {\n    kind = 1 /* IncludeReferenceKind.Self */;\n}\nclass RelativeReference {\n    ruleName;\n    kind = 2 /* IncludeReferenceKind.RelativeReference */;\n    constructor(ruleName) {\n        this.ruleName = ruleName;\n    }\n}\nclass TopLevelReference {\n    scopeName;\n    kind = 3 /* IncludeReferenceKind.TopLevelReference */;\n    constructor(scopeName) {\n        this.scopeName = scopeName;\n    }\n}\nclass TopLevelRepositoryReference {\n    scopeName;\n    ruleName;\n    kind = 4 /* IncludeReferenceKind.TopLevelRepositoryReference */;\n    constructor(scopeName, ruleName) {\n        this.scopeName = scopeName;\n        this.ruleName = ruleName;\n    }\n}\nfunction parseInclude(include) {\n    if (include === '$base') {\n        return new BaseReference();\n    }\n    else if (include === '$self') {\n        return new SelfReference();\n    }\n    const indexOfSharp = include.indexOf(\"#\");\n    if (indexOfSharp === -1) {\n        return new TopLevelReference(include);\n    }\n    else if (indexOfSharp === 0) {\n        return new RelativeReference(include.substring(1));\n    }\n    else {\n        const scopeName = include.substring(0, indexOfSharp);\n        const ruleName = include.substring(indexOfSharp + 1);\n        return new TopLevelRepositoryReference(scopeName, ruleName);\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nconst HAS_BACK_REFERENCES = /\\\\(\\d+)/;\nconst BACK_REFERENCING_END = /\\\\(\\d+)/g;\n// This is a special constant to indicate that the end regexp matched.\nconst endRuleId = -1;\n// This is a special constant to indicate that the while regexp matched.\nconst whileRuleId = -2;\nfunction ruleIdFromNumber(id) {\n    return id;\n}\nfunction ruleIdToNumber(id) {\n    return id;\n}\nclass Rule {\n    $location;\n    id;\n    _nameIsCapturing;\n    _name;\n    _contentNameIsCapturing;\n    _contentName;\n    constructor($location, id, name, contentName) {\n        this.$location = $location;\n        this.id = id;\n        this._name = name || null;\n        this._nameIsCapturing = RegexSource.hasCaptures(this._name);\n        this._contentName = contentName || null;\n        this._contentNameIsCapturing = RegexSource.hasCaptures(this._contentName);\n    }\n    get debugName() {\n        const location = this.$location ? `${basename(this.$location.filename)}:${this.$location.line}` : 'unknown';\n        return `${this.constructor.name}#${this.id} @ ${location}`;\n    }\n    getName(lineText, captureIndices) {\n        if (!this._nameIsCapturing || this._name === null || lineText === null || captureIndices === null) {\n            return this._name;\n        }\n        return RegexSource.replaceCaptures(this._name, lineText, captureIndices);\n    }\n    getContentName(lineText, captureIndices) {\n        if (!this._contentNameIsCapturing || this._contentName === null) {\n            return this._contentName;\n        }\n        return RegexSource.replaceCaptures(this._contentName, lineText, captureIndices);\n    }\n}\nclass CaptureRule extends Rule {\n    retokenizeCapturedWithRuleId;\n    constructor($location, id, name, contentName, retokenizeCapturedWithRuleId) {\n        super($location, id, name, contentName);\n        this.retokenizeCapturedWithRuleId = retokenizeCapturedWithRuleId;\n    }\n    dispose() {\n        // nothing to dispose\n    }\n    collectPatterns(grammar, out) {\n        throw new Error('Not supported!');\n    }\n    compile(grammar, endRegexSource) {\n        throw new Error('Not supported!');\n    }\n    compileAG(grammar, endRegexSource, allowA, allowG) {\n        throw new Error('Not supported!');\n    }\n}\nclass MatchRule extends Rule {\n    _match;\n    captures;\n    _cachedCompiledPatterns;\n    constructor($location, id, name, match, captures) {\n        super($location, id, name, null);\n        this._match = new RegExpSource(match, this.id);\n        this.captures = captures;\n        this._cachedCompiledPatterns = null;\n    }\n    dispose() {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n    }\n    get debugMatchRegExp() {\n        return `${this._match.source}`;\n    }\n    collectPatterns(grammar, out) {\n        out.push(this._match);\n    }\n    compile(grammar, endRegexSource) {\n        return this._getCachedCompiledPatterns(grammar).compile(grammar);\n    }\n    compileAG(grammar, endRegexSource, allowA, allowG) {\n        return this._getCachedCompiledPatterns(grammar).compileAG(grammar, allowA, allowG);\n    }\n    _getCachedCompiledPatterns(grammar) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            this.collectPatterns(grammar, this._cachedCompiledPatterns);\n        }\n        return this._cachedCompiledPatterns;\n    }\n}\nclass IncludeOnlyRule extends Rule {\n    hasMissingPatterns;\n    patterns;\n    _cachedCompiledPatterns;\n    constructor($location, id, name, contentName, patterns) {\n        super($location, id, name, contentName);\n        this.patterns = patterns.patterns;\n        this.hasMissingPatterns = patterns.hasMissingPatterns;\n        this._cachedCompiledPatterns = null;\n    }\n    dispose() {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n    }\n    collectPatterns(grammar, out) {\n        for (const pattern of this.patterns) {\n            const rule = grammar.getRule(pattern);\n            rule.collectPatterns(grammar, out);\n        }\n    }\n    compile(grammar, endRegexSource) {\n        return this._getCachedCompiledPatterns(grammar).compile(grammar);\n    }\n    compileAG(grammar, endRegexSource, allowA, allowG) {\n        return this._getCachedCompiledPatterns(grammar).compileAG(grammar, allowA, allowG);\n    }\n    _getCachedCompiledPatterns(grammar) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            this.collectPatterns(grammar, this._cachedCompiledPatterns);\n        }\n        return this._cachedCompiledPatterns;\n    }\n}\nclass BeginEndRule extends Rule {\n    _begin;\n    beginCaptures;\n    _end;\n    endHasBackReferences;\n    endCaptures;\n    applyEndPatternLast;\n    hasMissingPatterns;\n    patterns;\n    _cachedCompiledPatterns;\n    constructor($location, id, name, contentName, begin, beginCaptures, end, endCaptures, applyEndPatternLast, patterns) {\n        super($location, id, name, contentName);\n        this._begin = new RegExpSource(begin, this.id);\n        this.beginCaptures = beginCaptures;\n        this._end = new RegExpSource(end ? end : '\\uFFFF', -1);\n        this.endHasBackReferences = this._end.hasBackReferences;\n        this.endCaptures = endCaptures;\n        this.applyEndPatternLast = applyEndPatternLast || false;\n        this.patterns = patterns.patterns;\n        this.hasMissingPatterns = patterns.hasMissingPatterns;\n        this._cachedCompiledPatterns = null;\n    }\n    dispose() {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n    }\n    get debugBeginRegExp() {\n        return `${this._begin.source}`;\n    }\n    get debugEndRegExp() {\n        return `${this._end.source}`;\n    }\n    getEndWithResolvedBackReferences(lineText, captureIndices) {\n        return this._end.resolveBackReferences(lineText, captureIndices);\n    }\n    collectPatterns(grammar, out) {\n        out.push(this._begin);\n    }\n    compile(grammar, endRegexSource) {\n        return this._getCachedCompiledPatterns(grammar, endRegexSource).compile(grammar);\n    }\n    compileAG(grammar, endRegexSource, allowA, allowG) {\n        return this._getCachedCompiledPatterns(grammar, endRegexSource).compileAG(grammar, allowA, allowG);\n    }\n    _getCachedCompiledPatterns(grammar, endRegexSource) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            for (const pattern of this.patterns) {\n                const rule = grammar.getRule(pattern);\n                rule.collectPatterns(grammar, this._cachedCompiledPatterns);\n            }\n            if (this.applyEndPatternLast) {\n                this._cachedCompiledPatterns.push(this._end.hasBackReferences ? this._end.clone() : this._end);\n            }\n            else {\n                this._cachedCompiledPatterns.unshift(this._end.hasBackReferences ? this._end.clone() : this._end);\n            }\n        }\n        if (this._end.hasBackReferences) {\n            if (this.applyEndPatternLast) {\n                this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length() - 1, endRegexSource);\n            }\n            else {\n                this._cachedCompiledPatterns.setSource(0, endRegexSource);\n            }\n        }\n        return this._cachedCompiledPatterns;\n    }\n}\nclass BeginWhileRule extends Rule {\n    _begin;\n    beginCaptures;\n    whileCaptures;\n    _while;\n    whileHasBackReferences;\n    hasMissingPatterns;\n    patterns;\n    _cachedCompiledPatterns;\n    _cachedCompiledWhilePatterns;\n    constructor($location, id, name, contentName, begin, beginCaptures, _while, whileCaptures, patterns) {\n        super($location, id, name, contentName);\n        this._begin = new RegExpSource(begin, this.id);\n        this.beginCaptures = beginCaptures;\n        this.whileCaptures = whileCaptures;\n        this._while = new RegExpSource(_while, whileRuleId);\n        this.whileHasBackReferences = this._while.hasBackReferences;\n        this.patterns = patterns.patterns;\n        this.hasMissingPatterns = patterns.hasMissingPatterns;\n        this._cachedCompiledPatterns = null;\n        this._cachedCompiledWhilePatterns = null;\n    }\n    dispose() {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n        if (this._cachedCompiledWhilePatterns) {\n            this._cachedCompiledWhilePatterns.dispose();\n            this._cachedCompiledWhilePatterns = null;\n        }\n    }\n    get debugBeginRegExp() {\n        return `${this._begin.source}`;\n    }\n    get debugWhileRegExp() {\n        return `${this._while.source}`;\n    }\n    getWhileWithResolvedBackReferences(lineText, captureIndices) {\n        return this._while.resolveBackReferences(lineText, captureIndices);\n    }\n    collectPatterns(grammar, out) {\n        out.push(this._begin);\n    }\n    compile(grammar, endRegexSource) {\n        return this._getCachedCompiledPatterns(grammar).compile(grammar);\n    }\n    compileAG(grammar, endRegexSource, allowA, allowG) {\n        return this._getCachedCompiledPatterns(grammar).compileAG(grammar, allowA, allowG);\n    }\n    _getCachedCompiledPatterns(grammar) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            for (const pattern of this.patterns) {\n                const rule = grammar.getRule(pattern);\n                rule.collectPatterns(grammar, this._cachedCompiledPatterns);\n            }\n        }\n        return this._cachedCompiledPatterns;\n    }\n    compileWhile(grammar, endRegexSource) {\n        return this._getCachedCompiledWhilePatterns(grammar, endRegexSource).compile(grammar);\n    }\n    compileWhileAG(grammar, endRegexSource, allowA, allowG) {\n        return this._getCachedCompiledWhilePatterns(grammar, endRegexSource).compileAG(grammar, allowA, allowG);\n    }\n    _getCachedCompiledWhilePatterns(grammar, endRegexSource) {\n        if (!this._cachedCompiledWhilePatterns) {\n            this._cachedCompiledWhilePatterns = new RegExpSourceList();\n            this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences ? this._while.clone() : this._while);\n        }\n        if (this._while.hasBackReferences) {\n            this._cachedCompiledWhilePatterns.setSource(0, endRegexSource ? endRegexSource : '\\uFFFF');\n        }\n        return this._cachedCompiledWhilePatterns;\n    }\n}\nclass RuleFactory {\n    static createCaptureRule(helper, $location, name, contentName, retokenizeCapturedWithRuleId) {\n        return helper.registerRule((id) => {\n            return new CaptureRule($location, id, name, contentName, retokenizeCapturedWithRuleId);\n        });\n    }\n    static getCompiledRuleId(desc, helper, repository) {\n        if (!desc.id) {\n            helper.registerRule((id) => {\n                desc.id = id;\n                if (desc.match) {\n                    return new MatchRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.match, RuleFactory._compileCaptures(desc.captures, helper, repository));\n                }\n                if (typeof desc.begin === 'undefined') {\n                    if (desc.repository) {\n                        repository = mergeObjects({}, repository, desc.repository);\n                    }\n                    let patterns = desc.patterns;\n                    if (typeof patterns === 'undefined' && desc.include) {\n                        patterns = [{ include: desc.include }];\n                    }\n                    return new IncludeOnlyRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, RuleFactory._compilePatterns(patterns, helper, repository));\n                }\n                if (desc.while) {\n                    return new BeginWhileRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, desc.begin, RuleFactory._compileCaptures(desc.beginCaptures || desc.captures, helper, repository), desc.while, RuleFactory._compileCaptures(desc.whileCaptures || desc.captures, helper, repository), RuleFactory._compilePatterns(desc.patterns, helper, repository));\n                }\n                return new BeginEndRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, desc.begin, RuleFactory._compileCaptures(desc.beginCaptures || desc.captures, helper, repository), desc.end, RuleFactory._compileCaptures(desc.endCaptures || desc.captures, helper, repository), desc.applyEndPatternLast, RuleFactory._compilePatterns(desc.patterns, helper, repository));\n            });\n        }\n        return desc.id;\n    }\n    static _compileCaptures(captures, helper, repository) {\n        let r = [];\n        if (captures) {\n            // Find the maximum capture id\n            let maximumCaptureId = 0;\n            for (const captureId in captures) {\n                if (captureId === '$vscodeTextmateLocation') {\n                    continue;\n                }\n                const numericCaptureId = parseInt(captureId, 10);\n                if (numericCaptureId > maximumCaptureId) {\n                    maximumCaptureId = numericCaptureId;\n                }\n            }\n            // Initialize result\n            for (let i = 0; i <= maximumCaptureId; i++) {\n                r[i] = null;\n            }\n            // Fill out result\n            for (const captureId in captures) {\n                if (captureId === '$vscodeTextmateLocation') {\n                    continue;\n                }\n                const numericCaptureId = parseInt(captureId, 10);\n                let retokenizeCapturedWithRuleId = 0;\n                if (captures[captureId].patterns) {\n                    retokenizeCapturedWithRuleId = RuleFactory.getCompiledRuleId(captures[captureId], helper, repository);\n                }\n                r[numericCaptureId] = RuleFactory.createCaptureRule(helper, captures[captureId].$vscodeTextmateLocation, captures[captureId].name, captures[captureId].contentName, retokenizeCapturedWithRuleId);\n            }\n        }\n        return r;\n    }\n    static _compilePatterns(patterns, helper, repository) {\n        let r = [];\n        if (patterns) {\n            for (let i = 0, len = patterns.length; i < len; i++) {\n                const pattern = patterns[i];\n                let ruleId = -1;\n                if (pattern.include) {\n                    const reference = parseInclude(pattern.include);\n                    switch (reference.kind) {\n                        case 0 /* IncludeReferenceKind.Base */:\n                        case 1 /* IncludeReferenceKind.Self */:\n                            ruleId = RuleFactory.getCompiledRuleId(repository[pattern.include], helper, repository);\n                            break;\n                        case 2 /* IncludeReferenceKind.RelativeReference */:\n                            // Local include found in `repository`\n                            let localIncludedRule = repository[reference.ruleName];\n                            if (localIncludedRule) {\n                                ruleId = RuleFactory.getCompiledRuleId(localIncludedRule, helper, repository);\n                            }\n                            break;\n                        case 3 /* IncludeReferenceKind.TopLevelReference */:\n                        case 4 /* IncludeReferenceKind.TopLevelRepositoryReference */:\n                            const externalGrammarName = reference.scopeName;\n                            const externalGrammarInclude = reference.kind === 4 /* IncludeReferenceKind.TopLevelRepositoryReference */\n                                ? reference.ruleName\n                                : null;\n                            // External include\n                            const externalGrammar = helper.getExternalGrammar(externalGrammarName, repository);\n                            if (externalGrammar) {\n                                if (externalGrammarInclude) {\n                                    let externalIncludedRule = externalGrammar.repository[externalGrammarInclude];\n                                    if (externalIncludedRule) {\n                                        ruleId = RuleFactory.getCompiledRuleId(externalIncludedRule, helper, externalGrammar.repository);\n                                    }\n                                }\n                                else {\n                                    ruleId = RuleFactory.getCompiledRuleId(externalGrammar.repository.$self, helper, externalGrammar.repository);\n                                }\n                            }\n                            break;\n                    }\n                }\n                else {\n                    ruleId = RuleFactory.getCompiledRuleId(pattern, helper, repository);\n                }\n                if (ruleId !== -1) {\n                    const rule = helper.getRule(ruleId);\n                    let skipRule = false;\n                    if (rule instanceof IncludeOnlyRule || rule instanceof BeginEndRule || rule instanceof BeginWhileRule) {\n                        if (rule.hasMissingPatterns && rule.patterns.length === 0) {\n                            skipRule = true;\n                        }\n                    }\n                    if (skipRule) {\n                        // console.log('REMOVING RULE ENTIRELY DUE TO EMPTY PATTERNS THAT ARE MISSING');\n                        continue;\n                    }\n                    r.push(ruleId);\n                }\n            }\n        }\n        return {\n            patterns: r,\n            hasMissingPatterns: ((patterns ? patterns.length : 0) !== r.length)\n        };\n    }\n}\nclass RegExpSource {\n    source;\n    ruleId;\n    hasAnchor;\n    hasBackReferences;\n    _anchorCache;\n    constructor(regExpSource, ruleId) {\n        if (regExpSource) {\n            const len = regExpSource.length;\n            let lastPushedPos = 0;\n            let output = [];\n            let hasAnchor = false;\n            for (let pos = 0; pos < len; pos++) {\n                const ch = regExpSource.charAt(pos);\n                if (ch === '\\\\') {\n                    if (pos + 1 < len) {\n                        const nextCh = regExpSource.charAt(pos + 1);\n                        if (nextCh === 'z') {\n                            output.push(regExpSource.substring(lastPushedPos, pos));\n                            output.push('$(?!\\\\n)(?<!\\\\n)');\n                            lastPushedPos = pos + 2;\n                        }\n                        else if (nextCh === 'A' || nextCh === 'G') {\n                            hasAnchor = true;\n                        }\n                        pos++;\n                    }\n                }\n            }\n            this.hasAnchor = hasAnchor;\n            if (lastPushedPos === 0) {\n                // No \\z hit\n                this.source = regExpSource;\n            }\n            else {\n                output.push(regExpSource.substring(lastPushedPos, len));\n                this.source = output.join('');\n            }\n        }\n        else {\n            this.hasAnchor = false;\n            this.source = regExpSource;\n        }\n        if (this.hasAnchor) {\n            this._anchorCache = this._buildAnchorCache();\n        }\n        else {\n            this._anchorCache = null;\n        }\n        this.ruleId = ruleId;\n        this.hasBackReferences = HAS_BACK_REFERENCES.test(this.source);\n        // console.log('input: ' + regExpSource + ' => ' + this.source + ', ' + this.hasAnchor);\n    }\n    clone() {\n        return new RegExpSource(this.source, this.ruleId);\n    }\n    setSource(newSource) {\n        if (this.source === newSource) {\n            return;\n        }\n        this.source = newSource;\n        if (this.hasAnchor) {\n            this._anchorCache = this._buildAnchorCache();\n        }\n    }\n    resolveBackReferences(lineText, captureIndices) {\n        let capturedValues = captureIndices.map((capture) => {\n            return lineText.substring(capture.start, capture.end);\n        });\n        BACK_REFERENCING_END.lastIndex = 0;\n        return this.source.replace(BACK_REFERENCING_END, (match, g1) => {\n            return escapeRegExpCharacters(capturedValues[parseInt(g1, 10)] || '');\n        });\n    }\n    _buildAnchorCache() {\n        let A0_G0_result = [];\n        let A0_G1_result = [];\n        let A1_G0_result = [];\n        let A1_G1_result = [];\n        let pos, len, ch, nextCh;\n        for (pos = 0, len = this.source.length; pos < len; pos++) {\n            ch = this.source.charAt(pos);\n            A0_G0_result[pos] = ch;\n            A0_G1_result[pos] = ch;\n            A1_G0_result[pos] = ch;\n            A1_G1_result[pos] = ch;\n            if (ch === '\\\\') {\n                if (pos + 1 < len) {\n                    nextCh = this.source.charAt(pos + 1);\n                    if (nextCh === 'A') {\n                        A0_G0_result[pos + 1] = '\\uFFFF';\n                        A0_G1_result[pos + 1] = '\\uFFFF';\n                        A1_G0_result[pos + 1] = 'A';\n                        A1_G1_result[pos + 1] = 'A';\n                    }\n                    else if (nextCh === 'G') {\n                        A0_G0_result[pos + 1] = '\\uFFFF';\n                        A0_G1_result[pos + 1] = 'G';\n                        A1_G0_result[pos + 1] = '\\uFFFF';\n                        A1_G1_result[pos + 1] = 'G';\n                    }\n                    else {\n                        A0_G0_result[pos + 1] = nextCh;\n                        A0_G1_result[pos + 1] = nextCh;\n                        A1_G0_result[pos + 1] = nextCh;\n                        A1_G1_result[pos + 1] = nextCh;\n                    }\n                    pos++;\n                }\n            }\n        }\n        return {\n            A0_G0: A0_G0_result.join(''),\n            A0_G1: A0_G1_result.join(''),\n            A1_G0: A1_G0_result.join(''),\n            A1_G1: A1_G1_result.join('')\n        };\n    }\n    resolveAnchors(allowA, allowG) {\n        if (!this.hasAnchor || !this._anchorCache) {\n            return this.source;\n        }\n        if (allowA) {\n            if (allowG) {\n                return this._anchorCache.A1_G1;\n            }\n            else {\n                return this._anchorCache.A1_G0;\n            }\n        }\n        else {\n            if (allowG) {\n                return this._anchorCache.A0_G1;\n            }\n            else {\n                return this._anchorCache.A0_G0;\n            }\n        }\n    }\n}\nclass RegExpSourceList {\n    _items;\n    _hasAnchors;\n    _cached;\n    _anchorCache;\n    constructor() {\n        this._items = [];\n        this._hasAnchors = false;\n        this._cached = null;\n        this._anchorCache = {\n            A0_G0: null,\n            A0_G1: null,\n            A1_G0: null,\n            A1_G1: null\n        };\n    }\n    dispose() {\n        this._disposeCaches();\n    }\n    _disposeCaches() {\n        if (this._cached) {\n            this._cached.dispose();\n            this._cached = null;\n        }\n        if (this._anchorCache.A0_G0) {\n            this._anchorCache.A0_G0.dispose();\n            this._anchorCache.A0_G0 = null;\n        }\n        if (this._anchorCache.A0_G1) {\n            this._anchorCache.A0_G1.dispose();\n            this._anchorCache.A0_G1 = null;\n        }\n        if (this._anchorCache.A1_G0) {\n            this._anchorCache.A1_G0.dispose();\n            this._anchorCache.A1_G0 = null;\n        }\n        if (this._anchorCache.A1_G1) {\n            this._anchorCache.A1_G1.dispose();\n            this._anchorCache.A1_G1 = null;\n        }\n    }\n    push(item) {\n        this._items.push(item);\n        this._hasAnchors = this._hasAnchors || item.hasAnchor;\n    }\n    unshift(item) {\n        this._items.unshift(item);\n        this._hasAnchors = this._hasAnchors || item.hasAnchor;\n    }\n    length() {\n        return this._items.length;\n    }\n    setSource(index, newSource) {\n        if (this._items[index].source !== newSource) {\n            // bust the cache\n            this._disposeCaches();\n            this._items[index].setSource(newSource);\n        }\n    }\n    compile(onigLib) {\n        if (!this._cached) {\n            let regExps = this._items.map(e => e.source);\n            this._cached = new CompiledRule(onigLib, regExps, this._items.map(e => e.ruleId));\n        }\n        return this._cached;\n    }\n    compileAG(onigLib, allowA, allowG) {\n        if (!this._hasAnchors) {\n            return this.compile(onigLib);\n        }\n        else {\n            if (allowA) {\n                if (allowG) {\n                    if (!this._anchorCache.A1_G1) {\n                        this._anchorCache.A1_G1 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A1_G1;\n                }\n                else {\n                    if (!this._anchorCache.A1_G0) {\n                        this._anchorCache.A1_G0 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A1_G0;\n                }\n            }\n            else {\n                if (allowG) {\n                    if (!this._anchorCache.A0_G1) {\n                        this._anchorCache.A0_G1 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A0_G1;\n                }\n                else {\n                    if (!this._anchorCache.A0_G0) {\n                        this._anchorCache.A0_G0 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A0_G0;\n                }\n            }\n        }\n    }\n    _resolveAnchors(onigLib, allowA, allowG) {\n        let regExps = this._items.map(e => e.resolveAnchors(allowA, allowG));\n        return new CompiledRule(onigLib, regExps, this._items.map(e => e.ruleId));\n    }\n}\nclass CompiledRule {\n    regExps;\n    rules;\n    scanner;\n    constructor(onigLib, regExps, rules) {\n        this.regExps = regExps;\n        this.rules = rules;\n        this.scanner = onigLib.createOnigScanner(regExps);\n    }\n    dispose() {\n        if (typeof this.scanner.dispose === \"function\") {\n            this.scanner.dispose();\n        }\n    }\n    toString() {\n        const r = [];\n        for (let i = 0, len = this.rules.length; i < len; i++) {\n            r.push(\"   - \" + this.rules[i] + \": \" + this.regExps[i]);\n        }\n        return r.join(\"\\n\");\n    }\n    findNextMatchSync(string, startPosition, options) {\n        const result = this.scanner.findNextMatchSync(string, startPosition, options);\n        if (!result) {\n            return null;\n        }\n        return {\n            ruleId: this.rules[result.index],\n            captureIndices: result.captureIndices,\n        };\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nclass Theme {\n    _colorMap;\n    _defaults;\n    _root;\n    static createFromRawTheme(source, colorMap) {\n        return this.createFromParsedTheme(parseTheme(source), colorMap);\n    }\n    static createFromParsedTheme(source, colorMap) {\n        return resolveParsedThemeRules(source, colorMap);\n    }\n    _cachedMatchRoot = new CachedFn((scopeName) => this._root.match(scopeName));\n    constructor(_colorMap, _defaults, _root) {\n        this._colorMap = _colorMap;\n        this._defaults = _defaults;\n        this._root = _root;\n    }\n    getColorMap() {\n        return this._colorMap.getColorMap();\n    }\n    getDefaults() {\n        return this._defaults;\n    }\n    match(scopePath) {\n        if (scopePath === null) {\n            return this._defaults;\n        }\n        const scopeName = scopePath.scopeName;\n        const matchingTrieElements = this._cachedMatchRoot.get(scopeName);\n        const effectiveRule = matchingTrieElements.find((v) => _scopePathMatchesParentScopes(scopePath.parent, v.parentScopes));\n        if (!effectiveRule) {\n            return null;\n        }\n        return new StyleAttributes(effectiveRule.fontStyle, effectiveRule.foreground, effectiveRule.background);\n    }\n}\nclass ScopeStack {\n    parent;\n    scopeName;\n    static push(path, scopeNames) {\n        for (const name of scopeNames) {\n            path = new ScopeStack(path, name);\n        }\n        return path;\n    }\n    static from(...segments) {\n        let result = null;\n        for (let i = 0; i < segments.length; i++) {\n            result = new ScopeStack(result, segments[i]);\n        }\n        return result;\n    }\n    constructor(parent, scopeName) {\n        this.parent = parent;\n        this.scopeName = scopeName;\n    }\n    push(scopeName) {\n        return new ScopeStack(this, scopeName);\n    }\n    getSegments() {\n        let item = this;\n        const result = [];\n        while (item) {\n            result.push(item.scopeName);\n            item = item.parent;\n        }\n        result.reverse();\n        return result;\n    }\n    toString() {\n        return this.getSegments().join(' ');\n    }\n    extends(other) {\n        if (this === other) {\n            return true;\n        }\n        if (this.parent === null) {\n            return false;\n        }\n        return this.parent.extends(other);\n    }\n    getExtensionIfDefined(base) {\n        const result = [];\n        let item = this;\n        while (item && item !== base) {\n            result.push(item.scopeName);\n            item = item.parent;\n        }\n        return item === base ? result.reverse() : undefined;\n    }\n}\nfunction _scopePathMatchesParentScopes(scopePath, parentScopes) {\n    if (parentScopes === null) {\n        return true;\n    }\n    let index = 0;\n    let scopePattern = parentScopes[index];\n    while (scopePath) {\n        if (_matchesScope(scopePath.scopeName, scopePattern)) {\n            index++;\n            if (index === parentScopes.length) {\n                return true;\n            }\n            scopePattern = parentScopes[index];\n        }\n        scopePath = scopePath.parent;\n    }\n    return false;\n}\nfunction _matchesScope(scopeName, scopePattern) {\n    return scopePattern === scopeName || (scopeName.startsWith(scopePattern) && scopeName[scopePattern.length] === '.');\n}\nclass StyleAttributes {\n    fontStyle;\n    foregroundId;\n    backgroundId;\n    constructor(fontStyle, foregroundId, backgroundId) {\n        this.fontStyle = fontStyle;\n        this.foregroundId = foregroundId;\n        this.backgroundId = backgroundId;\n    }\n}\n/**\n * Parse a raw theme into rules.\n */\nfunction parseTheme(source) {\n    if (!source) {\n        return [];\n    }\n    if (!source.settings || !Array.isArray(source.settings)) {\n        return [];\n    }\n    let settings = source.settings;\n    let result = [], resultLen = 0;\n    for (let i = 0, len = settings.length; i < len; i++) {\n        let entry = settings[i];\n        if (!entry.settings) {\n            continue;\n        }\n        let scopes;\n        if (typeof entry.scope === 'string') {\n            let _scope = entry.scope;\n            // remove leading commas\n            _scope = _scope.replace(/^[,]+/, '');\n            // remove trailing commans\n            _scope = _scope.replace(/[,]+$/, '');\n            scopes = _scope.split(',');\n        }\n        else if (Array.isArray(entry.scope)) {\n            scopes = entry.scope;\n        }\n        else {\n            scopes = [''];\n        }\n        let fontStyle = -1 /* FontStyle.NotSet */;\n        if (typeof entry.settings.fontStyle === 'string') {\n            fontStyle = 0 /* FontStyle.None */;\n            let segments = entry.settings.fontStyle.split(' ');\n            for (let j = 0, lenJ = segments.length; j < lenJ; j++) {\n                let segment = segments[j];\n                switch (segment) {\n                    case 'italic':\n                        fontStyle = fontStyle | 1 /* FontStyle.Italic */;\n                        break;\n                    case 'bold':\n                        fontStyle = fontStyle | 2 /* FontStyle.Bold */;\n                        break;\n                    case 'underline':\n                        fontStyle = fontStyle | 4 /* FontStyle.Underline */;\n                        break;\n                    case 'strikethrough':\n                        fontStyle = fontStyle | 8 /* FontStyle.Strikethrough */;\n                        break;\n                }\n            }\n        }\n        let foreground = null;\n        if (typeof entry.settings.foreground === 'string' && isValidHexColor(entry.settings.foreground)) {\n            foreground = entry.settings.foreground;\n        }\n        let background = null;\n        if (typeof entry.settings.background === 'string' && isValidHexColor(entry.settings.background)) {\n            background = entry.settings.background;\n        }\n        for (let j = 0, lenJ = scopes.length; j < lenJ; j++) {\n            let _scope = scopes[j].trim();\n            let segments = _scope.split(' ');\n            let scope = segments[segments.length - 1];\n            let parentScopes = null;\n            if (segments.length > 1) {\n                parentScopes = segments.slice(0, segments.length - 1);\n                parentScopes.reverse();\n            }\n            result[resultLen++] = new ParsedThemeRule(scope, parentScopes, i, fontStyle, foreground, background);\n        }\n    }\n    return result;\n}\nclass ParsedThemeRule {\n    scope;\n    parentScopes;\n    index;\n    fontStyle;\n    foreground;\n    background;\n    constructor(scope, parentScopes, index, fontStyle, foreground, background) {\n        this.scope = scope;\n        this.parentScopes = parentScopes;\n        this.index = index;\n        this.fontStyle = fontStyle;\n        this.foreground = foreground;\n        this.background = background;\n    }\n}\n/**\n * Resolve rules (i.e. inheritance).\n */\nfunction resolveParsedThemeRules(parsedThemeRules, _colorMap) {\n    // Sort rules lexicographically, and then by index if necessary\n    parsedThemeRules.sort((a, b) => {\n        let r = strcmp(a.scope, b.scope);\n        if (r !== 0) {\n            return r;\n        }\n        r = strArrCmp(a.parentScopes, b.parentScopes);\n        if (r !== 0) {\n            return r;\n        }\n        return a.index - b.index;\n    });\n    // Determine defaults\n    let defaultFontStyle = 0 /* FontStyle.None */;\n    let defaultForeground = '#000000';\n    let defaultBackground = '#ffffff';\n    while (parsedThemeRules.length >= 1 && parsedThemeRules[0].scope === '') {\n        let incomingDefaults = parsedThemeRules.shift();\n        if (incomingDefaults.fontStyle !== -1 /* FontStyle.NotSet */) {\n            defaultFontStyle = incomingDefaults.fontStyle;\n        }\n        if (incomingDefaults.foreground !== null) {\n            defaultForeground = incomingDefaults.foreground;\n        }\n        if (incomingDefaults.background !== null) {\n            defaultBackground = incomingDefaults.background;\n        }\n    }\n    let colorMap = new ColorMap(_colorMap);\n    let defaults = new StyleAttributes(defaultFontStyle, colorMap.getId(defaultForeground), colorMap.getId(defaultBackground));\n    let root = new ThemeTrieElement(new ThemeTrieElementRule(0, null, -1 /* FontStyle.NotSet */, 0, 0), []);\n    for (let i = 0, len = parsedThemeRules.length; i < len; i++) {\n        let rule = parsedThemeRules[i];\n        root.insert(0, rule.scope, rule.parentScopes, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));\n    }\n    return new Theme(colorMap, defaults, root);\n}\nclass ColorMap {\n    _isFrozen;\n    _lastColorId;\n    _id2color;\n    _color2id;\n    constructor(_colorMap) {\n        this._lastColorId = 0;\n        this._id2color = [];\n        this._color2id = Object.create(null);\n        if (Array.isArray(_colorMap)) {\n            this._isFrozen = true;\n            for (let i = 0, len = _colorMap.length; i < len; i++) {\n                this._color2id[_colorMap[i]] = i;\n                this._id2color[i] = _colorMap[i];\n            }\n        }\n        else {\n            this._isFrozen = false;\n        }\n    }\n    getId(color) {\n        if (color === null) {\n            return 0;\n        }\n        color = color.toUpperCase();\n        let value = this._color2id[color];\n        if (value) {\n            return value;\n        }\n        if (this._isFrozen) {\n            throw new Error(`Missing color in color map - ${color}`);\n        }\n        value = ++this._lastColorId;\n        this._color2id[color] = value;\n        this._id2color[value] = color;\n        return value;\n    }\n    getColorMap() {\n        return this._id2color.slice(0);\n    }\n}\nclass ThemeTrieElementRule {\n    scopeDepth;\n    parentScopes;\n    fontStyle;\n    foreground;\n    background;\n    constructor(scopeDepth, parentScopes, fontStyle, foreground, background) {\n        this.scopeDepth = scopeDepth;\n        this.parentScopes = parentScopes;\n        this.fontStyle = fontStyle;\n        this.foreground = foreground;\n        this.background = background;\n    }\n    clone() {\n        return new ThemeTrieElementRule(this.scopeDepth, this.parentScopes, this.fontStyle, this.foreground, this.background);\n    }\n    static cloneArr(arr) {\n        let r = [];\n        for (let i = 0, len = arr.length; i < len; i++) {\n            r[i] = arr[i].clone();\n        }\n        return r;\n    }\n    acceptOverwrite(scopeDepth, fontStyle, foreground, background) {\n        if (this.scopeDepth > scopeDepth) {\n            console.log('how did this happen?');\n        }\n        else {\n            this.scopeDepth = scopeDepth;\n        }\n        // console.log('TODO -> my depth: ' + this.scopeDepth + ', overwriting depth: ' + scopeDepth);\n        if (fontStyle !== -1 /* FontStyle.NotSet */) {\n            this.fontStyle = fontStyle;\n        }\n        if (foreground !== 0) {\n            this.foreground = foreground;\n        }\n        if (background !== 0) {\n            this.background = background;\n        }\n    }\n}\nclass ThemeTrieElement {\n    _mainRule;\n    _children;\n    _rulesWithParentScopes;\n    constructor(_mainRule, rulesWithParentScopes = [], _children = {}) {\n        this._mainRule = _mainRule;\n        this._children = _children;\n        this._rulesWithParentScopes = rulesWithParentScopes;\n    }\n    static _sortBySpecificity(arr) {\n        if (arr.length === 1) {\n            return arr;\n        }\n        arr.sort(this._cmpBySpecificity);\n        return arr;\n    }\n    static _cmpBySpecificity(a, b) {\n        if (a.scopeDepth === b.scopeDepth) {\n            const aParentScopes = a.parentScopes;\n            const bParentScopes = b.parentScopes;\n            let aParentScopesLen = aParentScopes === null ? 0 : aParentScopes.length;\n            let bParentScopesLen = bParentScopes === null ? 0 : bParentScopes.length;\n            if (aParentScopesLen === bParentScopesLen) {\n                for (let i = 0; i < aParentScopesLen; i++) {\n                    const aLen = aParentScopes[i].length;\n                    const bLen = bParentScopes[i].length;\n                    if (aLen !== bLen) {\n                        return bLen - aLen;\n                    }\n                }\n            }\n            return bParentScopesLen - aParentScopesLen;\n        }\n        return b.scopeDepth - a.scopeDepth;\n    }\n    match(scope) {\n        if (scope === '') {\n            return ThemeTrieElement._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));\n        }\n        let dotIndex = scope.indexOf('.');\n        let head;\n        let tail;\n        if (dotIndex === -1) {\n            head = scope;\n            tail = '';\n        }\n        else {\n            head = scope.substring(0, dotIndex);\n            tail = scope.substring(dotIndex + 1);\n        }\n        if (this._children.hasOwnProperty(head)) {\n            return this._children[head].match(tail);\n        }\n        return ThemeTrieElement._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));\n    }\n    insert(scopeDepth, scope, parentScopes, fontStyle, foreground, background) {\n        if (scope === '') {\n            this._doInsertHere(scopeDepth, parentScopes, fontStyle, foreground, background);\n            return;\n        }\n        let dotIndex = scope.indexOf('.');\n        let head;\n        let tail;\n        if (dotIndex === -1) {\n            head = scope;\n            tail = '';\n        }\n        else {\n            head = scope.substring(0, dotIndex);\n            tail = scope.substring(dotIndex + 1);\n        }\n        let child;\n        if (this._children.hasOwnProperty(head)) {\n            child = this._children[head];\n        }\n        else {\n            child = new ThemeTrieElement(this._mainRule.clone(), ThemeTrieElementRule.cloneArr(this._rulesWithParentScopes));\n            this._children[head] = child;\n        }\n        child.insert(scopeDepth + 1, tail, parentScopes, fontStyle, foreground, background);\n    }\n    _doInsertHere(scopeDepth, parentScopes, fontStyle, foreground, background) {\n        if (parentScopes === null) {\n            // Merge into the main rule\n            this._mainRule.acceptOverwrite(scopeDepth, fontStyle, foreground, background);\n            return;\n        }\n        // Try to merge into existing rule\n        for (let i = 0, len = this._rulesWithParentScopes.length; i < len; i++) {\n            let rule = this._rulesWithParentScopes[i];\n            if (strArrCmp(rule.parentScopes, parentScopes) === 0) {\n                // bingo! => we get to merge this into an existing one\n                rule.acceptOverwrite(scopeDepth, fontStyle, foreground, background);\n                return;\n            }\n        }\n        // Must add a new rule\n        // Inherit from main rule\n        if (fontStyle === -1 /* FontStyle.NotSet */) {\n            fontStyle = this._mainRule.fontStyle;\n        }\n        if (foreground === 0) {\n            foreground = this._mainRule.foreground;\n        }\n        if (background === 0) {\n            background = this._mainRule.background;\n        }\n        this._rulesWithParentScopes.push(new ThemeTrieElementRule(scopeDepth, parentScopes, fontStyle, foreground, background));\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nclass BasicScopeAttributes {\n    languageId;\n    tokenType;\n    constructor(languageId, tokenType) {\n        this.languageId = languageId;\n        this.tokenType = tokenType;\n    }\n}\nclass BasicScopeAttributesProvider {\n    _defaultAttributes;\n    _embeddedLanguagesMatcher;\n    constructor(initialLanguageId, embeddedLanguages) {\n        this._defaultAttributes = new BasicScopeAttributes(initialLanguageId, 8 /* OptionalStandardTokenType.NotSet */);\n        this._embeddedLanguagesMatcher = new ScopeMatcher(Object.entries(embeddedLanguages || {}));\n    }\n    getDefaultAttributes() {\n        return this._defaultAttributes;\n    }\n    getBasicScopeAttributes(scopeName) {\n        if (scopeName === null) {\n            return BasicScopeAttributesProvider._NULL_SCOPE_METADATA;\n        }\n        return this._getBasicScopeAttributes.get(scopeName);\n    }\n    static _NULL_SCOPE_METADATA = new BasicScopeAttributes(0, 0);\n    _getBasicScopeAttributes = new CachedFn((scopeName) => {\n        const languageId = this._scopeToLanguage(scopeName);\n        const standardTokenType = this._toStandardTokenType(scopeName);\n        return new BasicScopeAttributes(languageId, standardTokenType);\n    });\n    /**\n     * Given a produced TM scope, return the language that token describes or null if unknown.\n     * e.g. source.html => html, source.css.embedded.html => css, punctuation.definition.tag.html => null\n     */\n    _scopeToLanguage(scope) {\n        return this._embeddedLanguagesMatcher.match(scope) || 0;\n    }\n    _toStandardTokenType(scopeName) {\n        const m = scopeName.match(BasicScopeAttributesProvider.STANDARD_TOKEN_TYPE_REGEXP);\n        if (!m) {\n            return 8 /* OptionalStandardTokenType.NotSet */;\n        }\n        switch (m[1]) {\n            case \"comment\":\n                return 1 /* OptionalStandardTokenType.Comment */;\n            case \"string\":\n                return 2 /* OptionalStandardTokenType.String */;\n            case \"regex\":\n                return 3 /* OptionalStandardTokenType.RegEx */;\n            case \"meta.embedded\":\n                return 0 /* OptionalStandardTokenType.Other */;\n        }\n        throw new Error(\"Unexpected match for standard token type!\");\n    }\n    static STANDARD_TOKEN_TYPE_REGEXP = /\\b(comment|string|regex|meta\\.embedded)\\b/;\n}\nclass ScopeMatcher {\n    values;\n    scopesRegExp;\n    constructor(values) {\n        if (values.length === 0) {\n            this.values = null;\n            this.scopesRegExp = null;\n        }\n        else {\n            this.values = new Map(values);\n            // create the regex\n            const escapedScopes = values.map(([scopeName, value]) => escapeRegExpCharacters(scopeName));\n            escapedScopes.sort();\n            escapedScopes.reverse(); // Longest scope first\n            this.scopesRegExp = new RegExp(`^((${escapedScopes.join(\")|(\")}))($|\\\\.)`, \"\");\n        }\n    }\n    match(scope) {\n        if (!this.scopesRegExp) {\n            return undefined;\n        }\n        const m = scope.match(this.scopesRegExp);\n        if (!m) {\n            // no scopes matched\n            return undefined;\n        }\n        return this.values.get(m[1]);\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nclass TokenizeStringResult {\n    stack;\n    stoppedEarly;\n    constructor(stack, stoppedEarly) {\n        this.stack = stack;\n        this.stoppedEarly = stoppedEarly;\n    }\n}\n/**\n * Tokenize a string\n * @param grammar\n * @param lineText\n * @param isFirstLine\n * @param linePos\n * @param stack\n * @param lineTokens\n * @param checkWhileConditions\n * @param timeLimit Use `0` to indicate no time limit\n * @returns the StackElement or StackElement.TIME_LIMIT_REACHED if the time limit has been reached\n */\nfunction _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTokens, checkWhileConditions, timeLimit) {\n    const lineLength = lineText.content.length;\n    let STOP = false;\n    let anchorPosition = -1;\n    if (checkWhileConditions) {\n        const whileCheckResult = _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, lineTokens);\n        stack = whileCheckResult.stack;\n        linePos = whileCheckResult.linePos;\n        isFirstLine = whileCheckResult.isFirstLine;\n        anchorPosition = whileCheckResult.anchorPosition;\n    }\n    const startTime = Date.now();\n    while (!STOP) {\n        if (timeLimit !== 0) {\n            const elapsedTime = Date.now() - startTime;\n            if (elapsedTime > timeLimit) {\n                return new TokenizeStringResult(stack, true);\n            }\n        }\n        scanNext(); // potentially modifies linePos && anchorPosition\n    }\n    return new TokenizeStringResult(stack, false);\n    function scanNext() {\n        const r = matchRuleOrInjections(grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n        if (!r) {\n            // No match\n            lineTokens.produce(stack, lineLength);\n            STOP = true;\n            return;\n        }\n        const captureIndices = r.captureIndices;\n        const matchedRuleId = r.matchedRuleId;\n        const hasAdvanced = captureIndices && captureIndices.length > 0\n            ? captureIndices[0].end > linePos\n            : false;\n        if (matchedRuleId === endRuleId) {\n            // We matched the `end` for this rule => pop it\n            const poppedRule = stack.getRule(grammar);\n            lineTokens.produce(stack, captureIndices[0].start);\n            stack = stack.withContentNameScopesList(stack.nameScopesList);\n            handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, poppedRule.endCaptures, captureIndices);\n            lineTokens.produce(stack, captureIndices[0].end);\n            // pop\n            const popped = stack;\n            stack = stack.parent;\n            anchorPosition = popped.getAnchorPos();\n            if (!hasAdvanced && popped.getEnterPos() === linePos) {\n                // See https://github.com/Microsoft/vscode-textmate/issues/12\n                // Let's assume this was a mistake by the grammar author and the intent was to continue in this state\n                stack = popped;\n                lineTokens.produce(stack, lineLength);\n                STOP = true;\n                return;\n            }\n        }\n        else {\n            // We matched a rule!\n            const _rule = grammar.getRule(matchedRuleId);\n            lineTokens.produce(stack, captureIndices[0].start);\n            const beforePush = stack;\n            // push it on the stack rule\n            const scopeName = _rule.getName(lineText.content, captureIndices);\n            const nameScopesList = stack.contentNameScopesList.pushAttributed(scopeName, grammar);\n            stack = stack.push(matchedRuleId, linePos, anchorPosition, captureIndices[0].end === lineLength, null, nameScopesList, nameScopesList);\n            if (_rule instanceof BeginEndRule) {\n                const pushedRule = _rule;\n                handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, pushedRule.beginCaptures, captureIndices);\n                lineTokens.produce(stack, captureIndices[0].end);\n                anchorPosition = captureIndices[0].end;\n                const contentName = pushedRule.getContentName(lineText.content, captureIndices);\n                const contentNameScopesList = nameScopesList.pushAttributed(contentName, grammar);\n                stack = stack.withContentNameScopesList(contentNameScopesList);\n                if (pushedRule.endHasBackReferences) {\n                    stack = stack.withEndRule(pushedRule.getEndWithResolvedBackReferences(lineText.content, captureIndices));\n                }\n                if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {\n                    stack = stack.pop();\n                    lineTokens.produce(stack, lineLength);\n                    STOP = true;\n                    return;\n                }\n            }\n            else if (_rule instanceof BeginWhileRule) {\n                const pushedRule = _rule;\n                handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, pushedRule.beginCaptures, captureIndices);\n                lineTokens.produce(stack, captureIndices[0].end);\n                anchorPosition = captureIndices[0].end;\n                const contentName = pushedRule.getContentName(lineText.content, captureIndices);\n                const contentNameScopesList = nameScopesList.pushAttributed(contentName, grammar);\n                stack = stack.withContentNameScopesList(contentNameScopesList);\n                if (pushedRule.whileHasBackReferences) {\n                    stack = stack.withEndRule(pushedRule.getWhileWithResolvedBackReferences(lineText.content, captureIndices));\n                }\n                if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {\n                    stack = stack.pop();\n                    lineTokens.produce(stack, lineLength);\n                    STOP = true;\n                    return;\n                }\n            }\n            else {\n                const matchingRule = _rule;\n                handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, matchingRule.captures, captureIndices);\n                lineTokens.produce(stack, captureIndices[0].end);\n                // pop rule immediately since it is a MatchRule\n                stack = stack.pop();\n                if (!hasAdvanced) {\n                    stack = stack.safePop();\n                    lineTokens.produce(stack, lineLength);\n                    STOP = true;\n                    return;\n                }\n            }\n        }\n        if (captureIndices[0].end > linePos) {\n            // Advance stream\n            linePos = captureIndices[0].end;\n            isFirstLine = false;\n        }\n    }\n}\n/**\n * Walk the stack from bottom to top, and check each while condition in this order.\n * If any fails, cut off the entire stack above the failed while condition. While conditions\n * may also advance the linePosition.\n */\nfunction _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, lineTokens) {\n    let anchorPosition = (stack.beginRuleCapturedEOL ? 0 : -1);\n    const whileRules = [];\n    for (let node = stack; node; node = node.pop()) {\n        const nodeRule = node.getRule(grammar);\n        if (nodeRule instanceof BeginWhileRule) {\n            whileRules.push({\n                rule: nodeRule,\n                stack: node\n            });\n        }\n    }\n    for (let whileRule = whileRules.pop(); whileRule; whileRule = whileRules.pop()) {\n        const { ruleScanner, findOptions } = prepareRuleWhileSearch(whileRule.rule, grammar, whileRule.stack.endRule, isFirstLine, linePos === anchorPosition);\n        const r = ruleScanner.findNextMatchSync(lineText, linePos, findOptions);\n        if (r) {\n            const matchedRuleId = r.ruleId;\n            if (matchedRuleId !== whileRuleId) {\n                // we shouldn't end up here\n                stack = whileRule.stack.pop();\n                break;\n            }\n            if (r.captureIndices && r.captureIndices.length) {\n                lineTokens.produce(whileRule.stack, r.captureIndices[0].start);\n                handleCaptures(grammar, lineText, isFirstLine, whileRule.stack, lineTokens, whileRule.rule.whileCaptures, r.captureIndices);\n                lineTokens.produce(whileRule.stack, r.captureIndices[0].end);\n                anchorPosition = r.captureIndices[0].end;\n                if (r.captureIndices[0].end > linePos) {\n                    linePos = r.captureIndices[0].end;\n                    isFirstLine = false;\n                }\n            }\n        }\n        else {\n            stack = whileRule.stack.pop();\n            break;\n        }\n    }\n    return { stack: stack, linePos: linePos, anchorPosition: anchorPosition, isFirstLine: isFirstLine };\n}\nfunction matchRuleOrInjections(grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n    // Look for normal grammar rule\n    const matchResult = matchRule(grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n    // Look for injected rules\n    const injections = grammar.getInjections();\n    if (injections.length === 0) {\n        // No injections whatsoever => early return\n        return matchResult;\n    }\n    const injectionResult = matchInjections(injections, grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n    if (!injectionResult) {\n        // No injections matched => early return\n        return matchResult;\n    }\n    if (!matchResult) {\n        // Only injections matched => early return\n        return injectionResult;\n    }\n    // Decide if `matchResult` or `injectionResult` should win\n    const matchResultScore = matchResult.captureIndices[0].start;\n    const injectionResultScore = injectionResult.captureIndices[0].start;\n    if (injectionResultScore < matchResultScore || (injectionResult.priorityMatch && injectionResultScore === matchResultScore)) {\n        // injection won!\n        return injectionResult;\n    }\n    return matchResult;\n}\nfunction matchRule(grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n    const rule = stack.getRule(grammar);\n    const { ruleScanner, findOptions } = prepareRuleSearch(rule, grammar, stack.endRule, isFirstLine, linePos === anchorPosition);\n    const r = ruleScanner.findNextMatchSync(lineText, linePos, findOptions);\n    if (r) {\n        return {\n            captureIndices: r.captureIndices,\n            matchedRuleId: r.ruleId\n        };\n    }\n    return null;\n}\nfunction matchInjections(injections, grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n    // The lower the better\n    let bestMatchRating = Number.MAX_VALUE;\n    let bestMatchCaptureIndices = null;\n    let bestMatchRuleId;\n    let bestMatchResultPriority = 0;\n    const scopes = stack.contentNameScopesList.getScopeNames();\n    for (let i = 0, len = injections.length; i < len; i++) {\n        const injection = injections[i];\n        if (!injection.matcher(scopes)) {\n            // injection selector doesn't match stack\n            continue;\n        }\n        const rule = grammar.getRule(injection.ruleId);\n        const { ruleScanner, findOptions } = prepareRuleSearch(rule, grammar, null, isFirstLine, linePos === anchorPosition);\n        const matchResult = ruleScanner.findNextMatchSync(lineText, linePos, findOptions);\n        if (!matchResult) {\n            continue;\n        }\n        const matchRating = matchResult.captureIndices[0].start;\n        if (matchRating >= bestMatchRating) {\n            // Injections are sorted by priority, so the previous injection had a better or equal priority\n            continue;\n        }\n        bestMatchRating = matchRating;\n        bestMatchCaptureIndices = matchResult.captureIndices;\n        bestMatchRuleId = matchResult.ruleId;\n        bestMatchResultPriority = injection.priority;\n        if (bestMatchRating === linePos) {\n            // No more need to look at the rest of the injections.\n            break;\n        }\n    }\n    if (bestMatchCaptureIndices) {\n        return {\n            priorityMatch: bestMatchResultPriority === -1,\n            captureIndices: bestMatchCaptureIndices,\n            matchedRuleId: bestMatchRuleId\n        };\n    }\n    return null;\n}\nfunction prepareRuleSearch(rule, grammar, endRegexSource, allowA, allowG) {\n    const ruleScanner = rule.compileAG(grammar, endRegexSource, allowA, allowG);\n    return { ruleScanner, findOptions: 0 /* FindOption.None */ };\n}\nfunction prepareRuleWhileSearch(rule, grammar, endRegexSource, allowA, allowG) {\n    const ruleScanner = rule.compileWhileAG(grammar, endRegexSource, allowA, allowG);\n    return { ruleScanner, findOptions: 0 /* FindOption.None */ };\n}\nfunction handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, captures, captureIndices) {\n    if (captures.length === 0) {\n        return;\n    }\n    const lineTextContent = lineText.content;\n    const len = Math.min(captures.length, captureIndices.length);\n    const localStack = [];\n    const maxEnd = captureIndices[0].end;\n    for (let i = 0; i < len; i++) {\n        const captureRule = captures[i];\n        if (captureRule === null) {\n            // Not interested\n            continue;\n        }\n        const captureIndex = captureIndices[i];\n        if (captureIndex.length === 0) {\n            // Nothing really captured\n            continue;\n        }\n        if (captureIndex.start > maxEnd) {\n            // Capture going beyond consumed string\n            break;\n        }\n        // pop captures while needed\n        while (localStack.length > 0 && localStack[localStack.length - 1].endPos <= captureIndex.start) {\n            // pop!\n            lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, localStack[localStack.length - 1].endPos);\n            localStack.pop();\n        }\n        if (localStack.length > 0) {\n            lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, captureIndex.start);\n        }\n        else {\n            lineTokens.produce(stack, captureIndex.start);\n        }\n        if (captureRule.retokenizeCapturedWithRuleId) {\n            // the capture requires additional matching\n            const scopeName = captureRule.getName(lineTextContent, captureIndices);\n            const nameScopesList = stack.contentNameScopesList.pushAttributed(scopeName, grammar);\n            const contentName = captureRule.getContentName(lineTextContent, captureIndices);\n            const contentNameScopesList = nameScopesList.pushAttributed(contentName, grammar);\n            const stackClone = stack.push(captureRule.retokenizeCapturedWithRuleId, captureIndex.start, -1, false, null, nameScopesList, contentNameScopesList);\n            const onigSubStr = grammar.createOnigString(lineTextContent.substring(0, captureIndex.end));\n            _tokenizeString(grammar, onigSubStr, (isFirstLine && captureIndex.start === 0), captureIndex.start, stackClone, lineTokens, false, /* no time limit */ 0);\n            disposeOnigString(onigSubStr);\n            continue;\n        }\n        const captureRuleScopeName = captureRule.getName(lineTextContent, captureIndices);\n        if (captureRuleScopeName !== null) {\n            // push\n            const base = localStack.length > 0 ? localStack[localStack.length - 1].scopes : stack.contentNameScopesList;\n            const captureRuleScopesList = base.pushAttributed(captureRuleScopeName, grammar);\n            localStack.push(new LocalStackElement(captureRuleScopesList, captureIndex.end));\n        }\n    }\n    while (localStack.length > 0) {\n        // pop!\n        lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, localStack[localStack.length - 1].endPos);\n        localStack.pop();\n    }\n}\nclass LocalStackElement {\n    scopes;\n    endPos;\n    constructor(scopes, endPos) {\n        this.scopes = scopes;\n        this.endPos = endPos;\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nfunction createGrammar(scopeName, grammar, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors, grammarRepository, onigLib) {\n    return new Grammar(scopeName, grammar, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors, grammarRepository, onigLib); //TODO\n}\nfunction collectInjections(result, selector, rule, ruleFactoryHelper, grammar) {\n    const matchers = createMatchers(selector, nameMatcher);\n    const ruleId = RuleFactory.getCompiledRuleId(rule, ruleFactoryHelper, grammar.repository);\n    for (const matcher of matchers) {\n        result.push({\n            debugSelector: selector,\n            matcher: matcher.matcher,\n            ruleId: ruleId,\n            grammar: grammar,\n            priority: matcher.priority\n        });\n    }\n}\nfunction nameMatcher(identifers, scopes) {\n    if (scopes.length < identifers.length) {\n        return false;\n    }\n    let lastIndex = 0;\n    return identifers.every(identifier => {\n        for (let i = lastIndex; i < scopes.length; i++) {\n            if (scopesAreMatching(scopes[i], identifier)) {\n                lastIndex = i + 1;\n                return true;\n            }\n        }\n        return false;\n    });\n}\nfunction scopesAreMatching(thisScopeName, scopeName) {\n    if (!thisScopeName) {\n        return false;\n    }\n    if (thisScopeName === scopeName) {\n        return true;\n    }\n    const len = scopeName.length;\n    return thisScopeName.length > len && thisScopeName.substr(0, len) === scopeName && thisScopeName[len] === '.';\n}\nclass Grammar {\n    _rootScopeName;\n    balancedBracketSelectors;\n    _onigLib;\n    _rootId;\n    _lastRuleId;\n    _ruleId2desc;\n    _includedGrammars;\n    _grammarRepository;\n    _grammar;\n    _injections;\n    _basicScopeAttributesProvider;\n    _tokenTypeMatchers;\n    get themeProvider() { return this._grammarRepository; }\n    constructor(_rootScopeName, grammar, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors, grammarRepository, _onigLib) {\n        this._rootScopeName = _rootScopeName;\n        this.balancedBracketSelectors = balancedBracketSelectors;\n        this._onigLib = _onigLib;\n        this._basicScopeAttributesProvider = new BasicScopeAttributesProvider(initialLanguage, embeddedLanguages);\n        this._rootId = -1;\n        this._lastRuleId = 0;\n        this._ruleId2desc = [null];\n        this._includedGrammars = {};\n        this._grammarRepository = grammarRepository;\n        this._grammar = initGrammar(grammar, null);\n        this._injections = null;\n        this._tokenTypeMatchers = [];\n        if (tokenTypes) {\n            for (const selector of Object.keys(tokenTypes)) {\n                const matchers = createMatchers(selector, nameMatcher);\n                for (const matcher of matchers) {\n                    this._tokenTypeMatchers.push({\n                        matcher: matcher.matcher,\n                        type: tokenTypes[selector],\n                    });\n                }\n            }\n        }\n    }\n    dispose() {\n        for (const rule of this._ruleId2desc) {\n            if (rule) {\n                rule.dispose();\n            }\n        }\n    }\n    createOnigScanner(sources) {\n        return this._onigLib.createOnigScanner(sources);\n    }\n    createOnigString(sources) {\n        return this._onigLib.createOnigString(sources);\n    }\n    getMetadataForScope(scope) {\n        return this._basicScopeAttributesProvider.getBasicScopeAttributes(scope);\n    }\n    _collectInjections() {\n        const grammarRepository = {\n            lookup: (scopeName) => {\n                if (scopeName === this._rootScopeName) {\n                    return this._grammar;\n                }\n                return this.getExternalGrammar(scopeName);\n            },\n            injections: (scopeName) => {\n                return this._grammarRepository.injections(scopeName);\n            },\n        };\n        const result = [];\n        const scopeName = this._rootScopeName;\n        const grammar = grammarRepository.lookup(scopeName);\n        if (grammar) {\n            // add injections from the current grammar\n            const rawInjections = grammar.injections;\n            if (rawInjections) {\n                for (let expression in rawInjections) {\n                    collectInjections(result, expression, rawInjections[expression], this, grammar);\n                }\n            }\n            // add injection grammars contributed for the current scope\n            const injectionScopeNames = this._grammarRepository.injections(scopeName);\n            if (injectionScopeNames) {\n                injectionScopeNames.forEach((injectionScopeName) => {\n                    const injectionGrammar = this.getExternalGrammar(injectionScopeName);\n                    if (injectionGrammar) {\n                        const selector = injectionGrammar.injectionSelector;\n                        if (selector) {\n                            collectInjections(result, selector, injectionGrammar, this, injectionGrammar);\n                        }\n                    }\n                });\n            }\n        }\n        result.sort((i1, i2) => i1.priority - i2.priority); // sort by priority\n        return result;\n    }\n    getInjections() {\n        if (this._injections === null) {\n            this._injections = this._collectInjections();\n        }\n        return this._injections;\n    }\n    registerRule(factory) {\n        const id = ++this._lastRuleId;\n        const result = factory(ruleIdFromNumber(id));\n        this._ruleId2desc[id] = result;\n        return result;\n    }\n    getRule(ruleId) {\n        return this._ruleId2desc[ruleIdToNumber(ruleId)];\n    }\n    getExternalGrammar(scopeName, repository) {\n        if (this._includedGrammars[scopeName]) {\n            return this._includedGrammars[scopeName];\n        }\n        else if (this._grammarRepository) {\n            const rawIncludedGrammar = this._grammarRepository.lookup(scopeName);\n            if (rawIncludedGrammar) {\n                // console.log('LOADED GRAMMAR ' + pattern.include);\n                this._includedGrammars[scopeName] = initGrammar(rawIncludedGrammar, repository && repository.$base);\n                return this._includedGrammars[scopeName];\n            }\n        }\n        return undefined;\n    }\n    tokenizeLine(lineText, prevState, timeLimit = 0) {\n        const r = this._tokenize(lineText, prevState, false, timeLimit);\n        return {\n            tokens: r.lineTokens.getResult(r.ruleStack, r.lineLength),\n            ruleStack: r.ruleStack,\n            stoppedEarly: r.stoppedEarly,\n        };\n    }\n    tokenizeLine2(lineText, prevState, timeLimit = 0) {\n        const r = this._tokenize(lineText, prevState, true, timeLimit);\n        return {\n            tokens: r.lineTokens.getBinaryResult(r.ruleStack, r.lineLength),\n            ruleStack: r.ruleStack,\n            stoppedEarly: r.stoppedEarly,\n        };\n    }\n    _tokenize(lineText, prevState, emitBinaryTokens, timeLimit) {\n        if (this._rootId === -1) {\n            this._rootId = RuleFactory.getCompiledRuleId(this._grammar.repository.$self, this, this._grammar.repository);\n            // This ensures ids are deterministic, and thus equal in renderer and webworker.\n            this.getInjections();\n        }\n        let isFirstLine;\n        if (!prevState || prevState === StateStackImpl.NULL) {\n            isFirstLine = true;\n            const rawDefaultMetadata = this._basicScopeAttributesProvider.getDefaultAttributes();\n            const defaultStyle = this.themeProvider.getDefaults();\n            const defaultMetadata = EncodedTokenAttributes.set(0, rawDefaultMetadata.languageId, rawDefaultMetadata.tokenType, null, defaultStyle.fontStyle, defaultStyle.foregroundId, defaultStyle.backgroundId);\n            const rootScopeName = this.getRule(this._rootId).getName(null, null);\n            let scopeList;\n            if (rootScopeName) {\n                scopeList = AttributedScopeStack.createRootAndLookUpScopeName(rootScopeName, defaultMetadata, this);\n            }\n            else {\n                scopeList = AttributedScopeStack.createRoot(\"unknown\", defaultMetadata);\n            }\n            prevState = new StateStackImpl(null, this._rootId, -1, -1, false, null, scopeList, scopeList);\n        }\n        else {\n            isFirstLine = false;\n            prevState.reset();\n        }\n        lineText = lineText + \"\\n\";\n        const onigLineText = this.createOnigString(lineText);\n        const lineLength = onigLineText.content.length;\n        const lineTokens = new LineTokens(emitBinaryTokens, lineText, this._tokenTypeMatchers, this.balancedBracketSelectors);\n        const r = _tokenizeString(this, onigLineText, isFirstLine, 0, prevState, lineTokens, true, timeLimit);\n        disposeOnigString(onigLineText);\n        return {\n            lineLength: lineLength,\n            lineTokens: lineTokens,\n            ruleStack: r.stack,\n            stoppedEarly: r.stoppedEarly,\n        };\n    }\n}\nfunction initGrammar(grammar, base) {\n    grammar = clone(grammar);\n    grammar.repository = grammar.repository || {};\n    grammar.repository.$self = {\n        $vscodeTextmateLocation: grammar.$vscodeTextmateLocation,\n        patterns: grammar.patterns,\n        name: grammar.scopeName\n    };\n    grammar.repository.$base = base || grammar.repository.$self;\n    return grammar;\n}\nclass AttributedScopeStack {\n    parent;\n    scopePath;\n    tokenAttributes;\n    static fromExtension(namesScopeList, contentNameScopesList) {\n        let current = namesScopeList;\n        let scopeNames = namesScopeList?.scopePath ?? null;\n        for (const frame of contentNameScopesList) {\n            scopeNames = ScopeStack.push(scopeNames, frame.scopeNames);\n            current = new AttributedScopeStack(current, scopeNames, frame.encodedTokenAttributes);\n        }\n        return current;\n    }\n    static createRoot(scopeName, tokenAttributes) {\n        return new AttributedScopeStack(null, new ScopeStack(null, scopeName), tokenAttributes);\n    }\n    static createRootAndLookUpScopeName(scopeName, tokenAttributes, grammar) {\n        const rawRootMetadata = grammar.getMetadataForScope(scopeName);\n        const scopePath = new ScopeStack(null, scopeName);\n        const rootStyle = grammar.themeProvider.themeMatch(scopePath);\n        const resolvedTokenAttributes = AttributedScopeStack.mergeAttributes(tokenAttributes, rawRootMetadata, rootStyle);\n        return new AttributedScopeStack(null, scopePath, resolvedTokenAttributes);\n    }\n    get scopeName() { return this.scopePath.scopeName; }\n    /**\n     * Invariant:\n     * ```\n     * if (parent && !scopePath.extends(parent.scopePath)) {\n     * \tthrow new Error();\n     * }\n     * ```\n     */\n    constructor(parent, scopePath, tokenAttributes) {\n        this.parent = parent;\n        this.scopePath = scopePath;\n        this.tokenAttributes = tokenAttributes;\n    }\n    toString() {\n        return this.getScopeNames().join(' ');\n    }\n    equals(other) {\n        return AttributedScopeStack.equals(this, other);\n    }\n    static equals(a, b) {\n        do {\n            if (a === b) {\n                return true;\n            }\n            if (!a && !b) {\n                // End of list reached for both\n                return true;\n            }\n            if (!a || !b) {\n                // End of list reached only for one\n                return false;\n            }\n            if (a.scopeName !== b.scopeName || a.tokenAttributes !== b.tokenAttributes) {\n                return false;\n            }\n            // Go to previous pair\n            a = a.parent;\n            b = b.parent;\n        } while (true);\n    }\n    static mergeAttributes(existingTokenAttributes, basicScopeAttributes, styleAttributes) {\n        let fontStyle = -1 /* FontStyle.NotSet */;\n        let foreground = 0;\n        let background = 0;\n        if (styleAttributes !== null) {\n            fontStyle = styleAttributes.fontStyle;\n            foreground = styleAttributes.foregroundId;\n            background = styleAttributes.backgroundId;\n        }\n        return EncodedTokenAttributes.set(existingTokenAttributes, basicScopeAttributes.languageId, basicScopeAttributes.tokenType, null, fontStyle, foreground, background);\n    }\n    pushAttributed(scopePath, grammar) {\n        if (scopePath === null) {\n            return this;\n        }\n        if (scopePath.indexOf(' ') === -1) {\n            // This is the common case and much faster\n            return AttributedScopeStack._pushAttributed(this, scopePath, grammar);\n        }\n        const scopes = scopePath.split(/ /g);\n        let result = this;\n        for (const scope of scopes) {\n            result = AttributedScopeStack._pushAttributed(result, scope, grammar);\n        }\n        return result;\n    }\n    static _pushAttributed(target, scopeName, grammar) {\n        const rawMetadata = grammar.getMetadataForScope(scopeName);\n        const newPath = target.scopePath.push(scopeName);\n        const scopeThemeMatchResult = grammar.themeProvider.themeMatch(newPath);\n        const metadata = AttributedScopeStack.mergeAttributes(target.tokenAttributes, rawMetadata, scopeThemeMatchResult);\n        return new AttributedScopeStack(target, newPath, metadata);\n    }\n    getScopeNames() {\n        return this.scopePath.getSegments();\n    }\n    getExtensionIfDefined(base) {\n        const result = [];\n        let self = this;\n        while (self && self !== base) {\n            result.push({\n                encodedTokenAttributes: self.tokenAttributes,\n                scopeNames: self.scopePath.getExtensionIfDefined(self.parent?.scopePath ?? null),\n            });\n            self = self.parent;\n        }\n        return self === base ? result.reverse() : undefined;\n    }\n}\n/**\n * Represents a \"pushed\" state on the stack (as a linked list element).\n */\nclass StateStackImpl {\n    parent;\n    ruleId;\n    beginRuleCapturedEOL;\n    endRule;\n    nameScopesList;\n    contentNameScopesList;\n    _stackElementBrand = undefined;\n    // TODO remove me\n    static NULL = new StateStackImpl(null, 0, 0, 0, false, null, null, null);\n    /**\n     * The position on the current line where this state was pushed.\n     * This is relevant only while tokenizing a line, to detect endless loops.\n     * Its value is meaningless across lines.\n     */\n    _enterPos;\n    /**\n     * The captured anchor position when this stack element was pushed.\n     * This is relevant only while tokenizing a line, to restore the anchor position when popping.\n     * Its value is meaningless across lines.\n     */\n    _anchorPos;\n    /**\n     * The depth of the stack.\n     */\n    depth;\n    /**\n     * Invariant:\n     * ```\n     * if (contentNameScopesList !== nameScopesList && contentNameScopesList?.parent !== nameScopesList) {\n     * \tthrow new Error();\n     * }\n     * if (this.parent && !nameScopesList.extends(this.parent.contentNameScopesList)) {\n     * \tthrow new Error();\n     * }\n     * ```\n     */\n    constructor(\n    /**\n     * The previous state on the stack (or null for the root state).\n     */\n    parent, \n    /**\n     * The state (rule) that this element represents.\n     */\n    ruleId, enterPos, anchorPos, \n    /**\n     * The state has entered and captured \\n. This means that the next line should have an anchorPosition of 0.\n     */\n    beginRuleCapturedEOL, \n    /**\n     * The \"pop\" (end) condition for this state in case that it was dynamically generated through captured text.\n     */\n    endRule, \n    /**\n     * The list of scopes containing the \"name\" for this state.\n     */\n    nameScopesList, \n    /**\n     * The list of scopes containing the \"contentName\" (besides \"name\") for this state.\n     * This list **must** contain as an element `scopeName`.\n     */\n    contentNameScopesList) {\n        this.parent = parent;\n        this.ruleId = ruleId;\n        this.beginRuleCapturedEOL = beginRuleCapturedEOL;\n        this.endRule = endRule;\n        this.nameScopesList = nameScopesList;\n        this.contentNameScopesList = contentNameScopesList;\n        this.depth = this.parent ? this.parent.depth + 1 : 1;\n        this._enterPos = enterPos;\n        this._anchorPos = anchorPos;\n    }\n    equals(other) {\n        if (other === null) {\n            return false;\n        }\n        return StateStackImpl._equals(this, other);\n    }\n    static _equals(a, b) {\n        if (a === b) {\n            return true;\n        }\n        if (!this._structuralEquals(a, b)) {\n            return false;\n        }\n        return AttributedScopeStack.equals(a.contentNameScopesList, b.contentNameScopesList);\n    }\n    /**\n     * A structural equals check. Does not take into account `scopes`.\n     */\n    static _structuralEquals(a, b) {\n        do {\n            if (a === b) {\n                return true;\n            }\n            if (!a && !b) {\n                // End of list reached for both\n                return true;\n            }\n            if (!a || !b) {\n                // End of list reached only for one\n                return false;\n            }\n            if (a.depth !== b.depth ||\n                a.ruleId !== b.ruleId ||\n                a.endRule !== b.endRule) {\n                return false;\n            }\n            // Go to previous pair\n            a = a.parent;\n            b = b.parent;\n        } while (true);\n    }\n    clone() {\n        return this;\n    }\n    static _reset(el) {\n        while (el) {\n            el._enterPos = -1;\n            el._anchorPos = -1;\n            el = el.parent;\n        }\n    }\n    reset() {\n        StateStackImpl._reset(this);\n    }\n    pop() {\n        return this.parent;\n    }\n    safePop() {\n        if (this.parent) {\n            return this.parent;\n        }\n        return this;\n    }\n    push(ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList) {\n        return new StateStackImpl(this, ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList);\n    }\n    getEnterPos() {\n        return this._enterPos;\n    }\n    getAnchorPos() {\n        return this._anchorPos;\n    }\n    getRule(grammar) {\n        return grammar.getRule(this.ruleId);\n    }\n    toString() {\n        const r = [];\n        this._writeString(r, 0);\n        return \"[\" + r.join(\",\") + \"]\";\n    }\n    _writeString(res, outIndex) {\n        if (this.parent) {\n            outIndex = this.parent._writeString(res, outIndex);\n        }\n        res[outIndex++] = `(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`;\n        return outIndex;\n    }\n    withContentNameScopesList(contentNameScopeStack) {\n        if (this.contentNameScopesList === contentNameScopeStack) {\n            return this;\n        }\n        return this.parent.push(this.ruleId, this._enterPos, this._anchorPos, this.beginRuleCapturedEOL, this.endRule, this.nameScopesList, contentNameScopeStack);\n    }\n    withEndRule(endRule) {\n        if (this.endRule === endRule) {\n            return this;\n        }\n        return new StateStackImpl(this.parent, this.ruleId, this._enterPos, this._anchorPos, this.beginRuleCapturedEOL, endRule, this.nameScopesList, this.contentNameScopesList);\n    }\n    // Used to warn of endless loops\n    hasSameRuleAs(other) {\n        let el = this;\n        while (el && el._enterPos === other._enterPos) {\n            if (el.ruleId === other.ruleId) {\n                return true;\n            }\n            el = el.parent;\n        }\n        return false;\n    }\n    toStateStackFrame() {\n        return {\n            ruleId: ruleIdToNumber(this.ruleId),\n            beginRuleCapturedEOL: this.beginRuleCapturedEOL,\n            endRule: this.endRule,\n            nameScopesList: this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList ?? null) ?? [],\n            contentNameScopesList: this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList) ?? [],\n        };\n    }\n    static pushFrame(self, frame) {\n        const namesScopeList = AttributedScopeStack.fromExtension(self?.nameScopesList ?? null, frame.nameScopesList);\n        return new StateStackImpl(self, ruleIdFromNumber(frame.ruleId), frame.enterPos ?? -1, frame.anchorPos ?? -1, frame.beginRuleCapturedEOL, frame.endRule, namesScopeList, AttributedScopeStack.fromExtension(namesScopeList, frame.contentNameScopesList));\n    }\n}\nclass BalancedBracketSelectors {\n    balancedBracketScopes;\n    unbalancedBracketScopes;\n    allowAny = false;\n    constructor(balancedBracketScopes, unbalancedBracketScopes) {\n        this.balancedBracketScopes = balancedBracketScopes.flatMap((selector) => {\n            if (selector === '*') {\n                this.allowAny = true;\n                return [];\n            }\n            return createMatchers(selector, nameMatcher).map((m) => m.matcher);\n        });\n        this.unbalancedBracketScopes = unbalancedBracketScopes.flatMap((selector) => createMatchers(selector, nameMatcher).map((m) => m.matcher));\n    }\n    get matchesAlways() {\n        return this.allowAny && this.unbalancedBracketScopes.length === 0;\n    }\n    get matchesNever() {\n        return this.balancedBracketScopes.length === 0 && !this.allowAny;\n    }\n    match(scopes) {\n        for (const excluder of this.unbalancedBracketScopes) {\n            if (excluder(scopes)) {\n                return false;\n            }\n        }\n        for (const includer of this.balancedBracketScopes) {\n            if (includer(scopes)) {\n                return true;\n            }\n        }\n        return this.allowAny;\n    }\n}\nclass LineTokens {\n    balancedBracketSelectors;\n    _emitBinaryTokens;\n    /**\n     * defined only if `false`.\n     */\n    _lineText;\n    /**\n     * used only if `_emitBinaryTokens` is false.\n     */\n    _tokens;\n    /**\n     * used only if `_emitBinaryTokens` is true.\n     */\n    _binaryTokens;\n    _lastTokenEndIndex;\n    _tokenTypeOverrides;\n    constructor(emitBinaryTokens, lineText, tokenTypeOverrides, balancedBracketSelectors) {\n        this.balancedBracketSelectors = balancedBracketSelectors;\n        this._emitBinaryTokens = emitBinaryTokens;\n        this._tokenTypeOverrides = tokenTypeOverrides;\n        {\n            this._lineText = null;\n        }\n        this._tokens = [];\n        this._binaryTokens = [];\n        this._lastTokenEndIndex = 0;\n    }\n    produce(stack, endIndex) {\n        this.produceFromScopes(stack.contentNameScopesList, endIndex);\n    }\n    produceFromScopes(scopesList, endIndex) {\n        if (this._lastTokenEndIndex >= endIndex) {\n            return;\n        }\n        if (this._emitBinaryTokens) {\n            let metadata = scopesList?.tokenAttributes ?? 0;\n            let containsBalancedBrackets = false;\n            if (this.balancedBracketSelectors?.matchesAlways) {\n                containsBalancedBrackets = true;\n            }\n            if (this._tokenTypeOverrides.length > 0 || (this.balancedBracketSelectors && !this.balancedBracketSelectors.matchesAlways && !this.balancedBracketSelectors.matchesNever)) {\n                // Only generate scope array when required to improve performance\n                const scopes = scopesList?.getScopeNames() ?? [];\n                for (const tokenType of this._tokenTypeOverrides) {\n                    if (tokenType.matcher(scopes)) {\n                        metadata = EncodedTokenAttributes.set(metadata, 0, toOptionalTokenType(tokenType.type), null, -1 /* FontStyle.NotSet */, 0, 0);\n                    }\n                }\n                if (this.balancedBracketSelectors) {\n                    containsBalancedBrackets = this.balancedBracketSelectors.match(scopes);\n                }\n            }\n            if (containsBalancedBrackets) {\n                metadata = EncodedTokenAttributes.set(metadata, 0, 8 /* OptionalStandardTokenType.NotSet */, containsBalancedBrackets, -1 /* FontStyle.NotSet */, 0, 0);\n            }\n            if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 1] === metadata) {\n                // no need to push a token with the same metadata\n                this._lastTokenEndIndex = endIndex;\n                return;\n            }\n            this._binaryTokens.push(this._lastTokenEndIndex);\n            this._binaryTokens.push(metadata);\n            this._lastTokenEndIndex = endIndex;\n            return;\n        }\n        const scopes = scopesList?.getScopeNames() ?? [];\n        this._tokens.push({\n            startIndex: this._lastTokenEndIndex,\n            endIndex: endIndex,\n            // value: lineText.substring(lastTokenEndIndex, endIndex),\n            scopes: scopes\n        });\n        this._lastTokenEndIndex = endIndex;\n    }\n    getResult(stack, lineLength) {\n        if (this._tokens.length > 0 && this._tokens[this._tokens.length - 1].startIndex === lineLength - 1) {\n            // pop produced token for newline\n            this._tokens.pop();\n        }\n        if (this._tokens.length === 0) {\n            this._lastTokenEndIndex = -1;\n            this.produce(stack, lineLength);\n            this._tokens[this._tokens.length - 1].startIndex = 0;\n        }\n        return this._tokens;\n    }\n    getBinaryResult(stack, lineLength) {\n        if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 2] === lineLength - 1) {\n            // pop produced token for newline\n            this._binaryTokens.pop();\n            this._binaryTokens.pop();\n        }\n        if (this._binaryTokens.length === 0) {\n            this._lastTokenEndIndex = -1;\n            this.produce(stack, lineLength);\n            this._binaryTokens[this._binaryTokens.length - 2] = 0;\n        }\n        const result = new Uint32Array(this._binaryTokens.length);\n        for (let i = 0, len = this._binaryTokens.length; i < len; i++) {\n            result[i] = this._binaryTokens[i];\n        }\n        return result;\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nclass SyncRegistry {\n    _onigLibPromise;\n    _grammars = new Map();\n    _rawGrammars = new Map();\n    _injectionGrammars = new Map();\n    _theme;\n    constructor(theme, _onigLibPromise) {\n        this._onigLibPromise = _onigLibPromise;\n        this._theme = theme;\n    }\n    dispose() {\n        for (const grammar of this._grammars.values()) {\n            grammar.dispose();\n        }\n    }\n    setTheme(theme) {\n        this._theme = theme;\n    }\n    getColorMap() {\n        return this._theme.getColorMap();\n    }\n    /**\n     * Add `grammar` to registry and return a list of referenced scope names\n     */\n    addGrammar(grammar, injectionScopeNames) {\n        this._rawGrammars.set(grammar.scopeName, grammar);\n        if (injectionScopeNames) {\n            this._injectionGrammars.set(grammar.scopeName, injectionScopeNames);\n        }\n    }\n    /**\n     * Lookup a raw grammar.\n     */\n    lookup(scopeName) {\n        return this._rawGrammars.get(scopeName);\n    }\n    /**\n     * Returns the injections for the given grammar\n     */\n    injections(targetScope) {\n        return this._injectionGrammars.get(targetScope);\n    }\n    /**\n     * Get the default theme settings\n     */\n    getDefaults() {\n        return this._theme.getDefaults();\n    }\n    /**\n     * Match a scope in the theme.\n     */\n    themeMatch(scopePath) {\n        return this._theme.match(scopePath);\n    }\n    /**\n     * Lookup a grammar.\n     */\n    async grammarForScopeName(scopeName, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors) {\n        if (!this._grammars.has(scopeName)) {\n            let rawGrammar = this._rawGrammars.get(scopeName);\n            if (!rawGrammar) {\n                return null;\n            }\n            this._grammars.set(scopeName, createGrammar(scopeName, rawGrammar, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors, this, await this._onigLibPromise));\n        }\n        return this._grammars.get(scopeName);\n    }\n}\n\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\n/**\n * The registry that will hold all grammars.\n */\nlet Registry$1 = class Registry {\n    _options;\n    _syncRegistry;\n    _ensureGrammarCache;\n    constructor(options) {\n        this._options = options;\n        this._syncRegistry = new SyncRegistry(Theme.createFromRawTheme(options.theme, options.colorMap), options.onigLib);\n        this._ensureGrammarCache = new Map();\n    }\n    dispose() {\n        this._syncRegistry.dispose();\n    }\n    /**\n     * Change the theme. Once called, no previous `ruleStack` should be used anymore.\n     */\n    setTheme(theme, colorMap) {\n        this._syncRegistry.setTheme(Theme.createFromRawTheme(theme, colorMap));\n    }\n    /**\n     * Returns a lookup array for color ids.\n     */\n    getColorMap() {\n        return this._syncRegistry.getColorMap();\n    }\n    /**\n     * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n     * Please do not use language id 0.\n     */\n    loadGrammarWithEmbeddedLanguages(initialScopeName, initialLanguage, embeddedLanguages) {\n        return this.loadGrammarWithConfiguration(initialScopeName, initialLanguage, { embeddedLanguages });\n    }\n    /**\n     * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n     * Please do not use language id 0.\n     */\n    loadGrammarWithConfiguration(initialScopeName, initialLanguage, configuration) {\n        return this._loadGrammar(initialScopeName, initialLanguage, configuration.embeddedLanguages, configuration.tokenTypes, new BalancedBracketSelectors(configuration.balancedBracketSelectors || [], configuration.unbalancedBracketSelectors || []));\n    }\n    /**\n     * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n     */\n    loadGrammar(initialScopeName) {\n        return this._loadGrammar(initialScopeName, 0, null, null, null);\n    }\n    async _loadGrammar(initialScopeName, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors) {\n        const dependencyProcessor = new ScopeDependencyProcessor(this._syncRegistry, initialScopeName);\n        while (dependencyProcessor.Q.length > 0) {\n            await Promise.all(dependencyProcessor.Q.map((request) => this._loadSingleGrammar(request.scopeName)));\n            dependencyProcessor.processQueue();\n        }\n        return this._grammarForScopeName(initialScopeName, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors);\n    }\n    async _loadSingleGrammar(scopeName) {\n        if (!this._ensureGrammarCache.has(scopeName)) {\n            this._ensureGrammarCache.set(scopeName, this._doLoadSingleGrammar(scopeName));\n        }\n        return this._ensureGrammarCache.get(scopeName);\n    }\n    async _doLoadSingleGrammar(scopeName) {\n        const grammar = await this._options.loadGrammar(scopeName);\n        if (grammar) {\n            const injections = typeof this._options.getInjections === \"function\" ? this._options.getInjections(scopeName) : undefined;\n            this._syncRegistry.addGrammar(grammar, injections);\n        }\n    }\n    /**\n     * Adds a rawGrammar.\n     */\n    async addGrammar(rawGrammar, injections = [], initialLanguage = 0, embeddedLanguages = null) {\n        this._syncRegistry.addGrammar(rawGrammar, injections);\n        return (await this._grammarForScopeName(rawGrammar.scopeName, initialLanguage, embeddedLanguages));\n    }\n    /**\n     * Get the grammar for `scopeName`. The grammar must first be created via `loadGrammar` or `addGrammar`.\n     */\n    _grammarForScopeName(scopeName, initialLanguage = 0, embeddedLanguages = null, tokenTypes = null, balancedBracketSelectors = null) {\n        return this._syncRegistry.grammarForScopeName(scopeName, initialLanguage, embeddedLanguages, tokenTypes, balancedBracketSelectors);\n    }\n};\nconst INITIAL = StateStackImpl.NULL;\n\n/**\n * Helpers to manage the \"collapsed\" metadata of an entire StackElement stack.\n * The following assumptions have been made:\n *  - languageId < 256 => needs 8 bits\n *  - unique color count < 512 => needs 9 bits\n *\n * The binary format is:\n * - -------------------------------------------\n *     3322 2222 2222 1111 1111 1100 0000 0000\n *     1098 7654 3210 9876 5432 1098 7654 3210\n * - -------------------------------------------\n *     xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx\n *     bbbb bbbb bfff ffff ffFF FTTT LLLL LLLL\n * - -------------------------------------------\n *  - L = LanguageId (8 bits)\n *  - T = StandardTokenType (3 bits)\n *  - F = FontStyle (3 bits)\n *  - f = foreground color (9 bits)\n *  - b = background color (9 bits)\n */\nconst MetadataConsts = {\n    LANGUAGEID_MASK: 0b00000000000000000000000011111111,\n    TOKEN_TYPE_MASK: 0b00000000000000000000001100000000,\n    BALANCED_BRACKETS_MASK: 0b00000000000000000000010000000000,\n    FONT_STYLE_MASK: 0b00000000000000000011100000000000,\n    FOREGROUND_MASK: 0b00000000011111111100000000000000,\n    BACKGROUND_MASK: 0b11111111100000000000000000000000,\n    LANGUAGEID_OFFSET: 0,\n    TOKEN_TYPE_OFFSET: 8,\n    BALANCED_BRACKETS_OFFSET: 10,\n    FONT_STYLE_OFFSET: 11,\n    FOREGROUND_OFFSET: 15,\n    BACKGROUND_OFFSET: 24,\n};\nclass StackElementMetadata {\n    static toBinaryStr(metadata) {\n        let r = metadata.toString(2);\n        while (r.length < 32)\n            r = `0${r}`;\n        return r;\n    }\n    // public static printMetadata(metadata: number): void {\n    //   const languageId = StackElementMetadata.getLanguageId(metadata)\n    //   const tokenType = StackElementMetadata.getTokenType(metadata)\n    //   const fontStyle = StackElementMetadata.getFontStyle(metadata)\n    //   const foreground = StackElementMetadata.getForeground(metadata)\n    //   const background = StackElementMetadata.getBackground(metadata)\n    //   console.log({\n    //     languageId,\n    //     tokenType,\n    //     fontStyle,\n    //     foreground,\n    //     background,\n    //   })\n    // }\n    static getLanguageId(metadata) {\n        return (metadata & MetadataConsts.LANGUAGEID_MASK) >>> MetadataConsts.LANGUAGEID_OFFSET;\n    }\n    static getTokenType(metadata) {\n        return (metadata & MetadataConsts.TOKEN_TYPE_MASK) >>> MetadataConsts.TOKEN_TYPE_OFFSET;\n    }\n    static getFontStyle(metadata) {\n        return (metadata & MetadataConsts.FONT_STYLE_MASK) >>> MetadataConsts.FONT_STYLE_OFFSET;\n    }\n    static getForeground(metadata) {\n        return (metadata & MetadataConsts.FOREGROUND_MASK) >>> MetadataConsts.FOREGROUND_OFFSET;\n    }\n    static getBackground(metadata) {\n        return (metadata & MetadataConsts.BACKGROUND_MASK) >>> MetadataConsts.BACKGROUND_OFFSET;\n    }\n    static containsBalancedBrackets(metadata) {\n        return (metadata & MetadataConsts.BALANCED_BRACKETS_MASK) !== 0;\n    }\n    static set(metadata, languageId, tokenType, fontStyle, foreground, background) {\n        let _languageId = StackElementMetadata.getLanguageId(metadata);\n        let _tokenType = StackElementMetadata.getTokenType(metadata);\n        let _fontStyle = StackElementMetadata.getFontStyle(metadata);\n        let _foreground = StackElementMetadata.getForeground(metadata);\n        let _background = StackElementMetadata.getBackground(metadata);\n        const _containsBalancedBracketsBit = StackElementMetadata.containsBalancedBrackets(metadata)\n            ? 1\n            : 0;\n        if (languageId !== 0)\n            _languageId = languageId;\n        if (tokenType !== 0 /* TemporaryStandardTokenType.Other */) {\n            _tokenType\n                = tokenType === 8 /* TemporaryStandardTokenType.MetaEmbedded */ ? 0 /* StandardTokenType.Other */ : tokenType;\n        }\n        if (fontStyle !== _types_mjs__WEBPACK_IMPORTED_MODULE_0__.FontStyle.NotSet)\n            _fontStyle = fontStyle;\n        if (foreground !== 0)\n            _foreground = foreground;\n        if (background !== 0)\n            _background = background;\n        return (((_languageId << MetadataConsts.LANGUAGEID_OFFSET)\n            | (_tokenType << MetadataConsts.TOKEN_TYPE_OFFSET)\n            | (_fontStyle << MetadataConsts.FONT_STYLE_OFFSET)\n            | (_containsBalancedBracketsBit << MetadataConsts.BALANCED_BRACKETS_OFFSET)\n            | (_foreground << MetadataConsts.FOREGROUND_OFFSET)\n            | (_background << MetadataConsts.BACKGROUND_OFFSET))\n            >>> 0);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppLWNvcmVAMC4xMC4yL25vZGVfbW9kdWxlcy9zaGlraWppLWNvcmUvZGlzdC90ZXh0bWF0ZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE9BQU8sc0JBQXNCLE9BQU87QUFDN0QsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdEQUF3RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU87QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbUJBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGtDQUFrQyxHQUFHLG9CQUFvQjtBQUN0RyxrQkFBa0Isc0JBQXNCLEdBQUcsU0FBUyxJQUFJLFNBQVM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixXQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxXQUFXO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFNBQVM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxVQUFVO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFVBQVU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELFNBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELE1BQU07QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNCQUFzQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxTQUFTO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRztBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLGlEQUFpRCwwQkFBMEI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsTUFBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RCxnQkFBZ0IsMkJBQTJCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwyQkFBMkI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0pBQWtKO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQkFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsWUFBWSxJQUFJLGdDQUFnQyxJQUFJLHVDQUF1QztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsU0FBUztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRixtQkFBbUI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEVBQUU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpREFBUztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVpRSIsInNvdXJjZXMiOlsiL1VzZXJzL2FjYm94bGl1L3Byb2plY3RzL2Jpam9uL2VjaG9haS9ub2RlX21vZHVsZXMvLnBucG0vc2hpa2lqaS1jb3JlQDAuMTAuMi9ub2RlX21vZHVsZXMvc2hpa2lqaS1jb3JlL2Rpc3QvdGV4dG1hdGUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZvbnRTdHlsZSB9IGZyb20gJy4vdHlwZXMubWpzJztcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoQykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4oe1xuICAgIEluRGVidWdNb2RlOiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICEhcHJvY2Vzcy5lbnZbJ1ZTQ09ERV9URVhUTUFURV9ERUJVRyddKVxufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xudmFyIEVuY29kZWRUb2tlbkF0dHJpYnV0ZXM7XG4oZnVuY3Rpb24gKEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpIHtcbiAgICBmdW5jdGlvbiB0b0JpbmFyeVN0cihlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLnRvU3RyaW5nKDIpLnBhZFN0YXJ0KDMyLCBcIjBcIik7XG4gICAgfVxuICAgIEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMudG9CaW5hcnlTdHIgPSB0b0JpbmFyeVN0cjtcbiAgICBmdW5jdGlvbiBwcmludChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmdldExhbmd1YWdlSWQoZW5jb2RlZFRva2VuQXR0cmlidXRlcyk7XG4gICAgICAgIGNvbnN0IHRva2VuVHlwZSA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0VG9rZW5UeXBlKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBmb250U3R5bGUgPSBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmdldEZvbnRTdHlsZShlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgZm9yZWdyb3VuZCA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0Rm9yZWdyb3VuZChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0QmFja2dyb3VuZChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKTtcbiAgICAgICAgY29uc29sZS5sb2coe1xuICAgICAgICAgICAgbGFuZ3VhZ2VJZDogbGFuZ3VhZ2VJZCxcbiAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlLFxuICAgICAgICAgICAgZm9udFN0eWxlOiBmb250U3R5bGUsXG4gICAgICAgICAgICBmb3JlZ3JvdW5kOiBmb3JlZ3JvdW5kLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMucHJpbnQgPSBwcmludDtcbiAgICBmdW5jdGlvbiBnZXRMYW5ndWFnZUlkKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuICgoZW5jb2RlZFRva2VuQXR0cmlidXRlcyAmIDI1NSAvKiBFbmNvZGVkVG9rZW5EYXRhQ29uc3RzLkxBTkdVQUdFSURfTUFTSyAqLykgPj4+XG4gICAgICAgICAgICAwIC8qIEVuY29kZWRUb2tlbkRhdGFDb25zdHMuTEFOR1VBR0VJRF9PRkZTRVQgKi8pO1xuICAgIH1cbiAgICBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmdldExhbmd1YWdlSWQgPSBnZXRMYW5ndWFnZUlkO1xuICAgIGZ1bmN0aW9uIGdldFRva2VuVHlwZShlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiAoKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMgJiA3NjggLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5UT0tFTl9UWVBFX01BU0sgKi8pID4+PlxuICAgICAgICAgICAgOCAvKiBFbmNvZGVkVG9rZW5EYXRhQ29uc3RzLlRPS0VOX1RZUEVfT0ZGU0VUICovKTtcbiAgICB9XG4gICAgRW5jb2RlZFRva2VuQXR0cmlidXRlcy5nZXRUb2tlblR5cGUgPSBnZXRUb2tlblR5cGU7XG4gICAgZnVuY3Rpb24gY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzICYgMTAyNCAvKiBFbmNvZGVkVG9rZW5EYXRhQ29uc3RzLkJBTEFOQ0VEX0JSQUNLRVRTX01BU0sgKi8pICE9PSAwO1xuICAgIH1cbiAgICBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmNvbnRhaW5zQmFsYW5jZWRCcmFja2V0cyA9IGNvbnRhaW5zQmFsYW5jZWRCcmFja2V0cztcbiAgICBmdW5jdGlvbiBnZXRGb250U3R5bGUoZW5jb2RlZFRva2VuQXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gKChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzICYgMzA3MjAgLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5GT05UX1NUWUxFX01BU0sgKi8pID4+PlxuICAgICAgICAgICAgMTEgLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5GT05UX1NUWUxFX09GRlNFVCAqLyk7XG4gICAgfVxuICAgIEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0Rm9udFN0eWxlID0gZ2V0Rm9udFN0eWxlO1xuICAgIGZ1bmN0aW9uIGdldEZvcmVncm91bmQoZW5jb2RlZFRva2VuQXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gKChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzICYgMTY3NDQ0NDggLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5GT1JFR1JPVU5EX01BU0sgKi8pID4+PlxuICAgICAgICAgICAgMTUgLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5GT1JFR1JPVU5EX09GRlNFVCAqLyk7XG4gICAgfVxuICAgIEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0Rm9yZWdyb3VuZCA9IGdldEZvcmVncm91bmQ7XG4gICAgZnVuY3Rpb24gZ2V0QmFja2dyb3VuZChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiAoKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMgJiA0Mjc4MTkwMDgwIC8qIEVuY29kZWRUb2tlbkRhdGFDb25zdHMuQkFDS0dST1VORF9NQVNLICovKSA+Pj5cbiAgICAgICAgICAgIDI0IC8qIEVuY29kZWRUb2tlbkRhdGFDb25zdHMuQkFDS0dST1VORF9PRkZTRVQgKi8pO1xuICAgIH1cbiAgICBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmdldEJhY2tncm91bmQgPSBnZXRCYWNrZ3JvdW5kO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGZpZWxkcyBpbiBgbWV0YWRhdGFgLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgLCBgTm90U2V0YCBvciBgbnVsbGAgaW5kaWNhdGVzIHRoYXQgdGhlIGNvcnJlc3BvbmRpbmcgZmllbGQgc2hvdWxkIGJlIGxlZnQgYXMgaXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMsIGxhbmd1YWdlSWQsIHRva2VuVHlwZSwgY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzLCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgICAgICAgbGV0IF9sYW5ndWFnZUlkID0gRW5jb2RlZFRva2VuQXR0cmlidXRlcy5nZXRMYW5ndWFnZUlkKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpO1xuICAgICAgICBsZXQgX3Rva2VuVHlwZSA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0VG9rZW5UeXBlKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpO1xuICAgICAgICBsZXQgX2NvbnRhaW5zQmFsYW5jZWRCcmFja2V0c0JpdCA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpID8gMSA6IDA7XG4gICAgICAgIGxldCBfZm9udFN0eWxlID0gRW5jb2RlZFRva2VuQXR0cmlidXRlcy5nZXRGb250U3R5bGUoZW5jb2RlZFRva2VuQXR0cmlidXRlcyk7XG4gICAgICAgIGxldCBfZm9yZWdyb3VuZCA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuZ2V0Rm9yZWdyb3VuZChlbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKTtcbiAgICAgICAgbGV0IF9iYWNrZ3JvdW5kID0gRW5jb2RlZFRva2VuQXR0cmlidXRlcy5nZXRCYWNrZ3JvdW5kKGVuY29kZWRUb2tlbkF0dHJpYnV0ZXMpO1xuICAgICAgICBpZiAobGFuZ3VhZ2VJZCAhPT0gMCkge1xuICAgICAgICAgICAgX2xhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlblR5cGUgIT09IDggLyogT3B0aW9uYWxTdGFuZGFyZFRva2VuVHlwZS5Ob3RTZXQgKi8pIHtcbiAgICAgICAgICAgIF90b2tlblR5cGUgPSBmcm9tT3B0aW9uYWxUb2tlblR5cGUodG9rZW5UeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBfY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzQml0ID0gY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzID8gMSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvbnRTdHlsZSAhPT0gLTEgLyogRm9udFN0eWxlLk5vdFNldCAqLykge1xuICAgICAgICAgICAgX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9yZWdyb3VuZCAhPT0gMCkge1xuICAgICAgICAgICAgX2ZvcmVncm91bmQgPSBmb3JlZ3JvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kICE9PSAwKSB7XG4gICAgICAgICAgICBfYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgoKF9sYW5ndWFnZUlkIDw8IDAgLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5MQU5HVUFHRUlEX09GRlNFVCAqLykgfFxuICAgICAgICAgICAgKF90b2tlblR5cGUgPDwgOCAvKiBFbmNvZGVkVG9rZW5EYXRhQ29uc3RzLlRPS0VOX1RZUEVfT0ZGU0VUICovKSB8XG4gICAgICAgICAgICAoX2NvbnRhaW5zQmFsYW5jZWRCcmFja2V0c0JpdCA8PFxuICAgICAgICAgICAgICAgIDEwIC8qIEVuY29kZWRUb2tlbkRhdGFDb25zdHMuQkFMQU5DRURfQlJBQ0tFVFNfT0ZGU0VUICovKSB8XG4gICAgICAgICAgICAoX2ZvbnRTdHlsZSA8PCAxMSAvKiBFbmNvZGVkVG9rZW5EYXRhQ29uc3RzLkZPTlRfU1RZTEVfT0ZGU0VUICovKSB8XG4gICAgICAgICAgICAoX2ZvcmVncm91bmQgPDwgMTUgLyogRW5jb2RlZFRva2VuRGF0YUNvbnN0cy5GT1JFR1JPVU5EX09GRlNFVCAqLykgfFxuICAgICAgICAgICAgKF9iYWNrZ3JvdW5kIDw8IDI0IC8qIEVuY29kZWRUb2tlbkRhdGFDb25zdHMuQkFDS0dST1VORF9PRkZTRVQgKi8pKSA+Pj5cbiAgICAgICAgICAgIDApO1xuICAgIH1cbiAgICBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLnNldCA9IHNldDtcbn0pKEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMgfHwgKEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMgPSB7fSkpO1xuZnVuY3Rpb24gdG9PcHRpb25hbFRva2VuVHlwZShzdGFuZGFyZFR5cGUpIHtcbiAgICByZXR1cm4gc3RhbmRhcmRUeXBlO1xufVxuZnVuY3Rpb24gZnJvbU9wdGlvbmFsVG9rZW5UeXBlKHN0YW5kYXJkVHlwZSkge1xuICAgIHJldHVybiBzdGFuZGFyZFR5cGU7XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZnVuY3Rpb24gY3JlYXRlTWF0Y2hlcnMoc2VsZWN0b3IsIG1hdGNoZXNOYW1lKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IHRva2VuaXplciA9IG5ld1Rva2VuaXplcihzZWxlY3Rvcik7XG4gICAgbGV0IHRva2VuID0gdG9rZW5pemVyLm5leHQoKTtcbiAgICB3aGlsZSAodG9rZW4gIT09IG51bGwpIHtcbiAgICAgICAgbGV0IHByaW9yaXR5ID0gMDtcbiAgICAgICAgaWYgKHRva2VuLmxlbmd0aCA9PT0gMiAmJiB0b2tlbi5jaGFyQXQoMSkgPT09ICc6Jykge1xuICAgICAgICAgICAgc3dpdGNoICh0b2tlbi5jaGFyQXQoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdSJzpcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFVua25vd24gcHJpb3JpdHkgJHt0b2tlbn0gaW4gc2NvcGUgc2VsZWN0b3JgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF0Y2hlciA9IHBhcnNlQ29uanVuY3Rpb24oKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHsgbWF0Y2hlciwgcHJpb3JpdHkgfSk7XG4gICAgICAgIGlmICh0b2tlbiAhPT0gJywnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0b2tlbiA9IHRva2VuaXplci5uZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICAgIGZ1bmN0aW9uIHBhcnNlT3BlcmFuZCgpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSAnLScpIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb25Ub05lZ2F0ZSA9IHBhcnNlT3BlcmFuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJJbnB1dCA9PiAhIWV4cHJlc3Npb25Ub05lZ2F0ZSAmJiAhZXhwcmVzc2lvblRvTmVnYXRlKG1hdGNoZXJJbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuID09PSAnKCcpIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb25JblBhcmVudHMgPSBwYXJzZUlubmVyRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHRva2VuID09PSAnKScpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvbkluUGFyZW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJZGVudGlmaWVyKHRva2VuKSkge1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllcnMgPSBbXTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVycy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci5uZXh0KCk7XG4gICAgICAgICAgICB9IHdoaWxlIChpc0lkZW50aWZpZXIodG9rZW4pKTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVySW5wdXQgPT4gbWF0Y2hlc05hbWUoaWRlbnRpZmllcnMsIG1hdGNoZXJJbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlQ29uanVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXJzID0gW107XG4gICAgICAgIGxldCBtYXRjaGVyID0gcGFyc2VPcGVyYW5kKCk7XG4gICAgICAgIHdoaWxlIChtYXRjaGVyKSB7XG4gICAgICAgICAgICBtYXRjaGVycy5wdXNoKG1hdGNoZXIpO1xuICAgICAgICAgICAgbWF0Y2hlciA9IHBhcnNlT3BlcmFuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaGVySW5wdXQgPT4gbWF0Y2hlcnMuZXZlcnkobWF0Y2hlciA9PiBtYXRjaGVyKG1hdGNoZXJJbnB1dCkpOyAvLyBhbmRcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VJbm5lckV4cHJlc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXJzID0gW107XG4gICAgICAgIGxldCBtYXRjaGVyID0gcGFyc2VDb25qdW5jdGlvbigpO1xuICAgICAgICB3aGlsZSAobWF0Y2hlcikge1xuICAgICAgICAgICAgbWF0Y2hlcnMucHVzaChtYXRjaGVyKTtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3wnIHx8IHRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlICh0b2tlbiA9PT0gJ3wnIHx8IHRva2VuID09PSAnLCcpOyAvLyBpZ25vcmUgc3Vic2VxdWVudCBjb21tYXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2hlciA9IHBhcnNlQ29uanVuY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hlcklucHV0ID0+IG1hdGNoZXJzLnNvbWUobWF0Y2hlciA9PiBtYXRjaGVyKG1hdGNoZXJJbnB1dCkpOyAvLyBvclxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSWRlbnRpZmllcih0b2tlbikge1xuICAgIHJldHVybiAhIXRva2VuICYmICEhdG9rZW4ubWF0Y2goL1tcXHdcXC46XSsvKTtcbn1cbmZ1bmN0aW9uIG5ld1Rva2VuaXplcihpbnB1dCkge1xuICAgIGxldCByZWdleCA9IC8oW0xSXTp8W1xcd1xcLjpdW1xcd1xcLjpcXC1dKnxbXFwsXFx8XFwtXFwoXFwpXSkvZztcbiAgICBsZXQgbWF0Y2ggPSByZWdleC5leGVjKGlucHV0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXMgPSBtYXRjaFswXTtcbiAgICAgICAgICAgIG1hdGNoID0gcmVnZXguZXhlYyhpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoQykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5mdW5jdGlvbiBkaXNwb3NlT25pZ1N0cmluZyhzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ci5kaXNwb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHN0ci5kaXNwb3NlKCk7XG4gICAgfVxufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChDKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIGNsb25lKHNvbWV0aGluZykge1xuICAgIHJldHVybiBkb0Nsb25lKHNvbWV0aGluZyk7XG59XG5mdW5jdGlvbiBkb0Nsb25lKHNvbWV0aGluZykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNvbWV0aGluZykpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lQXJyYXkoc29tZXRoaW5nKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb21ldGhpbmcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBjbG9uZU9iaihzb21ldGhpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gc29tZXRoaW5nO1xufVxuZnVuY3Rpb24gY2xvbmVBcnJheShhcnIpIHtcbiAgICBsZXQgciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcltpXSA9IGRvQ2xvbmUoYXJyW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBjbG9uZU9iaihvYmopIHtcbiAgICBsZXQgciA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICAgICAgcltrZXldID0gZG9DbG9uZShvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RzKHRhcmdldCwgLi4uc291cmNlcykge1xuICAgIHNvdXJjZXMuZm9yRWFjaChzb3VyY2UgPT4ge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgpIHtcbiAgICBjb25zdCBpZHggPSB+cGF0aC5sYXN0SW5kZXhPZignLycpIHx8IH5wYXRoLmxhc3RJbmRleE9mKCdcXFxcJyk7XG4gICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAofmlkeCA9PT0gcGF0aC5sZW5ndGggLSAxKSB7XG4gICAgICAgIHJldHVybiBiYXNlbmFtZShwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDEpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXRoLnN1YnN0cih+aWR4ICsgMSk7XG4gICAgfVxufVxubGV0IENBUFRVUklOR19SRUdFWF9TT1VSQ0UgPSAvXFwkKFxcZCspfFxcJHsoXFxkKyk6XFwvKGRvd25jYXNlfHVwY2FzZSl9L2c7XG5jbGFzcyBSZWdleFNvdXJjZSB7XG4gICAgc3RhdGljIGhhc0NhcHR1cmVzKHJlZ2V4U291cmNlKSB7XG4gICAgICAgIGlmIChyZWdleFNvdXJjZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIENBUFRVUklOR19SRUdFWF9TT1VSQ0UubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIENBUFRVUklOR19SRUdFWF9TT1VSQ0UudGVzdChyZWdleFNvdXJjZSk7XG4gICAgfVxuICAgIHN0YXRpYyByZXBsYWNlQ2FwdHVyZXMocmVnZXhTb3VyY2UsIGNhcHR1cmVTb3VyY2UsIGNhcHR1cmVJbmRpY2VzKSB7XG4gICAgICAgIHJldHVybiByZWdleFNvdXJjZS5yZXBsYWNlKENBUFRVUklOR19SRUdFWF9TT1VSQ0UsIChtYXRjaCwgaW5kZXgsIGNvbW1hbmRJbmRleCwgY29tbWFuZCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNhcHR1cmUgPSBjYXB0dXJlSW5kaWNlc1twYXJzZUludChpbmRleCB8fCBjb21tYW5kSW5kZXgsIDEwKV07XG4gICAgICAgICAgICBpZiAoY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjYXB0dXJlU291cmNlLnN1YnN0cmluZyhjYXB0dXJlLnN0YXJ0LCBjYXB0dXJlLmVuZCk7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZG90cyB0aGF0IHdvdWxkIG1ha2UgdGhlIHNlbGVjdG9yIGludmFsaWRcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVzdWx0WzBdID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rvd25jYXNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndXBjYXNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBzdHJjbXAoYSwgYikge1xuICAgIGlmIChhIDwgYikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhID4gYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBzdHJBcnJDbXAoYSwgYikge1xuICAgIGlmIChhID09PSBudWxsICYmIGIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICghYSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmICghYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgbGV0IGxlbjEgPSBhLmxlbmd0aDtcbiAgICBsZXQgbGVuMiA9IGIubGVuZ3RoO1xuICAgIGlmIChsZW4xID09PSBsZW4yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuMTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gc3RyY21wKGFbaV0sIGJbaV0pO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBsZW4xIC0gbGVuMjtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRIZXhDb2xvcihoZXgpIHtcbiAgICBpZiAoL14jWzAtOWEtZl17Nn0kL2kudGVzdChoZXgpKSB7XG4gICAgICAgIC8vICNycmdnYmJcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgvXiNbMC05YS1mXXs4fSQvaS50ZXN0KGhleCkpIHtcbiAgICAgICAgLy8gI3JyZ2diYmFhXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoL14jWzAtOWEtZl17M30kL2kudGVzdChoZXgpKSB7XG4gICAgICAgIC8vICNyZ2JcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgvXiNbMC05YS1mXXs0fSQvaS50ZXN0KGhleCkpIHtcbiAgICAgICAgLy8gI3JnYmFcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogRXNjYXBlcyByZWd1bGFyIGV4cHJlc3Npb24gY2hhcmFjdGVycyBpbiBhIGdpdmVuIHN0cmluZ1xuICovXG5mdW5jdGlvbiBlc2NhcGVSZWdFeHBDaGFyYWN0ZXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1tcXC1cXFxcXFx7XFx9XFwqXFwrXFw/XFx8XFxeXFwkXFwuXFwsXFxbXFxdXFwoXFwpXFwjXFxzXS9nLCAnXFxcXCQmJyk7XG59XG5jbGFzcyBDYWNoZWRGbiB7XG4gICAgZm47XG4gICAgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgY29uc3RydWN0b3IoZm4pIHtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZm4oa2V5KTtcbiAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyoqXG4gKiBSZWZlcmVuY2VzIHRoZSB0b3AgbGV2ZWwgcnVsZSBvZiBhIGdyYW1tYXIgd2l0aCB0aGUgZ2l2ZW4gc2NvcGUgbmFtZS5cbiovXG5jbGFzcyBUb3BMZXZlbFJ1bGVSZWZlcmVuY2Uge1xuICAgIHNjb3BlTmFtZTtcbiAgICBjb25zdHJ1Y3RvcihzY29wZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zY29wZU5hbWUgPSBzY29wZU5hbWU7XG4gICAgfVxuICAgIHRvS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZU5hbWU7XG4gICAgfVxufVxuLyoqXG4gKiBSZWZlcmVuY2VzIGEgcnVsZSBvZiBhIGdyYW1tYXIgaW4gdGhlIHRvcCBsZXZlbCByZXBvc2l0b3J5IHNlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiovXG5jbGFzcyBUb3BMZXZlbFJlcG9zaXRvcnlSdWxlUmVmZXJlbmNlIHtcbiAgICBzY29wZU5hbWU7XG4gICAgcnVsZU5hbWU7XG4gICAgY29uc3RydWN0b3Ioc2NvcGVOYW1lLCBydWxlTmFtZSkge1xuICAgICAgICB0aGlzLnNjb3BlTmFtZSA9IHNjb3BlTmFtZTtcbiAgICAgICAgdGhpcy5ydWxlTmFtZSA9IHJ1bGVOYW1lO1xuICAgIH1cbiAgICB0b0tleSgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuc2NvcGVOYW1lfSMke3RoaXMucnVsZU5hbWV9YDtcbiAgICB9XG59XG5jbGFzcyBFeHRlcm5hbFJlZmVyZW5jZUNvbGxlY3RvciB7XG4gICAgX3JlZmVyZW5jZXMgPSBbXTtcbiAgICBfc2VlblJlZmVyZW5jZUtleXMgPSBuZXcgU2V0KCk7XG4gICAgZ2V0IHJlZmVyZW5jZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZlcmVuY2VzO1xuICAgIH1cbiAgICB2aXNpdGVkUnVsZSA9IG5ldyBTZXQoKTtcbiAgICBhZGQocmVmZXJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHJlZmVyZW5jZS50b0tleSgpO1xuICAgICAgICBpZiAodGhpcy5fc2VlblJlZmVyZW5jZUtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZWVuUmVmZXJlbmNlS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlcy5wdXNoKHJlZmVyZW5jZSk7XG4gICAgfVxufVxuY2xhc3MgU2NvcGVEZXBlbmRlbmN5UHJvY2Vzc29yIHtcbiAgICByZXBvO1xuICAgIGluaXRpYWxTY29wZU5hbWU7XG4gICAgc2VlbkZ1bGxTY29wZVJlcXVlc3RzID0gbmV3IFNldCgpO1xuICAgIHNlZW5QYXJ0aWFsU2NvcGVSZXF1ZXN0cyA9IG5ldyBTZXQoKTtcbiAgICBRO1xuICAgIGNvbnN0cnVjdG9yKHJlcG8sIGluaXRpYWxTY29wZU5hbWUpIHtcbiAgICAgICAgdGhpcy5yZXBvID0gcmVwbztcbiAgICAgICAgdGhpcy5pbml0aWFsU2NvcGVOYW1lID0gaW5pdGlhbFNjb3BlTmFtZTtcbiAgICAgICAgdGhpcy5zZWVuRnVsbFNjb3BlUmVxdWVzdHMuYWRkKHRoaXMuaW5pdGlhbFNjb3BlTmFtZSk7XG4gICAgICAgIHRoaXMuUSA9IFtuZXcgVG9wTGV2ZWxSdWxlUmVmZXJlbmNlKHRoaXMuaW5pdGlhbFNjb3BlTmFtZSldO1xuICAgIH1cbiAgICBwcm9jZXNzUXVldWUoKSB7XG4gICAgICAgIGNvbnN0IHEgPSB0aGlzLlE7XG4gICAgICAgIHRoaXMuUSA9IFtdO1xuICAgICAgICBjb25zdCBkZXBzID0gbmV3IEV4dGVybmFsUmVmZXJlbmNlQ29sbGVjdG9yKCk7XG4gICAgICAgIGZvciAoY29uc3QgZGVwIG9mIHEpIHtcbiAgICAgICAgICAgIGNvbGxlY3RSZWZlcmVuY2VzT2ZSZWZlcmVuY2UoZGVwLCB0aGlzLmluaXRpYWxTY29wZU5hbWUsIHRoaXMucmVwbywgZGVwcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBkZXAgb2YgZGVwcy5yZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICBpZiAoZGVwIGluc3RhbmNlb2YgVG9wTGV2ZWxSdWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VlbkZ1bGxTY29wZVJlcXVlc3RzLmhhcyhkZXAuc2NvcGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVuRnVsbFNjb3BlUmVxdWVzdHMuYWRkKGRlcC5zY29wZU5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuUS5wdXNoKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWVuRnVsbFNjb3BlUmVxdWVzdHMuaGFzKGRlcC5zY29wZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgcHJvY2Vzc2VkIGluIGZ1bGxcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlZW5QYXJ0aWFsU2NvcGVSZXF1ZXN0cy5oYXMoZGVwLnRvS2V5KCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlZW5QYXJ0aWFsU2NvcGVSZXF1ZXN0cy5hZGQoZGVwLnRvS2V5KCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuUS5wdXNoKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb2xsZWN0UmVmZXJlbmNlc09mUmVmZXJlbmNlKHJlZmVyZW5jZSwgYmFzZUdyYW1tYXJTY29wZU5hbWUsIHJlcG8sIHJlc3VsdCkge1xuICAgIGNvbnN0IHNlbGZHcmFtbWFyID0gcmVwby5sb29rdXAocmVmZXJlbmNlLnNjb3BlTmFtZSk7XG4gICAgaWYgKCFzZWxmR3JhbW1hcikge1xuICAgICAgICBpZiAocmVmZXJlbmNlLnNjb3BlTmFtZSA9PT0gYmFzZUdyYW1tYXJTY29wZU5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZ3JhbW1hciBwcm92aWRlZCBmb3IgPCR7YmFzZUdyYW1tYXJTY29wZU5hbWV9PmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYmFzZUdyYW1tYXIgPSByZXBvLmxvb2t1cChiYXNlR3JhbW1hclNjb3BlTmFtZSk7XG4gICAgaWYgKHJlZmVyZW5jZSBpbnN0YW5jZW9mIFRvcExldmVsUnVsZVJlZmVyZW5jZSkge1xuICAgICAgICBjb2xsZWN0RXh0ZXJuYWxSZWZlcmVuY2VzSW5Ub3BMZXZlbFJ1bGUoeyBiYXNlR3JhbW1hciwgc2VsZkdyYW1tYXIgfSwgcmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblRvcExldmVsUmVwb3NpdG9yeVJ1bGUocmVmZXJlbmNlLnJ1bGVOYW1lLCB7IGJhc2VHcmFtbWFyLCBzZWxmR3JhbW1hciwgcmVwb3NpdG9yeTogc2VsZkdyYW1tYXIucmVwb3NpdG9yeSB9LCByZXN1bHQpO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3Rpb25zID0gcmVwby5pbmplY3Rpb25zKHJlZmVyZW5jZS5zY29wZU5hbWUpO1xuICAgIGlmIChpbmplY3Rpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW5qZWN0aW9uIG9mIGluamVjdGlvbnMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hZGQobmV3IFRvcExldmVsUnVsZVJlZmVyZW5jZShpbmplY3Rpb24pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblRvcExldmVsUmVwb3NpdG9yeVJ1bGUocnVsZU5hbWUsIGNvbnRleHQsIHJlc3VsdCkge1xuICAgIGlmIChjb250ZXh0LnJlcG9zaXRvcnkgJiYgY29udGV4dC5yZXBvc2l0b3J5W3J1bGVOYW1lXSkge1xuICAgICAgICBjb25zdCBydWxlID0gY29udGV4dC5yZXBvc2l0b3J5W3J1bGVOYW1lXTtcbiAgICAgICAgY29sbGVjdEV4dGVybmFsUmVmZXJlbmNlc0luUnVsZXMoW3J1bGVdLCBjb250ZXh0LCByZXN1bHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblRvcExldmVsUnVsZShjb250ZXh0LCByZXN1bHQpIHtcbiAgICBpZiAoY29udGV4dC5zZWxmR3JhbW1hci5wYXR0ZXJucyAmJiBBcnJheS5pc0FycmF5KGNvbnRleHQuc2VsZkdyYW1tYXIucGF0dGVybnMpKSB7XG4gICAgICAgIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblJ1bGVzKGNvbnRleHQuc2VsZkdyYW1tYXIucGF0dGVybnMsIHsgLi4uY29udGV4dCwgcmVwb3NpdG9yeTogY29udGV4dC5zZWxmR3JhbW1hci5yZXBvc2l0b3J5IH0sIHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LnNlbGZHcmFtbWFyLmluamVjdGlvbnMpIHtcbiAgICAgICAgY29sbGVjdEV4dGVybmFsUmVmZXJlbmNlc0luUnVsZXMoT2JqZWN0LnZhbHVlcyhjb250ZXh0LnNlbGZHcmFtbWFyLmluamVjdGlvbnMpLCB7IC4uLmNvbnRleHQsIHJlcG9zaXRvcnk6IGNvbnRleHQuc2VsZkdyYW1tYXIucmVwb3NpdG9yeSB9LCByZXN1bHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblJ1bGVzKHJ1bGVzLCBjb250ZXh0LCByZXN1bHQpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC52aXNpdGVkUnVsZS5oYXMocnVsZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC52aXNpdGVkUnVsZS5hZGQocnVsZSk7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5SZXBvc2l0b3J5ID0gcnVsZS5yZXBvc2l0b3J5ID8gbWVyZ2VPYmplY3RzKHt9LCBjb250ZXh0LnJlcG9zaXRvcnksIHJ1bGUucmVwb3NpdG9yeSkgOiBjb250ZXh0LnJlcG9zaXRvcnk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJ1bGUucGF0dGVybnMpKSB7XG4gICAgICAgICAgICBjb2xsZWN0RXh0ZXJuYWxSZWZlcmVuY2VzSW5SdWxlcyhydWxlLnBhdHRlcm5zLCB7IC4uLmNvbnRleHQsIHJlcG9zaXRvcnk6IHBhdHRlcm5SZXBvc2l0b3J5IH0sIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5jbHVkZSA9IHJ1bGUuaW5jbHVkZTtcbiAgICAgICAgaWYgKCFpbmNsdWRlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWZlcmVuY2UgPSBwYXJzZUluY2x1ZGUoaW5jbHVkZSk7XG4gICAgICAgIHN3aXRjaCAocmVmZXJlbmNlLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBJbmNsdWRlUmVmZXJlbmNlS2luZC5CYXNlICovOlxuICAgICAgICAgICAgICAgIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblRvcExldmVsUnVsZSh7IC4uLmNvbnRleHQsIHNlbGZHcmFtbWFyOiBjb250ZXh0LmJhc2VHcmFtbWFyIH0sIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEgLyogSW5jbHVkZVJlZmVyZW5jZUtpbmQuU2VsZiAqLzpcbiAgICAgICAgICAgICAgICBjb2xsZWN0RXh0ZXJuYWxSZWZlcmVuY2VzSW5Ub3BMZXZlbFJ1bGUoY29udGV4dCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBJbmNsdWRlUmVmZXJlbmNlS2luZC5SZWxhdGl2ZVJlZmVyZW5jZSAqLzpcbiAgICAgICAgICAgICAgICBjb2xsZWN0RXh0ZXJuYWxSZWZlcmVuY2VzSW5Ub3BMZXZlbFJlcG9zaXRvcnlSdWxlKHJlZmVyZW5jZS5ydWxlTmFtZSwgeyAuLi5jb250ZXh0LCByZXBvc2l0b3J5OiBwYXR0ZXJuUmVwb3NpdG9yeSB9LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzIC8qIEluY2x1ZGVSZWZlcmVuY2VLaW5kLlRvcExldmVsUmVmZXJlbmNlICovOlxuICAgICAgICAgICAgY2FzZSA0IC8qIEluY2x1ZGVSZWZlcmVuY2VLaW5kLlRvcExldmVsUmVwb3NpdG9yeVJlZmVyZW5jZSAqLzpcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmR3JhbW1hciA9IHJlZmVyZW5jZS5zY29wZU5hbWUgPT09IGNvbnRleHQuc2VsZkdyYW1tYXIuc2NvcGVOYW1lXG4gICAgICAgICAgICAgICAgICAgID8gY29udGV4dC5zZWxmR3JhbW1hclxuICAgICAgICAgICAgICAgICAgICA6IHJlZmVyZW5jZS5zY29wZU5hbWUgPT09IGNvbnRleHQuYmFzZUdyYW1tYXIuc2NvcGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQuYmFzZUdyYW1tYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmR3JhbW1hcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb250ZXh0ID0geyBiYXNlR3JhbW1hcjogY29udGV4dC5iYXNlR3JhbW1hciwgc2VsZkdyYW1tYXIsIHJlcG9zaXRvcnk6IHBhdHRlcm5SZXBvc2l0b3J5IH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2Uua2luZCA9PT0gNCAvKiBJbmNsdWRlUmVmZXJlbmNlS2luZC5Ub3BMZXZlbFJlcG9zaXRvcnlSZWZlcmVuY2UgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RFeHRlcm5hbFJlZmVyZW5jZXNJblRvcExldmVsUmVwb3NpdG9yeVJ1bGUocmVmZXJlbmNlLnJ1bGVOYW1lLCBuZXdDb250ZXh0LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdEV4dGVybmFsUmVmZXJlbmNlc0luVG9wTGV2ZWxSdWxlKG5ld0NvbnRleHQsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2Uua2luZCA9PT0gNCAvKiBJbmNsdWRlUmVmZXJlbmNlS2luZC5Ub3BMZXZlbFJlcG9zaXRvcnlSZWZlcmVuY2UgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQobmV3IFRvcExldmVsUmVwb3NpdG9yeVJ1bGVSZWZlcmVuY2UocmVmZXJlbmNlLnNjb3BlTmFtZSwgcmVmZXJlbmNlLnJ1bGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKG5ldyBUb3BMZXZlbFJ1bGVSZWZlcmVuY2UocmVmZXJlbmNlLnNjb3BlTmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQmFzZVJlZmVyZW5jZSB7XG4gICAga2luZCA9IDAgLyogSW5jbHVkZVJlZmVyZW5jZUtpbmQuQmFzZSAqLztcbn1cbmNsYXNzIFNlbGZSZWZlcmVuY2Uge1xuICAgIGtpbmQgPSAxIC8qIEluY2x1ZGVSZWZlcmVuY2VLaW5kLlNlbGYgKi87XG59XG5jbGFzcyBSZWxhdGl2ZVJlZmVyZW5jZSB7XG4gICAgcnVsZU5hbWU7XG4gICAga2luZCA9IDIgLyogSW5jbHVkZVJlZmVyZW5jZUtpbmQuUmVsYXRpdmVSZWZlcmVuY2UgKi87XG4gICAgY29uc3RydWN0b3IocnVsZU5hbWUpIHtcbiAgICAgICAgdGhpcy5ydWxlTmFtZSA9IHJ1bGVOYW1lO1xuICAgIH1cbn1cbmNsYXNzIFRvcExldmVsUmVmZXJlbmNlIHtcbiAgICBzY29wZU5hbWU7XG4gICAga2luZCA9IDMgLyogSW5jbHVkZVJlZmVyZW5jZUtpbmQuVG9wTGV2ZWxSZWZlcmVuY2UgKi87XG4gICAgY29uc3RydWN0b3Ioc2NvcGVOYW1lKSB7XG4gICAgICAgIHRoaXMuc2NvcGVOYW1lID0gc2NvcGVOYW1lO1xuICAgIH1cbn1cbmNsYXNzIFRvcExldmVsUmVwb3NpdG9yeVJlZmVyZW5jZSB7XG4gICAgc2NvcGVOYW1lO1xuICAgIHJ1bGVOYW1lO1xuICAgIGtpbmQgPSA0IC8qIEluY2x1ZGVSZWZlcmVuY2VLaW5kLlRvcExldmVsUmVwb3NpdG9yeVJlZmVyZW5jZSAqLztcbiAgICBjb25zdHJ1Y3RvcihzY29wZU5hbWUsIHJ1bGVOYW1lKSB7XG4gICAgICAgIHRoaXMuc2NvcGVOYW1lID0gc2NvcGVOYW1lO1xuICAgICAgICB0aGlzLnJ1bGVOYW1lID0gcnVsZU5hbWU7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VJbmNsdWRlKGluY2x1ZGUpIHtcbiAgICBpZiAoaW5jbHVkZSA9PT0gJyRiYXNlJykge1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VSZWZlcmVuY2UoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5jbHVkZSA9PT0gJyRzZWxmJykge1xuICAgICAgICByZXR1cm4gbmV3IFNlbGZSZWZlcmVuY2UoKTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXhPZlNoYXJwID0gaW5jbHVkZS5pbmRleE9mKFwiI1wiKTtcbiAgICBpZiAoaW5kZXhPZlNoYXJwID09PSAtMSkge1xuICAgICAgICByZXR1cm4gbmV3IFRvcExldmVsUmVmZXJlbmNlKGluY2x1ZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpbmRleE9mU2hhcnAgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWxhdGl2ZVJlZmVyZW5jZShpbmNsdWRlLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzY29wZU5hbWUgPSBpbmNsdWRlLnN1YnN0cmluZygwLCBpbmRleE9mU2hhcnApO1xuICAgICAgICBjb25zdCBydWxlTmFtZSA9IGluY2x1ZGUuc3Vic3RyaW5nKGluZGV4T2ZTaGFycCArIDEpO1xuICAgICAgICByZXR1cm4gbmV3IFRvcExldmVsUmVwb3NpdG9yeVJlZmVyZW5jZShzY29wZU5hbWUsIHJ1bGVOYW1lKTtcbiAgICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY29uc3QgSEFTX0JBQ0tfUkVGRVJFTkNFUyA9IC9cXFxcKFxcZCspLztcbmNvbnN0IEJBQ0tfUkVGRVJFTkNJTkdfRU5EID0gL1xcXFwoXFxkKykvZztcbi8vIFRoaXMgaXMgYSBzcGVjaWFsIGNvbnN0YW50IHRvIGluZGljYXRlIHRoYXQgdGhlIGVuZCByZWdleHAgbWF0Y2hlZC5cbmNvbnN0IGVuZFJ1bGVJZCA9IC0xO1xuLy8gVGhpcyBpcyBhIHNwZWNpYWwgY29uc3RhbnQgdG8gaW5kaWNhdGUgdGhhdCB0aGUgd2hpbGUgcmVnZXhwIG1hdGNoZWQuXG5jb25zdCB3aGlsZVJ1bGVJZCA9IC0yO1xuZnVuY3Rpb24gcnVsZUlkRnJvbU51bWJlcihpZCkge1xuICAgIHJldHVybiBpZDtcbn1cbmZ1bmN0aW9uIHJ1bGVJZFRvTnVtYmVyKGlkKSB7XG4gICAgcmV0dXJuIGlkO1xufVxuY2xhc3MgUnVsZSB7XG4gICAgJGxvY2F0aW9uO1xuICAgIGlkO1xuICAgIF9uYW1lSXNDYXB0dXJpbmc7XG4gICAgX25hbWU7XG4gICAgX2NvbnRlbnROYW1lSXNDYXB0dXJpbmc7XG4gICAgX2NvbnRlbnROYW1lO1xuICAgIGNvbnN0cnVjdG9yKCRsb2NhdGlvbiwgaWQsIG5hbWUsIGNvbnRlbnROYW1lKSB7XG4gICAgICAgIHRoaXMuJGxvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX25hbWVJc0NhcHR1cmluZyA9IFJlZ2V4U291cmNlLmhhc0NhcHR1cmVzKHRoaXMuX25hbWUpO1xuICAgICAgICB0aGlzLl9jb250ZW50TmFtZSA9IGNvbnRlbnROYW1lIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbnRlbnROYW1lSXNDYXB0dXJpbmcgPSBSZWdleFNvdXJjZS5oYXNDYXB0dXJlcyh0aGlzLl9jb250ZW50TmFtZSk7XG4gICAgfVxuICAgIGdldCBkZWJ1Z05hbWUoKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy4kbG9jYXRpb24gPyBgJHtiYXNlbmFtZSh0aGlzLiRsb2NhdGlvbi5maWxlbmFtZSl9OiR7dGhpcy4kbG9jYXRpb24ubGluZX1gIDogJ3Vua25vd24nO1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSMke3RoaXMuaWR9IEAgJHtsb2NhdGlvbn1gO1xuICAgIH1cbiAgICBnZXROYW1lKGxpbmVUZXh0LCBjYXB0dXJlSW5kaWNlcykge1xuICAgICAgICBpZiAoIXRoaXMuX25hbWVJc0NhcHR1cmluZyB8fCB0aGlzLl9uYW1lID09PSBudWxsIHx8IGxpbmVUZXh0ID09PSBudWxsIHx8IGNhcHR1cmVJbmRpY2VzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVnZXhTb3VyY2UucmVwbGFjZUNhcHR1cmVzKHRoaXMuX25hbWUsIGxpbmVUZXh0LCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgfVxuICAgIGdldENvbnRlbnROYW1lKGxpbmVUZXh0LCBjYXB0dXJlSW5kaWNlcykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbnRlbnROYW1lSXNDYXB0dXJpbmcgfHwgdGhpcy5fY29udGVudE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50TmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVnZXhTb3VyY2UucmVwbGFjZUNhcHR1cmVzKHRoaXMuX2NvbnRlbnROYW1lLCBsaW5lVGV4dCwgY2FwdHVyZUluZGljZXMpO1xuICAgIH1cbn1cbmNsYXNzIENhcHR1cmVSdWxlIGV4dGVuZHMgUnVsZSB7XG4gICAgcmV0b2tlbml6ZUNhcHR1cmVkV2l0aFJ1bGVJZDtcbiAgICBjb25zdHJ1Y3RvcigkbG9jYXRpb24sIGlkLCBuYW1lLCBjb250ZW50TmFtZSwgcmV0b2tlbml6ZUNhcHR1cmVkV2l0aFJ1bGVJZCkge1xuICAgICAgICBzdXBlcigkbG9jYXRpb24sIGlkLCBuYW1lLCBjb250ZW50TmFtZSk7XG4gICAgICAgIHRoaXMucmV0b2tlbml6ZUNhcHR1cmVkV2l0aFJ1bGVJZCA9IHJldG9rZW5pemVDYXB0dXJlZFdpdGhSdWxlSWQ7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZGlzcG9zZVxuICAgIH1cbiAgICBjb2xsZWN0UGF0dGVybnMoZ3JhbW1hciwgb3V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IHN1cHBvcnRlZCEnKTtcbiAgICB9XG4gICAgY29tcGlsZShncmFtbWFyLCBlbmRSZWdleFNvdXJjZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBzdXBwb3J0ZWQhJyk7XG4gICAgfVxuICAgIGNvbXBpbGVBRyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSwgYWxsb3dBLCBhbGxvd0cpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3Qgc3VwcG9ydGVkIScpO1xuICAgIH1cbn1cbmNsYXNzIE1hdGNoUnVsZSBleHRlbmRzIFJ1bGUge1xuICAgIF9tYXRjaDtcbiAgICBjYXB0dXJlcztcbiAgICBfY2FjaGVkQ29tcGlsZWRQYXR0ZXJucztcbiAgICBjb25zdHJ1Y3RvcigkbG9jYXRpb24sIGlkLCBuYW1lLCBtYXRjaCwgY2FwdHVyZXMpIHtcbiAgICAgICAgc3VwZXIoJGxvY2F0aW9uLCBpZCwgbmFtZSwgbnVsbCk7XG4gICAgICAgIHRoaXMuX21hdGNoID0gbmV3IFJlZ0V4cFNvdXJjZShtYXRjaCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuY2FwdHVyZXMgPSBjYXB0dXJlcztcbiAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucyA9IG51bGw7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkZWJ1Z01hdGNoUmVnRXhwKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5fbWF0Y2guc291cmNlfWA7XG4gICAgfVxuICAgIGNvbGxlY3RQYXR0ZXJucyhncmFtbWFyLCBvdXQpIHtcbiAgICAgICAgb3V0LnB1c2godGhpcy5fbWF0Y2gpO1xuICAgIH1cbiAgICBjb21waWxlKGdyYW1tYXIsIGVuZFJlZ2V4U291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZWRDb21waWxlZFBhdHRlcm5zKGdyYW1tYXIpLmNvbXBpbGUoZ3JhbW1hcik7XG4gICAgfVxuICAgIGNvbXBpbGVBRyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSwgYWxsb3dBLCBhbGxvd0cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hcikuY29tcGlsZUFHKGdyYW1tYXIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICB9XG4gICAgX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hcikge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMgPSBuZXcgUmVnRXhwU291cmNlTGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0UGF0dGVybnMoZ3JhbW1hciwgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnM7XG4gICAgfVxufVxuY2xhc3MgSW5jbHVkZU9ubHlSdWxlIGV4dGVuZHMgUnVsZSB7XG4gICAgaGFzTWlzc2luZ1BhdHRlcm5zO1xuICAgIHBhdHRlcm5zO1xuICAgIF9jYWNoZWRDb21waWxlZFBhdHRlcm5zO1xuICAgIGNvbnN0cnVjdG9yKCRsb2NhdGlvbiwgaWQsIG5hbWUsIGNvbnRlbnROYW1lLCBwYXR0ZXJucykge1xuICAgICAgICBzdXBlcigkbG9jYXRpb24sIGlkLCBuYW1lLCBjb250ZW50TmFtZSk7XG4gICAgICAgIHRoaXMucGF0dGVybnMgPSBwYXR0ZXJucy5wYXR0ZXJucztcbiAgICAgICAgdGhpcy5oYXNNaXNzaW5nUGF0dGVybnMgPSBwYXR0ZXJucy5oYXNNaXNzaW5nUGF0dGVybnM7XG4gICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMgPSBudWxsO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucykge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb2xsZWN0UGF0dGVybnMoZ3JhbW1hciwgb3V0KSB7XG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiB0aGlzLnBhdHRlcm5zKSB7XG4gICAgICAgICAgICBjb25zdCBydWxlID0gZ3JhbW1hci5nZXRSdWxlKHBhdHRlcm4pO1xuICAgICAgICAgICAgcnVsZS5jb2xsZWN0UGF0dGVybnMoZ3JhbW1hciwgb3V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21waWxlKGdyYW1tYXIsIGVuZFJlZ2V4U291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZWRDb21waWxlZFBhdHRlcm5zKGdyYW1tYXIpLmNvbXBpbGUoZ3JhbW1hcik7XG4gICAgfVxuICAgIGNvbXBpbGVBRyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSwgYWxsb3dBLCBhbGxvd0cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hcikuY29tcGlsZUFHKGdyYW1tYXIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICB9XG4gICAgX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hcikge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMgPSBuZXcgUmVnRXhwU291cmNlTGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0UGF0dGVybnMoZ3JhbW1hciwgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnM7XG4gICAgfVxufVxuY2xhc3MgQmVnaW5FbmRSdWxlIGV4dGVuZHMgUnVsZSB7XG4gICAgX2JlZ2luO1xuICAgIGJlZ2luQ2FwdHVyZXM7XG4gICAgX2VuZDtcbiAgICBlbmRIYXNCYWNrUmVmZXJlbmNlcztcbiAgICBlbmRDYXB0dXJlcztcbiAgICBhcHBseUVuZFBhdHRlcm5MYXN0O1xuICAgIGhhc01pc3NpbmdQYXR0ZXJucztcbiAgICBwYXR0ZXJucztcbiAgICBfY2FjaGVkQ29tcGlsZWRQYXR0ZXJucztcbiAgICBjb25zdHJ1Y3RvcigkbG9jYXRpb24sIGlkLCBuYW1lLCBjb250ZW50TmFtZSwgYmVnaW4sIGJlZ2luQ2FwdHVyZXMsIGVuZCwgZW5kQ2FwdHVyZXMsIGFwcGx5RW5kUGF0dGVybkxhc3QsIHBhdHRlcm5zKSB7XG4gICAgICAgIHN1cGVyKCRsb2NhdGlvbiwgaWQsIG5hbWUsIGNvbnRlbnROYW1lKTtcbiAgICAgICAgdGhpcy5fYmVnaW4gPSBuZXcgUmVnRXhwU291cmNlKGJlZ2luLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5iZWdpbkNhcHR1cmVzID0gYmVnaW5DYXB0dXJlcztcbiAgICAgICAgdGhpcy5fZW5kID0gbmV3IFJlZ0V4cFNvdXJjZShlbmQgPyBlbmQgOiAnXFx1RkZGRicsIC0xKTtcbiAgICAgICAgdGhpcy5lbmRIYXNCYWNrUmVmZXJlbmNlcyA9IHRoaXMuX2VuZC5oYXNCYWNrUmVmZXJlbmNlcztcbiAgICAgICAgdGhpcy5lbmRDYXB0dXJlcyA9IGVuZENhcHR1cmVzO1xuICAgICAgICB0aGlzLmFwcGx5RW5kUGF0dGVybkxhc3QgPSBhcHBseUVuZFBhdHRlcm5MYXN0IHx8IGZhbHNlO1xuICAgICAgICB0aGlzLnBhdHRlcm5zID0gcGF0dGVybnMucGF0dGVybnM7XG4gICAgICAgIHRoaXMuaGFzTWlzc2luZ1BhdHRlcm5zID0gcGF0dGVybnMuaGFzTWlzc2luZ1BhdHRlcm5zO1xuICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zID0gbnVsbDtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRlYnVnQmVnaW5SZWdFeHAoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLl9iZWdpbi5zb3VyY2V9YDtcbiAgICB9XG4gICAgZ2V0IGRlYnVnRW5kUmVnRXhwKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5fZW5kLnNvdXJjZX1gO1xuICAgIH1cbiAgICBnZXRFbmRXaXRoUmVzb2x2ZWRCYWNrUmVmZXJlbmNlcyhsaW5lVGV4dCwgY2FwdHVyZUluZGljZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZC5yZXNvbHZlQmFja1JlZmVyZW5jZXMobGluZVRleHQsIGNhcHR1cmVJbmRpY2VzKTtcbiAgICB9XG4gICAgY29sbGVjdFBhdHRlcm5zKGdyYW1tYXIsIG91dCkge1xuICAgICAgICBvdXQucHVzaCh0aGlzLl9iZWdpbik7XG4gICAgfVxuICAgIGNvbXBpbGUoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UpLmNvbXBpbGUoZ3JhbW1hcik7XG4gICAgfVxuICAgIGNvbXBpbGVBRyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSwgYWxsb3dBLCBhbGxvd0cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UpLmNvbXBpbGVBRyhncmFtbWFyLCBhbGxvd0EsIGFsbG93Ryk7XG4gICAgfVxuICAgIF9nZXRDYWNoZWRDb21waWxlZFBhdHRlcm5zKGdyYW1tYXIsIGVuZFJlZ2V4U291cmNlKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucykge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucyA9IG5ldyBSZWdFeHBTb3VyY2VMaXN0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgdGhpcy5wYXR0ZXJucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSBncmFtbWFyLmdldFJ1bGUocGF0dGVybik7XG4gICAgICAgICAgICAgICAgcnVsZS5jb2xsZWN0UGF0dGVybnMoZ3JhbW1hciwgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseUVuZFBhdHRlcm5MYXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucy5wdXNoKHRoaXMuX2VuZC5oYXNCYWNrUmVmZXJlbmNlcyA/IHRoaXMuX2VuZC5jbG9uZSgpIDogdGhpcy5fZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMudW5zaGlmdCh0aGlzLl9lbmQuaGFzQmFja1JlZmVyZW5jZXMgPyB0aGlzLl9lbmQuY2xvbmUoKSA6IHRoaXMuX2VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2VuZC5oYXNCYWNrUmVmZXJlbmNlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbHlFbmRQYXR0ZXJuTGFzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMuc2V0U291cmNlKHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMubGVuZ3RoKCkgLSAxLCBlbmRSZWdleFNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zLnNldFNvdXJjZSgwLCBlbmRSZWdleFNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnM7XG4gICAgfVxufVxuY2xhc3MgQmVnaW5XaGlsZVJ1bGUgZXh0ZW5kcyBSdWxlIHtcbiAgICBfYmVnaW47XG4gICAgYmVnaW5DYXB0dXJlcztcbiAgICB3aGlsZUNhcHR1cmVzO1xuICAgIF93aGlsZTtcbiAgICB3aGlsZUhhc0JhY2tSZWZlcmVuY2VzO1xuICAgIGhhc01pc3NpbmdQYXR0ZXJucztcbiAgICBwYXR0ZXJucztcbiAgICBfY2FjaGVkQ29tcGlsZWRQYXR0ZXJucztcbiAgICBfY2FjaGVkQ29tcGlsZWRXaGlsZVBhdHRlcm5zO1xuICAgIGNvbnN0cnVjdG9yKCRsb2NhdGlvbiwgaWQsIG5hbWUsIGNvbnRlbnROYW1lLCBiZWdpbiwgYmVnaW5DYXB0dXJlcywgX3doaWxlLCB3aGlsZUNhcHR1cmVzLCBwYXR0ZXJucykge1xuICAgICAgICBzdXBlcigkbG9jYXRpb24sIGlkLCBuYW1lLCBjb250ZW50TmFtZSk7XG4gICAgICAgIHRoaXMuX2JlZ2luID0gbmV3IFJlZ0V4cFNvdXJjZShiZWdpbiwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuYmVnaW5DYXB0dXJlcyA9IGJlZ2luQ2FwdHVyZXM7XG4gICAgICAgIHRoaXMud2hpbGVDYXB0dXJlcyA9IHdoaWxlQ2FwdHVyZXM7XG4gICAgICAgIHRoaXMuX3doaWxlID0gbmV3IFJlZ0V4cFNvdXJjZShfd2hpbGUsIHdoaWxlUnVsZUlkKTtcbiAgICAgICAgdGhpcy53aGlsZUhhc0JhY2tSZWZlcmVuY2VzID0gdGhpcy5fd2hpbGUuaGFzQmFja1JlZmVyZW5jZXM7XG4gICAgICAgIHRoaXMucGF0dGVybnMgPSBwYXR0ZXJucy5wYXR0ZXJucztcbiAgICAgICAgdGhpcy5oYXNNaXNzaW5nUGF0dGVybnMgPSBwYXR0ZXJucy5oYXNNaXNzaW5nUGF0dGVybnM7XG4gICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMgPSBudWxsO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucykge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRQYXR0ZXJucy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FjaGVkQ29tcGlsZWRXaGlsZVBhdHRlcm5zKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkQ29tcGlsZWRXaGlsZVBhdHRlcm5zID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGVidWdCZWdpblJlZ0V4cCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuX2JlZ2luLnNvdXJjZX1gO1xuICAgIH1cbiAgICBnZXQgZGVidWdXaGlsZVJlZ0V4cCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuX3doaWxlLnNvdXJjZX1gO1xuICAgIH1cbiAgICBnZXRXaGlsZVdpdGhSZXNvbHZlZEJhY2tSZWZlcmVuY2VzKGxpbmVUZXh0LCBjYXB0dXJlSW5kaWNlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2hpbGUucmVzb2x2ZUJhY2tSZWZlcmVuY2VzKGxpbmVUZXh0LCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgfVxuICAgIGNvbGxlY3RQYXR0ZXJucyhncmFtbWFyLCBvdXQpIHtcbiAgICAgICAgb3V0LnB1c2godGhpcy5fYmVnaW4pO1xuICAgIH1cbiAgICBjb21waWxlKGdyYW1tYXIsIGVuZFJlZ2V4U291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZWRDb21waWxlZFBhdHRlcm5zKGdyYW1tYXIpLmNvbXBpbGUoZ3JhbW1hcik7XG4gICAgfVxuICAgIGNvbXBpbGVBRyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSwgYWxsb3dBLCBhbGxvd0cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hcikuY29tcGlsZUFHKGdyYW1tYXIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICB9XG4gICAgX2dldENhY2hlZENvbXBpbGVkUGF0dGVybnMoZ3JhbW1hcikge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMgPSBuZXcgUmVnRXhwU291cmNlTGlzdCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHRoaXMucGF0dGVybnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBydWxlID0gZ3JhbW1hci5nZXRSdWxlKHBhdHRlcm4pO1xuICAgICAgICAgICAgICAgIHJ1bGUuY29sbGVjdFBhdHRlcm5zKGdyYW1tYXIsIHRoaXMuX2NhY2hlZENvbXBpbGVkUGF0dGVybnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDb21waWxlZFBhdHRlcm5zO1xuICAgIH1cbiAgICBjb21waWxlV2hpbGUoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlZENvbXBpbGVkV2hpbGVQYXR0ZXJucyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSkuY29tcGlsZShncmFtbWFyKTtcbiAgICB9XG4gICAgY29tcGlsZVdoaWxlQUcoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UsIGFsbG93QSwgYWxsb3dHKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UpLmNvbXBpbGVBRyhncmFtbWFyLCBhbGxvd0EsIGFsbG93Ryk7XG4gICAgfVxuICAgIF9nZXRDYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMoZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZENvbXBpbGVkV2hpbGVQYXR0ZXJucyA9IG5ldyBSZWdFeHBTb3VyY2VMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMucHVzaCh0aGlzLl93aGlsZS5oYXNCYWNrUmVmZXJlbmNlcyA/IHRoaXMuX3doaWxlLmNsb25lKCkgOiB0aGlzLl93aGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3doaWxlLmhhc0JhY2tSZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnMuc2V0U291cmNlKDAsIGVuZFJlZ2V4U291cmNlID8gZW5kUmVnZXhTb3VyY2UgOiAnXFx1RkZGRicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDb21waWxlZFdoaWxlUGF0dGVybnM7XG4gICAgfVxufVxuY2xhc3MgUnVsZUZhY3Rvcnkge1xuICAgIHN0YXRpYyBjcmVhdGVDYXB0dXJlUnVsZShoZWxwZXIsICRsb2NhdGlvbiwgbmFtZSwgY29udGVudE5hbWUsIHJldG9rZW5pemVDYXB0dXJlZFdpdGhSdWxlSWQpIHtcbiAgICAgICAgcmV0dXJuIGhlbHBlci5yZWdpc3RlclJ1bGUoKGlkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhcHR1cmVSdWxlKCRsb2NhdGlvbiwgaWQsIG5hbWUsIGNvbnRlbnROYW1lLCByZXRva2VuaXplQ2FwdHVyZWRXaXRoUnVsZUlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDb21waWxlZFJ1bGVJZChkZXNjLCBoZWxwZXIsIHJlcG9zaXRvcnkpIHtcbiAgICAgICAgaWYgKCFkZXNjLmlkKSB7XG4gICAgICAgICAgICBoZWxwZXIucmVnaXN0ZXJSdWxlKChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlc2MuaWQgPSBpZDtcbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5tYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hdGNoUnVsZShkZXNjLiR2c2NvZGVUZXh0bWF0ZUxvY2F0aW9uLCBkZXNjLmlkLCBkZXNjLm5hbWUsIGRlc2MubWF0Y2gsIFJ1bGVGYWN0b3J5Ll9jb21waWxlQ2FwdHVyZXMoZGVzYy5jYXB0dXJlcywgaGVscGVyLCByZXBvc2l0b3J5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzYy5iZWdpbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MucmVwb3NpdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3NpdG9yeSA9IG1lcmdlT2JqZWN0cyh7fSwgcmVwb3NpdG9yeSwgZGVzYy5yZXBvc2l0b3J5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0dGVybnMgPSBkZXNjLnBhdHRlcm5zO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhdHRlcm5zID09PSAndW5kZWZpbmVkJyAmJiBkZXNjLmluY2x1ZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5zID0gW3sgaW5jbHVkZTogZGVzYy5pbmNsdWRlIH1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW5jbHVkZU9ubHlSdWxlKGRlc2MuJHZzY29kZVRleHRtYXRlTG9jYXRpb24sIGRlc2MuaWQsIGRlc2MubmFtZSwgZGVzYy5jb250ZW50TmFtZSwgUnVsZUZhY3RvcnkuX2NvbXBpbGVQYXR0ZXJucyhwYXR0ZXJucywgaGVscGVyLCByZXBvc2l0b3J5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkZXNjLndoaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmVnaW5XaGlsZVJ1bGUoZGVzYy4kdnNjb2RlVGV4dG1hdGVMb2NhdGlvbiwgZGVzYy5pZCwgZGVzYy5uYW1lLCBkZXNjLmNvbnRlbnROYW1lLCBkZXNjLmJlZ2luLCBSdWxlRmFjdG9yeS5fY29tcGlsZUNhcHR1cmVzKGRlc2MuYmVnaW5DYXB0dXJlcyB8fCBkZXNjLmNhcHR1cmVzLCBoZWxwZXIsIHJlcG9zaXRvcnkpLCBkZXNjLndoaWxlLCBSdWxlRmFjdG9yeS5fY29tcGlsZUNhcHR1cmVzKGRlc2Mud2hpbGVDYXB0dXJlcyB8fCBkZXNjLmNhcHR1cmVzLCBoZWxwZXIsIHJlcG9zaXRvcnkpLCBSdWxlRmFjdG9yeS5fY29tcGlsZVBhdHRlcm5zKGRlc2MucGF0dGVybnMsIGhlbHBlciwgcmVwb3NpdG9yeSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJlZ2luRW5kUnVsZShkZXNjLiR2c2NvZGVUZXh0bWF0ZUxvY2F0aW9uLCBkZXNjLmlkLCBkZXNjLm5hbWUsIGRlc2MuY29udGVudE5hbWUsIGRlc2MuYmVnaW4sIFJ1bGVGYWN0b3J5Ll9jb21waWxlQ2FwdHVyZXMoZGVzYy5iZWdpbkNhcHR1cmVzIHx8IGRlc2MuY2FwdHVyZXMsIGhlbHBlciwgcmVwb3NpdG9yeSksIGRlc2MuZW5kLCBSdWxlRmFjdG9yeS5fY29tcGlsZUNhcHR1cmVzKGRlc2MuZW5kQ2FwdHVyZXMgfHwgZGVzYy5jYXB0dXJlcywgaGVscGVyLCByZXBvc2l0b3J5KSwgZGVzYy5hcHBseUVuZFBhdHRlcm5MYXN0LCBSdWxlRmFjdG9yeS5fY29tcGlsZVBhdHRlcm5zKGRlc2MucGF0dGVybnMsIGhlbHBlciwgcmVwb3NpdG9yeSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc2MuaWQ7XG4gICAgfVxuICAgIHN0YXRpYyBfY29tcGlsZUNhcHR1cmVzKGNhcHR1cmVzLCBoZWxwZXIsIHJlcG9zaXRvcnkpIHtcbiAgICAgICAgbGV0IHIgPSBbXTtcbiAgICAgICAgaWYgKGNhcHR1cmVzKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBtYXhpbXVtIGNhcHR1cmUgaWRcbiAgICAgICAgICAgIGxldCBtYXhpbXVtQ2FwdHVyZUlkID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FwdHVyZUlkIGluIGNhcHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVJZCA9PT0gJyR2c2NvZGVUZXh0bWF0ZUxvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY0NhcHR1cmVJZCA9IHBhcnNlSW50KGNhcHR1cmVJZCwgMTApO1xuICAgICAgICAgICAgICAgIGlmIChudW1lcmljQ2FwdHVyZUlkID4gbWF4aW11bUNhcHR1cmVJZCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtQ2FwdHVyZUlkID0gbnVtZXJpY0NhcHR1cmVJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHJlc3VsdFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbWF4aW11bUNhcHR1cmVJZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcltpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaWxsIG91dCByZXN1bHRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FwdHVyZUlkIGluIGNhcHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVJZCA9PT0gJyR2c2NvZGVUZXh0bWF0ZUxvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY0NhcHR1cmVJZCA9IHBhcnNlSW50KGNhcHR1cmVJZCwgMTApO1xuICAgICAgICAgICAgICAgIGxldCByZXRva2VuaXplQ2FwdHVyZWRXaXRoUnVsZUlkID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZXNbY2FwdHVyZUlkXS5wYXR0ZXJucykge1xuICAgICAgICAgICAgICAgICAgICByZXRva2VuaXplQ2FwdHVyZWRXaXRoUnVsZUlkID0gUnVsZUZhY3RvcnkuZ2V0Q29tcGlsZWRSdWxlSWQoY2FwdHVyZXNbY2FwdHVyZUlkXSwgaGVscGVyLCByZXBvc2l0b3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcltudW1lcmljQ2FwdHVyZUlkXSA9IFJ1bGVGYWN0b3J5LmNyZWF0ZUNhcHR1cmVSdWxlKGhlbHBlciwgY2FwdHVyZXNbY2FwdHVyZUlkXS4kdnNjb2RlVGV4dG1hdGVMb2NhdGlvbiwgY2FwdHVyZXNbY2FwdHVyZUlkXS5uYW1lLCBjYXB0dXJlc1tjYXB0dXJlSWRdLmNvbnRlbnROYW1lLCByZXRva2VuaXplQ2FwdHVyZWRXaXRoUnVsZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgc3RhdGljIF9jb21waWxlUGF0dGVybnMocGF0dGVybnMsIGhlbHBlciwgcmVwb3NpdG9yeSkge1xuICAgICAgICBsZXQgciA9IFtdO1xuICAgICAgICBpZiAocGF0dGVybnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXR0ZXJucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBwYXR0ZXJuc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgcnVsZUlkID0gLTE7XG4gICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4uaW5jbHVkZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZlcmVuY2UgPSBwYXJzZUluY2x1ZGUocGF0dGVybi5pbmNsdWRlKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZWZlcmVuY2Uua2luZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIEluY2x1ZGVSZWZlcmVuY2VLaW5kLkJhc2UgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogSW5jbHVkZVJlZmVyZW5jZUtpbmQuU2VsZiAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlSWQgPSBSdWxlRmFjdG9yeS5nZXRDb21waWxlZFJ1bGVJZChyZXBvc2l0b3J5W3BhdHRlcm4uaW5jbHVkZV0sIGhlbHBlciwgcmVwb3NpdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogSW5jbHVkZVJlZmVyZW5jZUtpbmQuUmVsYXRpdmVSZWZlcmVuY2UgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9jYWwgaW5jbHVkZSBmb3VuZCBpbiBgcmVwb3NpdG9yeWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9jYWxJbmNsdWRlZFJ1bGUgPSByZXBvc2l0b3J5W3JlZmVyZW5jZS5ydWxlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsSW5jbHVkZWRSdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVJZCA9IFJ1bGVGYWN0b3J5LmdldENvbXBpbGVkUnVsZUlkKGxvY2FsSW5jbHVkZWRSdWxlLCBoZWxwZXIsIHJlcG9zaXRvcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBJbmNsdWRlUmVmZXJlbmNlS2luZC5Ub3BMZXZlbFJlZmVyZW5jZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBJbmNsdWRlUmVmZXJlbmNlS2luZC5Ub3BMZXZlbFJlcG9zaXRvcnlSZWZlcmVuY2UgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWxHcmFtbWFyTmFtZSA9IHJlZmVyZW5jZS5zY29wZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWxHcmFtbWFySW5jbHVkZSA9IHJlZmVyZW5jZS5raW5kID09PSA0IC8qIEluY2x1ZGVSZWZlcmVuY2VLaW5kLlRvcExldmVsUmVwb3NpdG9yeVJlZmVyZW5jZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlZmVyZW5jZS5ydWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZXJuYWwgaW5jbHVkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsR3JhbW1hciA9IGhlbHBlci5nZXRFeHRlcm5hbEdyYW1tYXIoZXh0ZXJuYWxHcmFtbWFyTmFtZSwgcmVwb3NpdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVybmFsR3JhbW1hcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZXJuYWxHcmFtbWFySW5jbHVkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4dGVybmFsSW5jbHVkZWRSdWxlID0gZXh0ZXJuYWxHcmFtbWFyLnJlcG9zaXRvcnlbZXh0ZXJuYWxHcmFtbWFySW5jbHVkZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZXJuYWxJbmNsdWRlZFJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlSWQgPSBSdWxlRmFjdG9yeS5nZXRDb21waWxlZFJ1bGVJZChleHRlcm5hbEluY2x1ZGVkUnVsZSwgaGVscGVyLCBleHRlcm5hbEdyYW1tYXIucmVwb3NpdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlSWQgPSBSdWxlRmFjdG9yeS5nZXRDb21waWxlZFJ1bGVJZChleHRlcm5hbEdyYW1tYXIucmVwb3NpdG9yeS4kc2VsZiwgaGVscGVyLCBleHRlcm5hbEdyYW1tYXIucmVwb3NpdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVJZCA9IFJ1bGVGYWN0b3J5LmdldENvbXBpbGVkUnVsZUlkKHBhdHRlcm4sIGhlbHBlciwgcmVwb3NpdG9yeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydWxlSWQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSBoZWxwZXIuZ2V0UnVsZShydWxlSWQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2tpcFJ1bGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBJbmNsdWRlT25seVJ1bGUgfHwgcnVsZSBpbnN0YW5jZW9mIEJlZ2luRW5kUnVsZSB8fCBydWxlIGluc3RhbmNlb2YgQmVnaW5XaGlsZVJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLmhhc01pc3NpbmdQYXR0ZXJucyAmJiBydWxlLnBhdHRlcm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBSdWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcFJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdSRU1PVklORyBSVUxFIEVOVElSRUxZIERVRSBUTyBFTVBUWSBQQVRURVJOUyBUSEFUIEFSRSBNSVNTSU5HJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByLnB1c2gocnVsZUlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhdHRlcm5zOiByLFxuICAgICAgICAgICAgaGFzTWlzc2luZ1BhdHRlcm5zOiAoKHBhdHRlcm5zID8gcGF0dGVybnMubGVuZ3RoIDogMCkgIT09IHIubGVuZ3RoKVxuICAgICAgICB9O1xuICAgIH1cbn1cbmNsYXNzIFJlZ0V4cFNvdXJjZSB7XG4gICAgc291cmNlO1xuICAgIHJ1bGVJZDtcbiAgICBoYXNBbmNob3I7XG4gICAgaGFzQmFja1JlZmVyZW5jZXM7XG4gICAgX2FuY2hvckNhY2hlO1xuICAgIGNvbnN0cnVjdG9yKHJlZ0V4cFNvdXJjZSwgcnVsZUlkKSB7XG4gICAgICAgIGlmIChyZWdFeHBTb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHJlZ0V4cFNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbGFzdFB1c2hlZFBvcyA9IDA7XG4gICAgICAgICAgICBsZXQgb3V0cHV0ID0gW107XG4gICAgICAgICAgICBsZXQgaGFzQW5jaG9yID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCBsZW47IHBvcysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2ggPSByZWdFeHBTb3VyY2UuY2hhckF0KHBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyArIDEgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaCA9IHJlZ0V4cFNvdXJjZS5jaGFyQXQocG9zICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoID09PSAneicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChyZWdFeHBTb3VyY2Uuc3Vic3RyaW5nKGxhc3RQdXNoZWRQb3MsIHBvcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKCckKD8hXFxcXG4pKD88IVxcXFxuKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQdXNoZWRQb3MgPSBwb3MgKyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dENoID09PSAnQScgfHwgbmV4dENoID09PSAnRycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBbmNob3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhhc0FuY2hvciA9IGhhc0FuY2hvcjtcbiAgICAgICAgICAgIGlmIChsYXN0UHVzaGVkUG9zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gXFx6IGhpdFxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlID0gcmVnRXhwU291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gocmVnRXhwU291cmNlLnN1YnN0cmluZyhsYXN0UHVzaGVkUG9zLCBsZW4pKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IG91dHB1dC5qb2luKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFzQW5jaG9yID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHJlZ0V4cFNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvckNhY2hlID0gdGhpcy5fYnVpbGRBbmNob3JDYWNoZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yQ2FjaGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVsZUlkID0gcnVsZUlkO1xuICAgICAgICB0aGlzLmhhc0JhY2tSZWZlcmVuY2VzID0gSEFTX0JBQ0tfUkVGRVJFTkNFUy50ZXN0KHRoaXMuc291cmNlKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2lucHV0OiAnICsgcmVnRXhwU291cmNlICsgJyA9PiAnICsgdGhpcy5zb3VyY2UgKyAnLCAnICsgdGhpcy5oYXNBbmNob3IpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHBTb3VyY2UodGhpcy5zb3VyY2UsIHRoaXMucnVsZUlkKTtcbiAgICB9XG4gICAgc2V0U291cmNlKG5ld1NvdXJjZSkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UgPT09IG5ld1NvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc291cmNlID0gbmV3U291cmNlO1xuICAgICAgICBpZiAodGhpcy5oYXNBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvckNhY2hlID0gdGhpcy5fYnVpbGRBbmNob3JDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc29sdmVCYWNrUmVmZXJlbmNlcyhsaW5lVGV4dCwgY2FwdHVyZUluZGljZXMpIHtcbiAgICAgICAgbGV0IGNhcHR1cmVkVmFsdWVzID0gY2FwdHVyZUluZGljZXMubWFwKChjYXB0dXJlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbGluZVRleHQuc3Vic3RyaW5nKGNhcHR1cmUuc3RhcnQsIGNhcHR1cmUuZW5kKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEJBQ0tfUkVGRVJFTkNJTkdfRU5ELmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5yZXBsYWNlKEJBQ0tfUkVGRVJFTkNJTkdfRU5ELCAobWF0Y2gsIGcxKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyhjYXB0dXJlZFZhbHVlc1twYXJzZUludChnMSwgMTApXSB8fCAnJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYnVpbGRBbmNob3JDYWNoZSgpIHtcbiAgICAgICAgbGV0IEEwX0cwX3Jlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgQTBfRzFfcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBBMV9HMF9yZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IEExX0cxX3Jlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgcG9zLCBsZW4sIGNoLCBuZXh0Q2g7XG4gICAgICAgIGZvciAocG9zID0gMCwgbGVuID0gdGhpcy5zb3VyY2UubGVuZ3RoOyBwb3MgPCBsZW47IHBvcysrKSB7XG4gICAgICAgICAgICBjaCA9IHRoaXMuc291cmNlLmNoYXJBdChwb3MpO1xuICAgICAgICAgICAgQTBfRzBfcmVzdWx0W3Bvc10gPSBjaDtcbiAgICAgICAgICAgIEEwX0cxX3Jlc3VsdFtwb3NdID0gY2g7XG4gICAgICAgICAgICBBMV9HMF9yZXN1bHRbcG9zXSA9IGNoO1xuICAgICAgICAgICAgQTFfRzFfcmVzdWx0W3Bvc10gPSBjaDtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyArIDEgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dENoID0gdGhpcy5zb3VyY2UuY2hhckF0KHBvcyArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoID09PSAnQScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEEwX0cwX3Jlc3VsdFtwb3MgKyAxXSA9ICdcXHVGRkZGJztcbiAgICAgICAgICAgICAgICAgICAgICAgIEEwX0cxX3Jlc3VsdFtwb3MgKyAxXSA9ICdcXHVGRkZGJztcbiAgICAgICAgICAgICAgICAgICAgICAgIEExX0cwX3Jlc3VsdFtwb3MgKyAxXSA9ICdBJztcbiAgICAgICAgICAgICAgICAgICAgICAgIEExX0cxX3Jlc3VsdFtwb3MgKyAxXSA9ICdBJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0Q2ggPT09ICdHJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgQTBfRzBfcmVzdWx0W3BvcyArIDFdID0gJ1xcdUZGRkYnO1xuICAgICAgICAgICAgICAgICAgICAgICAgQTBfRzFfcmVzdWx0W3BvcyArIDFdID0gJ0cnO1xuICAgICAgICAgICAgICAgICAgICAgICAgQTFfRzBfcmVzdWx0W3BvcyArIDFdID0gJ1xcdUZGRkYnO1xuICAgICAgICAgICAgICAgICAgICAgICAgQTFfRzFfcmVzdWx0W3BvcyArIDFdID0gJ0cnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQTBfRzBfcmVzdWx0W3BvcyArIDFdID0gbmV4dENoO1xuICAgICAgICAgICAgICAgICAgICAgICAgQTBfRzFfcmVzdWx0W3BvcyArIDFdID0gbmV4dENoO1xuICAgICAgICAgICAgICAgICAgICAgICAgQTFfRzBfcmVzdWx0W3BvcyArIDFdID0gbmV4dENoO1xuICAgICAgICAgICAgICAgICAgICAgICAgQTFfRzFfcmVzdWx0W3BvcyArIDFdID0gbmV4dENoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQTBfRzA6IEEwX0cwX3Jlc3VsdC5qb2luKCcnKSxcbiAgICAgICAgICAgIEEwX0cxOiBBMF9HMV9yZXN1bHQuam9pbignJyksXG4gICAgICAgICAgICBBMV9HMDogQTFfRzBfcmVzdWx0LmpvaW4oJycpLFxuICAgICAgICAgICAgQTFfRzE6IEExX0cxX3Jlc3VsdC5qb2luKCcnKVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXNvbHZlQW5jaG9ycyhhbGxvd0EsIGFsbG93Rykge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQW5jaG9yIHx8ICF0aGlzLl9hbmNob3JDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd0EpIHtcbiAgICAgICAgICAgIGlmIChhbGxvd0cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yQ2FjaGUuQTFfRzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yQ2FjaGUuQTFfRzA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYWxsb3dHKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvckNhY2hlLkEwX0cxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvckNhY2hlLkEwX0cwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgUmVnRXhwU291cmNlTGlzdCB7XG4gICAgX2l0ZW1zO1xuICAgIF9oYXNBbmNob3JzO1xuICAgIF9jYWNoZWQ7XG4gICAgX2FuY2hvckNhY2hlO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9oYXNBbmNob3JzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FuY2hvckNhY2hlID0ge1xuICAgICAgICAgICAgQTBfRzA6IG51bGwsXG4gICAgICAgICAgICBBMF9HMTogbnVsbCxcbiAgICAgICAgICAgIEExX0cwOiBudWxsLFxuICAgICAgICAgICAgQTFfRzE6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zZUNhY2hlcygpO1xuICAgIH1cbiAgICBfZGlzcG9zZUNhY2hlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FuY2hvckNhY2hlLkEwX0cwKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMF9HMC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMF9HMCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FuY2hvckNhY2hlLkEwX0cxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMF9HMS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMF9HMSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FuY2hvckNhY2hlLkExX0cwKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMV9HMC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMV9HMCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FuY2hvckNhY2hlLkExX0cxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMV9HMS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMV9HMSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVzaChpdGVtKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIHRoaXMuX2hhc0FuY2hvcnMgPSB0aGlzLl9oYXNBbmNob3JzIHx8IGl0ZW0uaGFzQW5jaG9yO1xuICAgIH1cbiAgICB1bnNoaWZ0KGl0ZW0pIHtcbiAgICAgICAgdGhpcy5faXRlbXMudW5zaGlmdChpdGVtKTtcbiAgICAgICAgdGhpcy5faGFzQW5jaG9ycyA9IHRoaXMuX2hhc0FuY2hvcnMgfHwgaXRlbS5oYXNBbmNob3I7XG4gICAgfVxuICAgIGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aDtcbiAgICB9XG4gICAgc2V0U291cmNlKGluZGV4LCBuZXdTb3VyY2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zW2luZGV4XS5zb3VyY2UgIT09IG5ld1NvdXJjZSkge1xuICAgICAgICAgICAgLy8gYnVzdCB0aGUgY2FjaGVcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VDYWNoZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zW2luZGV4XS5zZXRTb3VyY2UobmV3U291cmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21waWxlKG9uaWdMaWIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWQpIHtcbiAgICAgICAgICAgIGxldCByZWdFeHBzID0gdGhpcy5faXRlbXMubWFwKGUgPT4gZS5zb3VyY2UpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkID0gbmV3IENvbXBpbGVkUnVsZShvbmlnTGliLCByZWdFeHBzLCB0aGlzLl9pdGVtcy5tYXAoZSA9PiBlLnJ1bGVJZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuICAgIGNvbXBpbGVBRyhvbmlnTGliLCBhbGxvd0EsIGFsbG93Rykge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc0FuY2hvcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGUob25pZ0xpYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYWxsb3dBKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93Rykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FuY2hvckNhY2hlLkExX0cxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMV9HMSA9IHRoaXMuX3Jlc29sdmVBbmNob3JzKG9uaWdMaWIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yQ2FjaGUuQTFfRzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FuY2hvckNhY2hlLkExX0cwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMV9HMCA9IHRoaXMuX3Jlc29sdmVBbmNob3JzKG9uaWdMaWIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yQ2FjaGUuQTFfRzA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93Rykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FuY2hvckNhY2hlLkEwX0cxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMF9HMSA9IHRoaXMuX3Jlc29sdmVBbmNob3JzKG9uaWdMaWIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yQ2FjaGUuQTBfRzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FuY2hvckNhY2hlLkEwX0cwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JDYWNoZS5BMF9HMCA9IHRoaXMuX3Jlc29sdmVBbmNob3JzKG9uaWdMaWIsIGFsbG93QSwgYWxsb3dHKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yQ2FjaGUuQTBfRzA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNvbHZlQW5jaG9ycyhvbmlnTGliLCBhbGxvd0EsIGFsbG93Rykge1xuICAgICAgICBsZXQgcmVnRXhwcyA9IHRoaXMuX2l0ZW1zLm1hcChlID0+IGUucmVzb2x2ZUFuY2hvcnMoYWxsb3dBLCBhbGxvd0cpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlZFJ1bGUob25pZ0xpYiwgcmVnRXhwcywgdGhpcy5faXRlbXMubWFwKGUgPT4gZS5ydWxlSWQpKTtcbiAgICB9XG59XG5jbGFzcyBDb21waWxlZFJ1bGUge1xuICAgIHJlZ0V4cHM7XG4gICAgcnVsZXM7XG4gICAgc2Nhbm5lcjtcbiAgICBjb25zdHJ1Y3RvcihvbmlnTGliLCByZWdFeHBzLCBydWxlcykge1xuICAgICAgICB0aGlzLnJlZ0V4cHMgPSByZWdFeHBzO1xuICAgICAgICB0aGlzLnJ1bGVzID0gcnVsZXM7XG4gICAgICAgIHRoaXMuc2Nhbm5lciA9IG9uaWdMaWIuY3JlYXRlT25pZ1NjYW5uZXIocmVnRXhwcyk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY2FubmVyLmRpc3Bvc2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5zY2FubmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5ydWxlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgci5wdXNoKFwiICAgLSBcIiArIHRoaXMucnVsZXNbaV0gKyBcIjogXCIgKyB0aGlzLnJlZ0V4cHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIGZpbmROZXh0TWF0Y2hTeW5jKHN0cmluZywgc3RhcnRQb3NpdGlvbiwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjYW5uZXIuZmluZE5leHRNYXRjaFN5bmMoc3RyaW5nLCBzdGFydFBvc2l0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydWxlSWQ6IHRoaXMucnVsZXNbcmVzdWx0LmluZGV4XSxcbiAgICAgICAgICAgIGNhcHR1cmVJbmRpY2VzOiByZXN1bHQuY2FwdHVyZUluZGljZXMsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChDKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmNsYXNzIFRoZW1lIHtcbiAgICBfY29sb3JNYXA7XG4gICAgX2RlZmF1bHRzO1xuICAgIF9yb290O1xuICAgIHN0YXRpYyBjcmVhdGVGcm9tUmF3VGhlbWUoc291cmNlLCBjb2xvck1hcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyc2VkVGhlbWUocGFyc2VUaGVtZShzb3VyY2UpLCBjb2xvck1hcCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVGcm9tUGFyc2VkVGhlbWUoc291cmNlLCBjb2xvck1hcCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVBhcnNlZFRoZW1lUnVsZXMoc291cmNlLCBjb2xvck1hcCk7XG4gICAgfVxuICAgIF9jYWNoZWRNYXRjaFJvb3QgPSBuZXcgQ2FjaGVkRm4oKHNjb3BlTmFtZSkgPT4gdGhpcy5fcm9vdC5tYXRjaChzY29wZU5hbWUpKTtcbiAgICBjb25zdHJ1Y3RvcihfY29sb3JNYXAsIF9kZWZhdWx0cywgX3Jvb3QpIHtcbiAgICAgICAgdGhpcy5fY29sb3JNYXAgPSBfY29sb3JNYXA7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0gX2RlZmF1bHRzO1xuICAgICAgICB0aGlzLl9yb290ID0gX3Jvb3Q7XG4gICAgfVxuICAgIGdldENvbG9yTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3JNYXAuZ2V0Q29sb3JNYXAoKTtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0cztcbiAgICB9XG4gICAgbWF0Y2goc2NvcGVQYXRoKSB7XG4gICAgICAgIGlmIChzY29wZVBhdGggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0cztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY29wZU5hbWUgPSBzY29wZVBhdGguc2NvcGVOYW1lO1xuICAgICAgICBjb25zdCBtYXRjaGluZ1RyaWVFbGVtZW50cyA9IHRoaXMuX2NhY2hlZE1hdGNoUm9vdC5nZXQoc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3QgZWZmZWN0aXZlUnVsZSA9IG1hdGNoaW5nVHJpZUVsZW1lbnRzLmZpbmQoKHYpID0+IF9zY29wZVBhdGhNYXRjaGVzUGFyZW50U2NvcGVzKHNjb3BlUGF0aC5wYXJlbnQsIHYucGFyZW50U2NvcGVzKSk7XG4gICAgICAgIGlmICghZWZmZWN0aXZlUnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHlsZUF0dHJpYnV0ZXMoZWZmZWN0aXZlUnVsZS5mb250U3R5bGUsIGVmZmVjdGl2ZVJ1bGUuZm9yZWdyb3VuZCwgZWZmZWN0aXZlUnVsZS5iYWNrZ3JvdW5kKTtcbiAgICB9XG59XG5jbGFzcyBTY29wZVN0YWNrIHtcbiAgICBwYXJlbnQ7XG4gICAgc2NvcGVOYW1lO1xuICAgIHN0YXRpYyBwdXNoKHBhdGgsIHNjb3BlTmFtZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHNjb3BlTmFtZXMpIHtcbiAgICAgICAgICAgIHBhdGggPSBuZXcgU2NvcGVTdGFjayhwYXRoLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgc3RhdGljIGZyb20oLi4uc2VnbWVudHMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBTY29wZVN0YWNrKHJlc3VsdCwgc2VnbWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgc2NvcGVOYW1lKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnNjb3BlTmFtZSA9IHNjb3BlTmFtZTtcbiAgICB9XG4gICAgcHVzaChzY29wZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTY29wZVN0YWNrKHRoaXMsIHNjb3BlTmFtZSk7XG4gICAgfVxuICAgIGdldFNlZ21lbnRzKCkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAoaXRlbSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbS5zY29wZU5hbWUpO1xuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWdtZW50cygpLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgZXh0ZW5kcyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5leHRlbmRzKG90aGVyKTtcbiAgICB9XG4gICAgZ2V0RXh0ZW5zaW9uSWZEZWZpbmVkKGJhc2UpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBpdGVtID0gdGhpcztcbiAgICAgICAgd2hpbGUgKGl0ZW0gJiYgaXRlbSAhPT0gYmFzZSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbS5zY29wZU5hbWUpO1xuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtID09PSBiYXNlID8gcmVzdWx0LnJldmVyc2UoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBfc2NvcGVQYXRoTWF0Y2hlc1BhcmVudFNjb3BlcyhzY29wZVBhdGgsIHBhcmVudFNjb3Blcykge1xuICAgIGlmIChwYXJlbnRTY29wZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IHNjb3BlUGF0dGVybiA9IHBhcmVudFNjb3Blc1tpbmRleF07XG4gICAgd2hpbGUgKHNjb3BlUGF0aCkge1xuICAgICAgICBpZiAoX21hdGNoZXNTY29wZShzY29wZVBhdGguc2NvcGVOYW1lLCBzY29wZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBwYXJlbnRTY29wZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY29wZVBhdHRlcm4gPSBwYXJlbnRTY29wZXNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHNjb3BlUGF0aCA9IHNjb3BlUGF0aC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIF9tYXRjaGVzU2NvcGUoc2NvcGVOYW1lLCBzY29wZVBhdHRlcm4pIHtcbiAgICByZXR1cm4gc2NvcGVQYXR0ZXJuID09PSBzY29wZU5hbWUgfHwgKHNjb3BlTmFtZS5zdGFydHNXaXRoKHNjb3BlUGF0dGVybikgJiYgc2NvcGVOYW1lW3Njb3BlUGF0dGVybi5sZW5ndGhdID09PSAnLicpO1xufVxuY2xhc3MgU3R5bGVBdHRyaWJ1dGVzIHtcbiAgICBmb250U3R5bGU7XG4gICAgZm9yZWdyb3VuZElkO1xuICAgIGJhY2tncm91bmRJZDtcbiAgICBjb25zdHJ1Y3Rvcihmb250U3R5bGUsIGZvcmVncm91bmRJZCwgYmFja2dyb3VuZElkKSB7XG4gICAgICAgIHRoaXMuZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICB0aGlzLmZvcmVncm91bmRJZCA9IGZvcmVncm91bmRJZDtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSWQgPSBiYWNrZ3JvdW5kSWQ7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJzZSBhIHJhdyB0aGVtZSBpbnRvIHJ1bGVzLlxuICovXG5mdW5jdGlvbiBwYXJzZVRoZW1lKHNvdXJjZSkge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFzb3VyY2Uuc2V0dGluZ3MgfHwgIUFycmF5LmlzQXJyYXkoc291cmNlLnNldHRpbmdzKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBzZXR0aW5ncyA9IHNvdXJjZS5zZXR0aW5ncztcbiAgICBsZXQgcmVzdWx0ID0gW10sIHJlc3VsdExlbiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHNldHRpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBlbnRyeSA9IHNldHRpbmdzW2ldO1xuICAgICAgICBpZiAoIWVudHJ5LnNldHRpbmdzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2NvcGVzO1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5LnNjb3BlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGV0IF9zY29wZSA9IGVudHJ5LnNjb3BlO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGxlYWRpbmcgY29tbWFzXG4gICAgICAgICAgICBfc2NvcGUgPSBfc2NvcGUucmVwbGFjZSgvXlssXSsvLCAnJyk7XG4gICAgICAgICAgICAvLyByZW1vdmUgdHJhaWxpbmcgY29tbWFuc1xuICAgICAgICAgICAgX3Njb3BlID0gX3Njb3BlLnJlcGxhY2UoL1ssXSskLywgJycpO1xuICAgICAgICAgICAgc2NvcGVzID0gX3Njb3BlLnNwbGl0KCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbnRyeS5zY29wZSkpIHtcbiAgICAgICAgICAgIHNjb3BlcyA9IGVudHJ5LnNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NvcGVzID0gWycnXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZm9udFN0eWxlID0gLTEgLyogRm9udFN0eWxlLk5vdFNldCAqLztcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeS5zZXR0aW5ncy5mb250U3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmb250U3R5bGUgPSAwIC8qIEZvbnRTdHlsZS5Ob25lICovO1xuICAgICAgICAgICAgbGV0IHNlZ21lbnRzID0gZW50cnkuc2V0dGluZ3MuZm9udFN0eWxlLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgbGVuSiA9IHNlZ21lbnRzLmxlbmd0aDsgaiA8IGxlbko7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gc2VnbWVudHNbal07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2l0YWxpYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSBmb250U3R5bGUgfCAxIC8qIEZvbnRTdHlsZS5JdGFsaWMgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm9sZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSBmb250U3R5bGUgfCAyIC8qIEZvbnRTdHlsZS5Cb2xkICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3VuZGVybGluZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSBmb250U3R5bGUgfCA0IC8qIEZvbnRTdHlsZS5VbmRlcmxpbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaWtldGhyb3VnaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGUgPSBmb250U3R5bGUgfCA4IC8qIEZvbnRTdHlsZS5TdHJpa2V0aHJvdWdoICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBmb3JlZ3JvdW5kID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeS5zZXR0aW5ncy5mb3JlZ3JvdW5kID09PSAnc3RyaW5nJyAmJiBpc1ZhbGlkSGV4Q29sb3IoZW50cnkuc2V0dGluZ3MuZm9yZWdyb3VuZCkpIHtcbiAgICAgICAgICAgIGZvcmVncm91bmQgPSBlbnRyeS5zZXR0aW5ncy5mb3JlZ3JvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeS5zZXR0aW5ncy5iYWNrZ3JvdW5kID09PSAnc3RyaW5nJyAmJiBpc1ZhbGlkSGV4Q29sb3IoZW50cnkuc2V0dGluZ3MuYmFja2dyb3VuZCkpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSBlbnRyeS5zZXR0aW5ncy5iYWNrZ3JvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBsZW5KID0gc2NvcGVzLmxlbmd0aDsgaiA8IGxlbko7IGorKykge1xuICAgICAgICAgICAgbGV0IF9zY29wZSA9IHNjb3Blc1tqXS50cmltKCk7XG4gICAgICAgICAgICBsZXQgc2VnbWVudHMgPSBfc2NvcGUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIGxldCBzY29wZSA9IHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IHBhcmVudFNjb3BlcyA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFNjb3BlcyA9IHNlZ21lbnRzLnNsaWNlKDAsIHNlZ21lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIHBhcmVudFNjb3Blcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gbmV3IFBhcnNlZFRoZW1lUnVsZShzY29wZSwgcGFyZW50U2NvcGVzLCBpLCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBQYXJzZWRUaGVtZVJ1bGUge1xuICAgIHNjb3BlO1xuICAgIHBhcmVudFNjb3BlcztcbiAgICBpbmRleDtcbiAgICBmb250U3R5bGU7XG4gICAgZm9yZWdyb3VuZDtcbiAgICBiYWNrZ3JvdW5kO1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlLCBwYXJlbnRTY29wZXMsIGluZGV4LCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLnBhcmVudFNjb3BlcyA9IHBhcmVudFNjb3BlcztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZDtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmUgcnVsZXMgKGkuZS4gaW5oZXJpdGFuY2UpLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUGFyc2VkVGhlbWVSdWxlcyhwYXJzZWRUaGVtZVJ1bGVzLCBfY29sb3JNYXApIHtcbiAgICAvLyBTb3J0IHJ1bGVzIGxleGljb2dyYXBoaWNhbGx5LCBhbmQgdGhlbiBieSBpbmRleCBpZiBuZWNlc3NhcnlcbiAgICBwYXJzZWRUaGVtZVJ1bGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgbGV0IHIgPSBzdHJjbXAoYS5zY29wZSwgYi5zY29wZSk7XG4gICAgICAgIGlmIChyICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgICAgICByID0gc3RyQXJyQ21wKGEucGFyZW50U2NvcGVzLCBiLnBhcmVudFNjb3Blcyk7XG4gICAgICAgIGlmIChyICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgfSk7XG4gICAgLy8gRGV0ZXJtaW5lIGRlZmF1bHRzXG4gICAgbGV0IGRlZmF1bHRGb250U3R5bGUgPSAwIC8qIEZvbnRTdHlsZS5Ob25lICovO1xuICAgIGxldCBkZWZhdWx0Rm9yZWdyb3VuZCA9ICcjMDAwMDAwJztcbiAgICBsZXQgZGVmYXVsdEJhY2tncm91bmQgPSAnI2ZmZmZmZic7XG4gICAgd2hpbGUgKHBhcnNlZFRoZW1lUnVsZXMubGVuZ3RoID49IDEgJiYgcGFyc2VkVGhlbWVSdWxlc1swXS5zY29wZSA9PT0gJycpIHtcbiAgICAgICAgbGV0IGluY29taW5nRGVmYXVsdHMgPSBwYXJzZWRUaGVtZVJ1bGVzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChpbmNvbWluZ0RlZmF1bHRzLmZvbnRTdHlsZSAhPT0gLTEgLyogRm9udFN0eWxlLk5vdFNldCAqLykge1xuICAgICAgICAgICAgZGVmYXVsdEZvbnRTdHlsZSA9IGluY29taW5nRGVmYXVsdHMuZm9udFN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNvbWluZ0RlZmF1bHRzLmZvcmVncm91bmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlZmF1bHRGb3JlZ3JvdW5kID0gaW5jb21pbmdEZWZhdWx0cy5mb3JlZ3JvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNvbWluZ0RlZmF1bHRzLmJhY2tncm91bmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kID0gaW5jb21pbmdEZWZhdWx0cy5iYWNrZ3JvdW5kO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjb2xvck1hcCA9IG5ldyBDb2xvck1hcChfY29sb3JNYXApO1xuICAgIGxldCBkZWZhdWx0cyA9IG5ldyBTdHlsZUF0dHJpYnV0ZXMoZGVmYXVsdEZvbnRTdHlsZSwgY29sb3JNYXAuZ2V0SWQoZGVmYXVsdEZvcmVncm91bmQpLCBjb2xvck1hcC5nZXRJZChkZWZhdWx0QmFja2dyb3VuZCkpO1xuICAgIGxldCByb290ID0gbmV3IFRoZW1lVHJpZUVsZW1lbnQobmV3IFRoZW1lVHJpZUVsZW1lbnRSdWxlKDAsIG51bGwsIC0xIC8qIEZvbnRTdHlsZS5Ob3RTZXQgKi8sIDAsIDApLCBbXSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhcnNlZFRoZW1lUnVsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHJ1bGUgPSBwYXJzZWRUaGVtZVJ1bGVzW2ldO1xuICAgICAgICByb290Lmluc2VydCgwLCBydWxlLnNjb3BlLCBydWxlLnBhcmVudFNjb3BlcywgcnVsZS5mb250U3R5bGUsIGNvbG9yTWFwLmdldElkKHJ1bGUuZm9yZWdyb3VuZCksIGNvbG9yTWFwLmdldElkKHJ1bGUuYmFja2dyb3VuZCkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFRoZW1lKGNvbG9yTWFwLCBkZWZhdWx0cywgcm9vdCk7XG59XG5jbGFzcyBDb2xvck1hcCB7XG4gICAgX2lzRnJvemVuO1xuICAgIF9sYXN0Q29sb3JJZDtcbiAgICBfaWQyY29sb3I7XG4gICAgX2NvbG9yMmlkO1xuICAgIGNvbnN0cnVjdG9yKF9jb2xvck1hcCkge1xuICAgICAgICB0aGlzLl9sYXN0Q29sb3JJZCA9IDA7XG4gICAgICAgIHRoaXMuX2lkMmNvbG9yID0gW107XG4gICAgICAgIHRoaXMuX2NvbG9yMmlkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX2NvbG9yTWFwKSkge1xuICAgICAgICAgICAgdGhpcy5faXNGcm96ZW4gPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IF9jb2xvck1hcC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbG9yMmlkW19jb2xvck1hcFtpXV0gPSBpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lkMmNvbG9yW2ldID0gX2NvbG9yTWFwW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faXNGcm96ZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRJZChjb2xvcikge1xuICAgICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbG9yID0gY29sb3IudG9VcHBlckNhc2UoKTtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fY29sb3IyaWRbY29sb3JdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNGcm96ZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBjb2xvciBpbiBjb2xvciBtYXAgLSAke2NvbG9yfWApO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gKyt0aGlzLl9sYXN0Q29sb3JJZDtcbiAgICAgICAgdGhpcy5fY29sb3IyaWRbY29sb3JdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2lkMmNvbG9yW3ZhbHVlXSA9IGNvbG9yO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGdldENvbG9yTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQyY29sb3Iuc2xpY2UoMCk7XG4gICAgfVxufVxuY2xhc3MgVGhlbWVUcmllRWxlbWVudFJ1bGUge1xuICAgIHNjb3BlRGVwdGg7XG4gICAgcGFyZW50U2NvcGVzO1xuICAgIGZvbnRTdHlsZTtcbiAgICBmb3JlZ3JvdW5kO1xuICAgIGJhY2tncm91bmQ7XG4gICAgY29uc3RydWN0b3Ioc2NvcGVEZXB0aCwgcGFyZW50U2NvcGVzLCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgICAgICAgdGhpcy5zY29wZURlcHRoID0gc2NvcGVEZXB0aDtcbiAgICAgICAgdGhpcy5wYXJlbnRTY29wZXMgPSBwYXJlbnRTY29wZXM7XG4gICAgICAgIHRoaXMuZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBmb3JlZ3JvdW5kO1xuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaGVtZVRyaWVFbGVtZW50UnVsZSh0aGlzLnNjb3BlRGVwdGgsIHRoaXMucGFyZW50U2NvcGVzLCB0aGlzLmZvbnRTdHlsZSwgdGhpcy5mb3JlZ3JvdW5kLCB0aGlzLmJhY2tncm91bmQpO1xuICAgIH1cbiAgICBzdGF0aWMgY2xvbmVBcnIoYXJyKSB7XG4gICAgICAgIGxldCByID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHJbaV0gPSBhcnJbaV0uY2xvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgYWNjZXB0T3ZlcndyaXRlKHNjb3BlRGVwdGgsIGZvbnRTdHlsZSwgZm9yZWdyb3VuZCwgYmFja2dyb3VuZCkge1xuICAgICAgICBpZiAodGhpcy5zY29wZURlcHRoID4gc2NvcGVEZXB0aCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2hvdyBkaWQgdGhpcyBoYXBwZW4/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlRGVwdGggPSBzY29wZURlcHRoO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdUT0RPIC0+IG15IGRlcHRoOiAnICsgdGhpcy5zY29wZURlcHRoICsgJywgb3ZlcndyaXRpbmcgZGVwdGg6ICcgKyBzY29wZURlcHRoKTtcbiAgICAgICAgaWYgKGZvbnRTdHlsZSAhPT0gLTEgLyogRm9udFN0eWxlLk5vdFNldCAqLykge1xuICAgICAgICAgICAgdGhpcy5mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmVncm91bmQgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZm9yZWdyb3VuZCA9IGZvcmVncm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmQgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBUaGVtZVRyaWVFbGVtZW50IHtcbiAgICBfbWFpblJ1bGU7XG4gICAgX2NoaWxkcmVuO1xuICAgIF9ydWxlc1dpdGhQYXJlbnRTY29wZXM7XG4gICAgY29uc3RydWN0b3IoX21haW5SdWxlLCBydWxlc1dpdGhQYXJlbnRTY29wZXMgPSBbXSwgX2NoaWxkcmVuID0ge30pIHtcbiAgICAgICAgdGhpcy5fbWFpblJ1bGUgPSBfbWFpblJ1bGU7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gX2NoaWxkcmVuO1xuICAgICAgICB0aGlzLl9ydWxlc1dpdGhQYXJlbnRTY29wZXMgPSBydWxlc1dpdGhQYXJlbnRTY29wZXM7XG4gICAgfVxuICAgIHN0YXRpYyBfc29ydEJ5U3BlY2lmaWNpdHkoYXJyKSB7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG4gICAgICAgIGFyci5zb3J0KHRoaXMuX2NtcEJ5U3BlY2lmaWNpdHkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICBzdGF0aWMgX2NtcEJ5U3BlY2lmaWNpdHkoYSwgYikge1xuICAgICAgICBpZiAoYS5zY29wZURlcHRoID09PSBiLnNjb3BlRGVwdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFQYXJlbnRTY29wZXMgPSBhLnBhcmVudFNjb3BlcztcbiAgICAgICAgICAgIGNvbnN0IGJQYXJlbnRTY29wZXMgPSBiLnBhcmVudFNjb3BlcztcbiAgICAgICAgICAgIGxldCBhUGFyZW50U2NvcGVzTGVuID0gYVBhcmVudFNjb3BlcyA9PT0gbnVsbCA/IDAgOiBhUGFyZW50U2NvcGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBiUGFyZW50U2NvcGVzTGVuID0gYlBhcmVudFNjb3BlcyA9PT0gbnVsbCA/IDAgOiBiUGFyZW50U2NvcGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhUGFyZW50U2NvcGVzTGVuID09PSBiUGFyZW50U2NvcGVzTGVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhUGFyZW50U2NvcGVzTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYUxlbiA9IGFQYXJlbnRTY29wZXNbaV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiTGVuID0gYlBhcmVudFNjb3Blc1tpXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhTGVuICE9PSBiTGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYkxlbiAtIGFMZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYlBhcmVudFNjb3Blc0xlbiAtIGFQYXJlbnRTY29wZXNMZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIuc2NvcGVEZXB0aCAtIGEuc2NvcGVEZXB0aDtcbiAgICB9XG4gICAgbWF0Y2goc2NvcGUpIHtcbiAgICAgICAgaWYgKHNjb3BlID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIFRoZW1lVHJpZUVsZW1lbnQuX3NvcnRCeVNwZWNpZmljaXR5KFtdLmNvbmNhdCh0aGlzLl9tYWluUnVsZSkuY29uY2F0KHRoaXMuX3J1bGVzV2l0aFBhcmVudFNjb3BlcykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkb3RJbmRleCA9IHNjb3BlLmluZGV4T2YoJy4nKTtcbiAgICAgICAgbGV0IGhlYWQ7XG4gICAgICAgIGxldCB0YWlsO1xuICAgICAgICBpZiAoZG90SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBoZWFkID0gc2NvcGU7XG4gICAgICAgICAgICB0YWlsID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWFkID0gc2NvcGUuc3Vic3RyaW5nKDAsIGRvdEluZGV4KTtcbiAgICAgICAgICAgIHRhaWwgPSBzY29wZS5zdWJzdHJpbmcoZG90SW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2hpbGRyZW4uaGFzT3duUHJvcGVydHkoaGVhZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbltoZWFkXS5tYXRjaCh0YWlsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGhlbWVUcmllRWxlbWVudC5fc29ydEJ5U3BlY2lmaWNpdHkoW10uY29uY2F0KHRoaXMuX21haW5SdWxlKS5jb25jYXQodGhpcy5fcnVsZXNXaXRoUGFyZW50U2NvcGVzKSk7XG4gICAgfVxuICAgIGluc2VydChzY29wZURlcHRoLCBzY29wZSwgcGFyZW50U2NvcGVzLCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgICAgICAgaWYgKHNjb3BlID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5fZG9JbnNlcnRIZXJlKHNjb3BlRGVwdGgsIHBhcmVudFNjb3BlcywgZm9udFN0eWxlLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZG90SW5kZXggPSBzY29wZS5pbmRleE9mKCcuJyk7XG4gICAgICAgIGxldCBoZWFkO1xuICAgICAgICBsZXQgdGFpbDtcbiAgICAgICAgaWYgKGRvdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgaGVhZCA9IHNjb3BlO1xuICAgICAgICAgICAgdGFpbCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGVhZCA9IHNjb3BlLnN1YnN0cmluZygwLCBkb3RJbmRleCk7XG4gICAgICAgICAgICB0YWlsID0gc2NvcGUuc3Vic3RyaW5nKGRvdEluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICBpZiAodGhpcy5fY2hpbGRyZW4uaGFzT3duUHJvcGVydHkoaGVhZCkpIHtcbiAgICAgICAgICAgIGNoaWxkID0gdGhpcy5fY2hpbGRyZW5baGVhZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGlsZCA9IG5ldyBUaGVtZVRyaWVFbGVtZW50KHRoaXMuX21haW5SdWxlLmNsb25lKCksIFRoZW1lVHJpZUVsZW1lbnRSdWxlLmNsb25lQXJyKHRoaXMuX3J1bGVzV2l0aFBhcmVudFNjb3BlcykpO1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baGVhZF0gPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5pbnNlcnQoc2NvcGVEZXB0aCArIDEsIHRhaWwsIHBhcmVudFNjb3BlcywgZm9udFN0eWxlLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgX2RvSW5zZXJ0SGVyZShzY29wZURlcHRoLCBwYXJlbnRTY29wZXMsIGZvbnRTdHlsZSwgZm9yZWdyb3VuZCwgYmFja2dyb3VuZCkge1xuICAgICAgICBpZiAocGFyZW50U2NvcGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBNZXJnZSBpbnRvIHRoZSBtYWluIHJ1bGVcbiAgICAgICAgICAgIHRoaXMuX21haW5SdWxlLmFjY2VwdE92ZXJ3cml0ZShzY29wZURlcHRoLCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyeSB0byBtZXJnZSBpbnRvIGV4aXN0aW5nIHJ1bGVcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX3J1bGVzV2l0aFBhcmVudFNjb3Blcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IHJ1bGUgPSB0aGlzLl9ydWxlc1dpdGhQYXJlbnRTY29wZXNbaV07XG4gICAgICAgICAgICBpZiAoc3RyQXJyQ21wKHJ1bGUucGFyZW50U2NvcGVzLCBwYXJlbnRTY29wZXMpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gYmluZ28hID0+IHdlIGdldCB0byBtZXJnZSB0aGlzIGludG8gYW4gZXhpc3Rpbmcgb25lXG4gICAgICAgICAgICAgICAgcnVsZS5hY2NlcHRPdmVyd3JpdGUoc2NvcGVEZXB0aCwgZm9udFN0eWxlLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXVzdCBhZGQgYSBuZXcgcnVsZVxuICAgICAgICAvLyBJbmhlcml0IGZyb20gbWFpbiBydWxlXG4gICAgICAgIGlmIChmb250U3R5bGUgPT09IC0xIC8qIEZvbnRTdHlsZS5Ob3RTZXQgKi8pIHtcbiAgICAgICAgICAgIGZvbnRTdHlsZSA9IHRoaXMuX21haW5SdWxlLmZvbnRTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9yZWdyb3VuZCA9PT0gMCkge1xuICAgICAgICAgICAgZm9yZWdyb3VuZCA9IHRoaXMuX21haW5SdWxlLmZvcmVncm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmQgPT09IDApIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSB0aGlzLl9tYWluUnVsZS5iYWNrZ3JvdW5kO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3J1bGVzV2l0aFBhcmVudFNjb3Blcy5wdXNoKG5ldyBUaGVtZVRyaWVFbGVtZW50UnVsZShzY29wZURlcHRoLCBwYXJlbnRTY29wZXMsIGZvbnRTdHlsZSwgZm9yZWdyb3VuZCwgYmFja2dyb3VuZCkpO1xuICAgIH1cbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoQykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5jbGFzcyBCYXNpY1Njb3BlQXR0cmlidXRlcyB7XG4gICAgbGFuZ3VhZ2VJZDtcbiAgICB0b2tlblR5cGU7XG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VJZCwgdG9rZW5UeXBlKSB7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgICAgIHRoaXMudG9rZW5UeXBlID0gdG9rZW5UeXBlO1xuICAgIH1cbn1cbmNsYXNzIEJhc2ljU2NvcGVBdHRyaWJ1dGVzUHJvdmlkZXIge1xuICAgIF9kZWZhdWx0QXR0cmlidXRlcztcbiAgICBfZW1iZWRkZWRMYW5ndWFnZXNNYXRjaGVyO1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxMYW5ndWFnZUlkLCBlbWJlZGRlZExhbmd1YWdlcykge1xuICAgICAgICB0aGlzLl9kZWZhdWx0QXR0cmlidXRlcyA9IG5ldyBCYXNpY1Njb3BlQXR0cmlidXRlcyhpbml0aWFsTGFuZ3VhZ2VJZCwgOCAvKiBPcHRpb25hbFN0YW5kYXJkVG9rZW5UeXBlLk5vdFNldCAqLyk7XG4gICAgICAgIHRoaXMuX2VtYmVkZGVkTGFuZ3VhZ2VzTWF0Y2hlciA9IG5ldyBTY29wZU1hdGNoZXIoT2JqZWN0LmVudHJpZXMoZW1iZWRkZWRMYW5ndWFnZXMgfHwge30pKTtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0QXR0cmlidXRlcztcbiAgICB9XG4gICAgZ2V0QmFzaWNTY29wZUF0dHJpYnV0ZXMoc2NvcGVOYW1lKSB7XG4gICAgICAgIGlmIChzY29wZU5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNpY1Njb3BlQXR0cmlidXRlc1Byb3ZpZGVyLl9OVUxMX1NDT1BFX01FVEFEQVRBO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCYXNpY1Njb3BlQXR0cmlidXRlcy5nZXQoc2NvcGVOYW1lKTtcbiAgICB9XG4gICAgc3RhdGljIF9OVUxMX1NDT1BFX01FVEFEQVRBID0gbmV3IEJhc2ljU2NvcGVBdHRyaWJ1dGVzKDAsIDApO1xuICAgIF9nZXRCYXNpY1Njb3BlQXR0cmlidXRlcyA9IG5ldyBDYWNoZWRGbigoc2NvcGVOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSB0aGlzLl9zY29wZVRvTGFuZ3VhZ2Uoc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3Qgc3RhbmRhcmRUb2tlblR5cGUgPSB0aGlzLl90b1N0YW5kYXJkVG9rZW5UeXBlKHNjb3BlTmFtZSk7XG4gICAgICAgIHJldHVybiBuZXcgQmFzaWNTY29wZUF0dHJpYnV0ZXMobGFuZ3VhZ2VJZCwgc3RhbmRhcmRUb2tlblR5cGUpO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcHJvZHVjZWQgVE0gc2NvcGUsIHJldHVybiB0aGUgbGFuZ3VhZ2UgdGhhdCB0b2tlbiBkZXNjcmliZXMgb3IgbnVsbCBpZiB1bmtub3duLlxuICAgICAqIGUuZy4gc291cmNlLmh0bWwgPT4gaHRtbCwgc291cmNlLmNzcy5lbWJlZGRlZC5odG1sID0+IGNzcywgcHVuY3R1YXRpb24uZGVmaW5pdGlvbi50YWcuaHRtbCA9PiBudWxsXG4gICAgICovXG4gICAgX3Njb3BlVG9MYW5ndWFnZShzY29wZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1iZWRkZWRMYW5ndWFnZXNNYXRjaGVyLm1hdGNoKHNjb3BlKSB8fCAwO1xuICAgIH1cbiAgICBfdG9TdGFuZGFyZFRva2VuVHlwZShzY29wZU5hbWUpIHtcbiAgICAgICAgY29uc3QgbSA9IHNjb3BlTmFtZS5tYXRjaChCYXNpY1Njb3BlQXR0cmlidXRlc1Byb3ZpZGVyLlNUQU5EQVJEX1RPS0VOX1RZUEVfUkVHRVhQKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gOCAvKiBPcHRpb25hbFN0YW5kYXJkVG9rZW5UeXBlLk5vdFNldCAqLztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1bMV0pIHtcbiAgICAgICAgICAgIGNhc2UgXCJjb21tZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogT3B0aW9uYWxTdGFuZGFyZFRva2VuVHlwZS5Db21tZW50ICovO1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIE9wdGlvbmFsU3RhbmRhcmRUb2tlblR5cGUuU3RyaW5nICovO1xuICAgICAgICAgICAgY2FzZSBcInJlZ2V4XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDMgLyogT3B0aW9uYWxTdGFuZGFyZFRva2VuVHlwZS5SZWdFeCAqLztcbiAgICAgICAgICAgIGNhc2UgXCJtZXRhLmVtYmVkZGVkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAgLyogT3B0aW9uYWxTdGFuZGFyZFRva2VuVHlwZS5PdGhlciAqLztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIG1hdGNoIGZvciBzdGFuZGFyZCB0b2tlbiB0eXBlIVwiKTtcbiAgICB9XG4gICAgc3RhdGljIFNUQU5EQVJEX1RPS0VOX1RZUEVfUkVHRVhQID0gL1xcYihjb21tZW50fHN0cmluZ3xyZWdleHxtZXRhXFwuZW1iZWRkZWQpXFxiLztcbn1cbmNsYXNzIFNjb3BlTWF0Y2hlciB7XG4gICAgdmFsdWVzO1xuICAgIHNjb3Blc1JlZ0V4cDtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVzUmVnRXhwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzID0gbmV3IE1hcCh2YWx1ZXMpO1xuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSByZWdleFxuICAgICAgICAgICAgY29uc3QgZXNjYXBlZFNjb3BlcyA9IHZhbHVlcy5tYXAoKFtzY29wZU5hbWUsIHZhbHVlXSkgPT4gZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyhzY29wZU5hbWUpKTtcbiAgICAgICAgICAgIGVzY2FwZWRTY29wZXMuc29ydCgpO1xuICAgICAgICAgICAgZXNjYXBlZFNjb3Blcy5yZXZlcnNlKCk7IC8vIExvbmdlc3Qgc2NvcGUgZmlyc3RcbiAgICAgICAgICAgIHRoaXMuc2NvcGVzUmVnRXhwID0gbmV3IFJlZ0V4cChgXigoJHtlc2NhcGVkU2NvcGVzLmpvaW4oXCIpfChcIil9KSkoJHxcXFxcLilgLCBcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaChzY29wZSkge1xuICAgICAgICBpZiAoIXRoaXMuc2NvcGVzUmVnRXhwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzY29wZS5tYXRjaCh0aGlzLnNjb3Blc1JlZ0V4cCk7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgLy8gbm8gc2NvcGVzIG1hdGNoZWRcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzLmdldChtWzFdKTtcbiAgICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY2xhc3MgVG9rZW5pemVTdHJpbmdSZXN1bHQge1xuICAgIHN0YWNrO1xuICAgIHN0b3BwZWRFYXJseTtcbiAgICBjb25zdHJ1Y3RvcihzdGFjaywgc3RvcHBlZEVhcmx5KSB7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5zdG9wcGVkRWFybHkgPSBzdG9wcGVkRWFybHk7XG4gICAgfVxufVxuLyoqXG4gKiBUb2tlbml6ZSBhIHN0cmluZ1xuICogQHBhcmFtIGdyYW1tYXJcbiAqIEBwYXJhbSBsaW5lVGV4dFxuICogQHBhcmFtIGlzRmlyc3RMaW5lXG4gKiBAcGFyYW0gbGluZVBvc1xuICogQHBhcmFtIHN0YWNrXG4gKiBAcGFyYW0gbGluZVRva2Vuc1xuICogQHBhcmFtIGNoZWNrV2hpbGVDb25kaXRpb25zXG4gKiBAcGFyYW0gdGltZUxpbWl0IFVzZSBgMGAgdG8gaW5kaWNhdGUgbm8gdGltZSBsaW1pdFxuICogQHJldHVybnMgdGhlIFN0YWNrRWxlbWVudCBvciBTdGFja0VsZW1lbnQuVElNRV9MSU1JVF9SRUFDSEVEIGlmIHRoZSB0aW1lIGxpbWl0IGhhcyBiZWVuIHJlYWNoZWRcbiAqL1xuZnVuY3Rpb24gX3Rva2VuaXplU3RyaW5nKGdyYW1tYXIsIGxpbmVUZXh0LCBpc0ZpcnN0TGluZSwgbGluZVBvcywgc3RhY2ssIGxpbmVUb2tlbnMsIGNoZWNrV2hpbGVDb25kaXRpb25zLCB0aW1lTGltaXQpIHtcbiAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZVRleHQuY29udGVudC5sZW5ndGg7XG4gICAgbGV0IFNUT1AgPSBmYWxzZTtcbiAgICBsZXQgYW5jaG9yUG9zaXRpb24gPSAtMTtcbiAgICBpZiAoY2hlY2tXaGlsZUNvbmRpdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgd2hpbGVDaGVja1Jlc3VsdCA9IF9jaGVja1doaWxlQ29uZGl0aW9ucyhncmFtbWFyLCBsaW5lVGV4dCwgaXNGaXJzdExpbmUsIGxpbmVQb3MsIHN0YWNrLCBsaW5lVG9rZW5zKTtcbiAgICAgICAgc3RhY2sgPSB3aGlsZUNoZWNrUmVzdWx0LnN0YWNrO1xuICAgICAgICBsaW5lUG9zID0gd2hpbGVDaGVja1Jlc3VsdC5saW5lUG9zO1xuICAgICAgICBpc0ZpcnN0TGluZSA9IHdoaWxlQ2hlY2tSZXN1bHQuaXNGaXJzdExpbmU7XG4gICAgICAgIGFuY2hvclBvc2l0aW9uID0gd2hpbGVDaGVja1Jlc3VsdC5hbmNob3JQb3NpdGlvbjtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB3aGlsZSAoIVNUT1ApIHtcbiAgICAgICAgaWYgKHRpbWVMaW1pdCAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lID4gdGltZUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUb2tlbml6ZVN0cmluZ1Jlc3VsdChzdGFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2Nhbk5leHQoKTsgLy8gcG90ZW50aWFsbHkgbW9kaWZpZXMgbGluZVBvcyAmJiBhbmNob3JQb3NpdGlvblxuICAgIH1cbiAgICByZXR1cm4gbmV3IFRva2VuaXplU3RyaW5nUmVzdWx0KHN0YWNrLCBmYWxzZSk7XG4gICAgZnVuY3Rpb24gc2Nhbk5leHQoKSB7XG4gICAgICAgIGNvbnN0IHIgPSBtYXRjaFJ1bGVPckluamVjdGlvbnMoZ3JhbW1hciwgbGluZVRleHQsIGlzRmlyc3RMaW5lLCBsaW5lUG9zLCBzdGFjaywgYW5jaG9yUG9zaXRpb24pO1xuICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgIC8vIE5vIG1hdGNoXG4gICAgICAgICAgICBsaW5lVG9rZW5zLnByb2R1Y2Uoc3RhY2ssIGxpbmVMZW5ndGgpO1xuICAgICAgICAgICAgU1RPUCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FwdHVyZUluZGljZXMgPSByLmNhcHR1cmVJbmRpY2VzO1xuICAgICAgICBjb25zdCBtYXRjaGVkUnVsZUlkID0gci5tYXRjaGVkUnVsZUlkO1xuICAgICAgICBjb25zdCBoYXNBZHZhbmNlZCA9IGNhcHR1cmVJbmRpY2VzICYmIGNhcHR1cmVJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gY2FwdHVyZUluZGljZXNbMF0uZW5kID4gbGluZVBvc1xuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgaWYgKG1hdGNoZWRSdWxlSWQgPT09IGVuZFJ1bGVJZCkge1xuICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgYGVuZGAgZm9yIHRoaXMgcnVsZSA9PiBwb3AgaXRcbiAgICAgICAgICAgIGNvbnN0IHBvcHBlZFJ1bGUgPSBzdGFjay5nZXRSdWxlKGdyYW1tYXIpO1xuICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBjYXB0dXJlSW5kaWNlc1swXS5zdGFydCk7XG4gICAgICAgICAgICBzdGFjayA9IHN0YWNrLndpdGhDb250ZW50TmFtZVNjb3Blc0xpc3Qoc3RhY2submFtZVNjb3Blc0xpc3QpO1xuICAgICAgICAgICAgaGFuZGxlQ2FwdHVyZXMoZ3JhbW1hciwgbGluZVRleHQsIGlzRmlyc3RMaW5lLCBzdGFjaywgbGluZVRva2VucywgcG9wcGVkUnVsZS5lbmRDYXB0dXJlcywgY2FwdHVyZUluZGljZXMpO1xuICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBjYXB0dXJlSW5kaWNlc1swXS5lbmQpO1xuICAgICAgICAgICAgLy8gcG9wXG4gICAgICAgICAgICBjb25zdCBwb3BwZWQgPSBzdGFjaztcbiAgICAgICAgICAgIHN0YWNrID0gc3RhY2sucGFyZW50O1xuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb24gPSBwb3BwZWQuZ2V0QW5jaG9yUG9zKCk7XG4gICAgICAgICAgICBpZiAoIWhhc0FkdmFuY2VkICYmIHBvcHBlZC5nZXRFbnRlclBvcygpID09PSBsaW5lUG9zKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvdnNjb2RlLXRleHRtYXRlL2lzc3Vlcy8xMlxuICAgICAgICAgICAgICAgIC8vIExldCdzIGFzc3VtZSB0aGlzIHdhcyBhIG1pc3Rha2UgYnkgdGhlIGdyYW1tYXIgYXV0aG9yIGFuZCB0aGUgaW50ZW50IHdhcyB0byBjb250aW51ZSBpbiB0aGlzIHN0YXRlXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBwb3BwZWQ7XG4gICAgICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBsaW5lTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBTVE9QID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBtYXRjaGVkIGEgcnVsZSFcbiAgICAgICAgICAgIGNvbnN0IF9ydWxlID0gZ3JhbW1hci5nZXRSdWxlKG1hdGNoZWRSdWxlSWQpO1xuICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBjYXB0dXJlSW5kaWNlc1swXS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmVQdXNoID0gc3RhY2s7XG4gICAgICAgICAgICAvLyBwdXNoIGl0IG9uIHRoZSBzdGFjayBydWxlXG4gICAgICAgICAgICBjb25zdCBzY29wZU5hbWUgPSBfcnVsZS5nZXROYW1lKGxpbmVUZXh0LmNvbnRlbnQsIGNhcHR1cmVJbmRpY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVTY29wZXNMaXN0ID0gc3RhY2suY29udGVudE5hbWVTY29wZXNMaXN0LnB1c2hBdHRyaWJ1dGVkKHNjb3BlTmFtZSwgZ3JhbW1hcik7XG4gICAgICAgICAgICBzdGFjayA9IHN0YWNrLnB1c2gobWF0Y2hlZFJ1bGVJZCwgbGluZVBvcywgYW5jaG9yUG9zaXRpb24sIGNhcHR1cmVJbmRpY2VzWzBdLmVuZCA9PT0gbGluZUxlbmd0aCwgbnVsbCwgbmFtZVNjb3Blc0xpc3QsIG5hbWVTY29wZXNMaXN0KTtcbiAgICAgICAgICAgIGlmIChfcnVsZSBpbnN0YW5jZW9mIEJlZ2luRW5kUnVsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHB1c2hlZFJ1bGUgPSBfcnVsZTtcbiAgICAgICAgICAgICAgICBoYW5kbGVDYXB0dXJlcyhncmFtbWFyLCBsaW5lVGV4dCwgaXNGaXJzdExpbmUsIHN0YWNrLCBsaW5lVG9rZW5zLCBwdXNoZWRSdWxlLmJlZ2luQ2FwdHVyZXMsIGNhcHR1cmVJbmRpY2VzKTtcbiAgICAgICAgICAgICAgICBsaW5lVG9rZW5zLnByb2R1Y2Uoc3RhY2ssIGNhcHR1cmVJbmRpY2VzWzBdLmVuZCk7XG4gICAgICAgICAgICAgICAgYW5jaG9yUG9zaXRpb24gPSBjYXB0dXJlSW5kaWNlc1swXS5lbmQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudE5hbWUgPSBwdXNoZWRSdWxlLmdldENvbnRlbnROYW1lKGxpbmVUZXh0LmNvbnRlbnQsIGNhcHR1cmVJbmRpY2VzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50TmFtZVNjb3Blc0xpc3QgPSBuYW1lU2NvcGVzTGlzdC5wdXNoQXR0cmlidXRlZChjb250ZW50TmFtZSwgZ3JhbW1hcik7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay53aXRoQ29udGVudE5hbWVTY29wZXNMaXN0KGNvbnRlbnROYW1lU2NvcGVzTGlzdCk7XG4gICAgICAgICAgICAgICAgaWYgKHB1c2hlZFJ1bGUuZW5kSGFzQmFja1JlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay53aXRoRW5kUnVsZShwdXNoZWRSdWxlLmdldEVuZFdpdGhSZXNvbHZlZEJhY2tSZWZlcmVuY2VzKGxpbmVUZXh0LmNvbnRlbnQsIGNhcHR1cmVJbmRpY2VzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaGFzQWR2YW5jZWQgJiYgYmVmb3JlUHVzaC5oYXNTYW1lUnVsZUFzKHN0YWNrKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lVG9rZW5zLnByb2R1Y2Uoc3RhY2ssIGxpbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBTVE9QID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF9ydWxlIGluc3RhbmNlb2YgQmVnaW5XaGlsZVJ1bGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwdXNoZWRSdWxlID0gX3J1bGU7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FwdHVyZXMoZ3JhbW1hciwgbGluZVRleHQsIGlzRmlyc3RMaW5lLCBzdGFjaywgbGluZVRva2VucywgcHVzaGVkUnVsZS5iZWdpbkNhcHR1cmVzLCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBjYXB0dXJlSW5kaWNlc1swXS5lbmQpO1xuICAgICAgICAgICAgICAgIGFuY2hvclBvc2l0aW9uID0gY2FwdHVyZUluZGljZXNbMF0uZW5kO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnROYW1lID0gcHVzaGVkUnVsZS5nZXRDb250ZW50TmFtZShsaW5lVGV4dC5jb250ZW50LCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudE5hbWVTY29wZXNMaXN0ID0gbmFtZVNjb3Blc0xpc3QucHVzaEF0dHJpYnV0ZWQoY29udGVudE5hbWUsIGdyYW1tYXIpO1xuICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2sud2l0aENvbnRlbnROYW1lU2NvcGVzTGlzdChjb250ZW50TmFtZVNjb3Blc0xpc3QpO1xuICAgICAgICAgICAgICAgIGlmIChwdXNoZWRSdWxlLndoaWxlSGFzQmFja1JlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay53aXRoRW5kUnVsZShwdXNoZWRSdWxlLmdldFdoaWxlV2l0aFJlc29sdmVkQmFja1JlZmVyZW5jZXMobGluZVRleHQuY29udGVudCwgY2FwdHVyZUluZGljZXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNBZHZhbmNlZCAmJiBiZWZvcmVQdXNoLmhhc1NhbWVSdWxlQXMoc3RhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVUb2tlbnMucHJvZHVjZShzdGFjaywgbGluZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIFNUT1AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdSdWxlID0gX3J1bGU7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FwdHVyZXMoZ3JhbW1hciwgbGluZVRleHQsIGlzRmlyc3RMaW5lLCBzdGFjaywgbGluZVRva2VucywgbWF0Y2hpbmdSdWxlLmNhcHR1cmVzLCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBjYXB0dXJlSW5kaWNlc1swXS5lbmQpO1xuICAgICAgICAgICAgICAgIC8vIHBvcCBydWxlIGltbWVkaWF0ZWx5IHNpbmNlIGl0IGlzIGEgTWF0Y2hSdWxlXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0FkdmFuY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2suc2FmZVBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lVG9rZW5zLnByb2R1Y2Uoc3RhY2ssIGxpbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBTVE9QID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FwdHVyZUluZGljZXNbMF0uZW5kID4gbGluZVBvcykge1xuICAgICAgICAgICAgLy8gQWR2YW5jZSBzdHJlYW1cbiAgICAgICAgICAgIGxpbmVQb3MgPSBjYXB0dXJlSW5kaWNlc1swXS5lbmQ7XG4gICAgICAgICAgICBpc0ZpcnN0TGluZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBXYWxrIHRoZSBzdGFjayBmcm9tIGJvdHRvbSB0byB0b3AsIGFuZCBjaGVjayBlYWNoIHdoaWxlIGNvbmRpdGlvbiBpbiB0aGlzIG9yZGVyLlxuICogSWYgYW55IGZhaWxzLCBjdXQgb2ZmIHRoZSBlbnRpcmUgc3RhY2sgYWJvdmUgdGhlIGZhaWxlZCB3aGlsZSBjb25kaXRpb24uIFdoaWxlIGNvbmRpdGlvbnNcbiAqIG1heSBhbHNvIGFkdmFuY2UgdGhlIGxpbmVQb3NpdGlvbi5cbiAqL1xuZnVuY3Rpb24gX2NoZWNrV2hpbGVDb25kaXRpb25zKGdyYW1tYXIsIGxpbmVUZXh0LCBpc0ZpcnN0TGluZSwgbGluZVBvcywgc3RhY2ssIGxpbmVUb2tlbnMpIHtcbiAgICBsZXQgYW5jaG9yUG9zaXRpb24gPSAoc3RhY2suYmVnaW5SdWxlQ2FwdHVyZWRFT0wgPyAwIDogLTEpO1xuICAgIGNvbnN0IHdoaWxlUnVsZXMgPSBbXTtcbiAgICBmb3IgKGxldCBub2RlID0gc3RhY2s7IG5vZGU7IG5vZGUgPSBub2RlLnBvcCgpKSB7XG4gICAgICAgIGNvbnN0IG5vZGVSdWxlID0gbm9kZS5nZXRSdWxlKGdyYW1tYXIpO1xuICAgICAgICBpZiAobm9kZVJ1bGUgaW5zdGFuY2VvZiBCZWdpbldoaWxlUnVsZSkge1xuICAgICAgICAgICAgd2hpbGVSdWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBydWxlOiBub2RlUnVsZSxcbiAgICAgICAgICAgICAgICBzdGFjazogbm9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgd2hpbGVSdWxlID0gd2hpbGVSdWxlcy5wb3AoKTsgd2hpbGVSdWxlOyB3aGlsZVJ1bGUgPSB3aGlsZVJ1bGVzLnBvcCgpKSB7XG4gICAgICAgIGNvbnN0IHsgcnVsZVNjYW5uZXIsIGZpbmRPcHRpb25zIH0gPSBwcmVwYXJlUnVsZVdoaWxlU2VhcmNoKHdoaWxlUnVsZS5ydWxlLCBncmFtbWFyLCB3aGlsZVJ1bGUuc3RhY2suZW5kUnVsZSwgaXNGaXJzdExpbmUsIGxpbmVQb3MgPT09IGFuY2hvclBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgciA9IHJ1bGVTY2FubmVyLmZpbmROZXh0TWF0Y2hTeW5jKGxpbmVUZXh0LCBsaW5lUG9zLCBmaW5kT3B0aW9ucyk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkUnVsZUlkID0gci5ydWxlSWQ7XG4gICAgICAgICAgICBpZiAobWF0Y2hlZFJ1bGVJZCAhPT0gd2hpbGVSdWxlSWQpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaG91bGRuJ3QgZW5kIHVwIGhlcmVcbiAgICAgICAgICAgICAgICBzdGFjayA9IHdoaWxlUnVsZS5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyLmNhcHR1cmVJbmRpY2VzICYmIHIuY2FwdHVyZUluZGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHdoaWxlUnVsZS5zdGFjaywgci5jYXB0dXJlSW5kaWNlc1swXS5zdGFydCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FwdHVyZXMoZ3JhbW1hciwgbGluZVRleHQsIGlzRmlyc3RMaW5lLCB3aGlsZVJ1bGUuc3RhY2ssIGxpbmVUb2tlbnMsIHdoaWxlUnVsZS5ydWxlLndoaWxlQ2FwdHVyZXMsIHIuY2FwdHVyZUluZGljZXMpO1xuICAgICAgICAgICAgICAgIGxpbmVUb2tlbnMucHJvZHVjZSh3aGlsZVJ1bGUuc3RhY2ssIHIuY2FwdHVyZUluZGljZXNbMF0uZW5kKTtcbiAgICAgICAgICAgICAgICBhbmNob3JQb3NpdGlvbiA9IHIuY2FwdHVyZUluZGljZXNbMF0uZW5kO1xuICAgICAgICAgICAgICAgIGlmIChyLmNhcHR1cmVJbmRpY2VzWzBdLmVuZCA+IGxpbmVQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvcyA9IHIuY2FwdHVyZUluZGljZXNbMF0uZW5kO1xuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0TGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YWNrID0gd2hpbGVSdWxlLnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhY2s6IHN0YWNrLCBsaW5lUG9zOiBsaW5lUG9zLCBhbmNob3JQb3NpdGlvbjogYW5jaG9yUG9zaXRpb24sIGlzRmlyc3RMaW5lOiBpc0ZpcnN0TGluZSB9O1xufVxuZnVuY3Rpb24gbWF0Y2hSdWxlT3JJbmplY3Rpb25zKGdyYW1tYXIsIGxpbmVUZXh0LCBpc0ZpcnN0TGluZSwgbGluZVBvcywgc3RhY2ssIGFuY2hvclBvc2l0aW9uKSB7XG4gICAgLy8gTG9vayBmb3Igbm9ybWFsIGdyYW1tYXIgcnVsZVxuICAgIGNvbnN0IG1hdGNoUmVzdWx0ID0gbWF0Y2hSdWxlKGdyYW1tYXIsIGxpbmVUZXh0LCBpc0ZpcnN0TGluZSwgbGluZVBvcywgc3RhY2ssIGFuY2hvclBvc2l0aW9uKTtcbiAgICAvLyBMb29rIGZvciBpbmplY3RlZCBydWxlc1xuICAgIGNvbnN0IGluamVjdGlvbnMgPSBncmFtbWFyLmdldEluamVjdGlvbnMoKTtcbiAgICBpZiAoaW5qZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gTm8gaW5qZWN0aW9ucyB3aGF0c29ldmVyID0+IGVhcmx5IHJldHVyblxuICAgICAgICByZXR1cm4gbWF0Y2hSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGluamVjdGlvblJlc3VsdCA9IG1hdGNoSW5qZWN0aW9ucyhpbmplY3Rpb25zLCBncmFtbWFyLCBsaW5lVGV4dCwgaXNGaXJzdExpbmUsIGxpbmVQb3MsIHN0YWNrLCBhbmNob3JQb3NpdGlvbik7XG4gICAgaWYgKCFpbmplY3Rpb25SZXN1bHQpIHtcbiAgICAgICAgLy8gTm8gaW5qZWN0aW9ucyBtYXRjaGVkID0+IGVhcmx5IHJldHVyblxuICAgICAgICByZXR1cm4gbWF0Y2hSZXN1bHQ7XG4gICAgfVxuICAgIGlmICghbWF0Y2hSZXN1bHQpIHtcbiAgICAgICAgLy8gT25seSBpbmplY3Rpb25zIG1hdGNoZWQgPT4gZWFybHkgcmV0dXJuXG4gICAgICAgIHJldHVybiBpbmplY3Rpb25SZXN1bHQ7XG4gICAgfVxuICAgIC8vIERlY2lkZSBpZiBgbWF0Y2hSZXN1bHRgIG9yIGBpbmplY3Rpb25SZXN1bHRgIHNob3VsZCB3aW5cbiAgICBjb25zdCBtYXRjaFJlc3VsdFNjb3JlID0gbWF0Y2hSZXN1bHQuY2FwdHVyZUluZGljZXNbMF0uc3RhcnQ7XG4gICAgY29uc3QgaW5qZWN0aW9uUmVzdWx0U2NvcmUgPSBpbmplY3Rpb25SZXN1bHQuY2FwdHVyZUluZGljZXNbMF0uc3RhcnQ7XG4gICAgaWYgKGluamVjdGlvblJlc3VsdFNjb3JlIDwgbWF0Y2hSZXN1bHRTY29yZSB8fCAoaW5qZWN0aW9uUmVzdWx0LnByaW9yaXR5TWF0Y2ggJiYgaW5qZWN0aW9uUmVzdWx0U2NvcmUgPT09IG1hdGNoUmVzdWx0U2NvcmUpKSB7XG4gICAgICAgIC8vIGluamVjdGlvbiB3b24hXG4gICAgICAgIHJldHVybiBpbmplY3Rpb25SZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaFJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1hdGNoUnVsZShncmFtbWFyLCBsaW5lVGV4dCwgaXNGaXJzdExpbmUsIGxpbmVQb3MsIHN0YWNrLCBhbmNob3JQb3NpdGlvbikge1xuICAgIGNvbnN0IHJ1bGUgPSBzdGFjay5nZXRSdWxlKGdyYW1tYXIpO1xuICAgIGNvbnN0IHsgcnVsZVNjYW5uZXIsIGZpbmRPcHRpb25zIH0gPSBwcmVwYXJlUnVsZVNlYXJjaChydWxlLCBncmFtbWFyLCBzdGFjay5lbmRSdWxlLCBpc0ZpcnN0TGluZSwgbGluZVBvcyA9PT0gYW5jaG9yUG9zaXRpb24pO1xuICAgIGNvbnN0IHIgPSBydWxlU2Nhbm5lci5maW5kTmV4dE1hdGNoU3luYyhsaW5lVGV4dCwgbGluZVBvcywgZmluZE9wdGlvbnMpO1xuICAgIGlmIChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXB0dXJlSW5kaWNlczogci5jYXB0dXJlSW5kaWNlcyxcbiAgICAgICAgICAgIG1hdGNoZWRSdWxlSWQ6IHIucnVsZUlkXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gbWF0Y2hJbmplY3Rpb25zKGluamVjdGlvbnMsIGdyYW1tYXIsIGxpbmVUZXh0LCBpc0ZpcnN0TGluZSwgbGluZVBvcywgc3RhY2ssIGFuY2hvclBvc2l0aW9uKSB7XG4gICAgLy8gVGhlIGxvd2VyIHRoZSBiZXR0ZXJcbiAgICBsZXQgYmVzdE1hdGNoUmF0aW5nID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICBsZXQgYmVzdE1hdGNoQ2FwdHVyZUluZGljZXMgPSBudWxsO1xuICAgIGxldCBiZXN0TWF0Y2hSdWxlSWQ7XG4gICAgbGV0IGJlc3RNYXRjaFJlc3VsdFByaW9yaXR5ID0gMDtcbiAgICBjb25zdCBzY29wZXMgPSBzdGFjay5jb250ZW50TmFtZVNjb3Blc0xpc3QuZ2V0U2NvcGVOYW1lcygpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpbmplY3Rpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbiA9IGluamVjdGlvbnNbaV07XG4gICAgICAgIGlmICghaW5qZWN0aW9uLm1hdGNoZXIoc2NvcGVzKSkge1xuICAgICAgICAgICAgLy8gaW5qZWN0aW9uIHNlbGVjdG9yIGRvZXNuJ3QgbWF0Y2ggc3RhY2tcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJ1bGUgPSBncmFtbWFyLmdldFJ1bGUoaW5qZWN0aW9uLnJ1bGVJZCk7XG4gICAgICAgIGNvbnN0IHsgcnVsZVNjYW5uZXIsIGZpbmRPcHRpb25zIH0gPSBwcmVwYXJlUnVsZVNlYXJjaChydWxlLCBncmFtbWFyLCBudWxsLCBpc0ZpcnN0TGluZSwgbGluZVBvcyA9PT0gYW5jaG9yUG9zaXRpb24pO1xuICAgICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHJ1bGVTY2FubmVyLmZpbmROZXh0TWF0Y2hTeW5jKGxpbmVUZXh0LCBsaW5lUG9zLCBmaW5kT3B0aW9ucyk7XG4gICAgICAgIGlmICghbWF0Y2hSZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoUmF0aW5nID0gbWF0Y2hSZXN1bHQuY2FwdHVyZUluZGljZXNbMF0uc3RhcnQ7XG4gICAgICAgIGlmIChtYXRjaFJhdGluZyA+PSBiZXN0TWF0Y2hSYXRpbmcpIHtcbiAgICAgICAgICAgIC8vIEluamVjdGlvbnMgYXJlIHNvcnRlZCBieSBwcmlvcml0eSwgc28gdGhlIHByZXZpb3VzIGluamVjdGlvbiBoYWQgYSBiZXR0ZXIgb3IgZXF1YWwgcHJpb3JpdHlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGJlc3RNYXRjaFJhdGluZyA9IG1hdGNoUmF0aW5nO1xuICAgICAgICBiZXN0TWF0Y2hDYXB0dXJlSW5kaWNlcyA9IG1hdGNoUmVzdWx0LmNhcHR1cmVJbmRpY2VzO1xuICAgICAgICBiZXN0TWF0Y2hSdWxlSWQgPSBtYXRjaFJlc3VsdC5ydWxlSWQ7XG4gICAgICAgIGJlc3RNYXRjaFJlc3VsdFByaW9yaXR5ID0gaW5qZWN0aW9uLnByaW9yaXR5O1xuICAgICAgICBpZiAoYmVzdE1hdGNoUmF0aW5nID09PSBsaW5lUG9zKSB7XG4gICAgICAgICAgICAvLyBObyBtb3JlIG5lZWQgdG8gbG9vayBhdCB0aGUgcmVzdCBvZiB0aGUgaW5qZWN0aW9ucy5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChiZXN0TWF0Y2hDYXB0dXJlSW5kaWNlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJpb3JpdHlNYXRjaDogYmVzdE1hdGNoUmVzdWx0UHJpb3JpdHkgPT09IC0xLFxuICAgICAgICAgICAgY2FwdHVyZUluZGljZXM6IGJlc3RNYXRjaENhcHR1cmVJbmRpY2VzLFxuICAgICAgICAgICAgbWF0Y2hlZFJ1bGVJZDogYmVzdE1hdGNoUnVsZUlkXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcHJlcGFyZVJ1bGVTZWFyY2gocnVsZSwgZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UsIGFsbG93QSwgYWxsb3dHKSB7XG4gICAgY29uc3QgcnVsZVNjYW5uZXIgPSBydWxlLmNvbXBpbGVBRyhncmFtbWFyLCBlbmRSZWdleFNvdXJjZSwgYWxsb3dBLCBhbGxvd0cpO1xuICAgIHJldHVybiB7IHJ1bGVTY2FubmVyLCBmaW5kT3B0aW9uczogMCAvKiBGaW5kT3B0aW9uLk5vbmUgKi8gfTtcbn1cbmZ1bmN0aW9uIHByZXBhcmVSdWxlV2hpbGVTZWFyY2gocnVsZSwgZ3JhbW1hciwgZW5kUmVnZXhTb3VyY2UsIGFsbG93QSwgYWxsb3dHKSB7XG4gICAgY29uc3QgcnVsZVNjYW5uZXIgPSBydWxlLmNvbXBpbGVXaGlsZUFHKGdyYW1tYXIsIGVuZFJlZ2V4U291cmNlLCBhbGxvd0EsIGFsbG93Ryk7XG4gICAgcmV0dXJuIHsgcnVsZVNjYW5uZXIsIGZpbmRPcHRpb25zOiAwIC8qIEZpbmRPcHRpb24uTm9uZSAqLyB9O1xufVxuZnVuY3Rpb24gaGFuZGxlQ2FwdHVyZXMoZ3JhbW1hciwgbGluZVRleHQsIGlzRmlyc3RMaW5lLCBzdGFjaywgbGluZVRva2VucywgY2FwdHVyZXMsIGNhcHR1cmVJbmRpY2VzKSB7XG4gICAgaWYgKGNhcHR1cmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpbmVUZXh0Q29udGVudCA9IGxpbmVUZXh0LmNvbnRlbnQ7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oY2FwdHVyZXMubGVuZ3RoLCBjYXB0dXJlSW5kaWNlcy5sZW5ndGgpO1xuICAgIGNvbnN0IGxvY2FsU3RhY2sgPSBbXTtcbiAgICBjb25zdCBtYXhFbmQgPSBjYXB0dXJlSW5kaWNlc1swXS5lbmQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBjYXB0dXJlUnVsZSA9IGNhcHR1cmVzW2ldO1xuICAgICAgICBpZiAoY2FwdHVyZVJ1bGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE5vdCBpbnRlcmVzdGVkXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYXB0dXJlSW5kZXggPSBjYXB0dXJlSW5kaWNlc1tpXTtcbiAgICAgICAgaWYgKGNhcHR1cmVJbmRleC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgcmVhbGx5IGNhcHR1cmVkXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FwdHVyZUluZGV4LnN0YXJ0ID4gbWF4RW5kKSB7XG4gICAgICAgICAgICAvLyBDYXB0dXJlIGdvaW5nIGJleW9uZCBjb25zdW1lZCBzdHJpbmdcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBvcCBjYXB0dXJlcyB3aGlsZSBuZWVkZWRcbiAgICAgICAgd2hpbGUgKGxvY2FsU3RhY2subGVuZ3RoID4gMCAmJiBsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZW5kUG9zIDw9IGNhcHR1cmVJbmRleC5zdGFydCkge1xuICAgICAgICAgICAgLy8gcG9wIVxuICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlRnJvbVNjb3Blcyhsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uc2NvcGVzLCBsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZW5kUG9zKTtcbiAgICAgICAgICAgIGxvY2FsU3RhY2sucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlRnJvbVNjb3Blcyhsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uc2NvcGVzLCBjYXB0dXJlSW5kZXguc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGluZVRva2Vucy5wcm9kdWNlKHN0YWNrLCBjYXB0dXJlSW5kZXguc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXB0dXJlUnVsZS5yZXRva2VuaXplQ2FwdHVyZWRXaXRoUnVsZUlkKSB7XG4gICAgICAgICAgICAvLyB0aGUgY2FwdHVyZSByZXF1aXJlcyBhZGRpdGlvbmFsIG1hdGNoaW5nXG4gICAgICAgICAgICBjb25zdCBzY29wZU5hbWUgPSBjYXB0dXJlUnVsZS5nZXROYW1lKGxpbmVUZXh0Q29udGVudCwgY2FwdHVyZUluZGljZXMpO1xuICAgICAgICAgICAgY29uc3QgbmFtZVNjb3Blc0xpc3QgPSBzdGFjay5jb250ZW50TmFtZVNjb3Blc0xpc3QucHVzaEF0dHJpYnV0ZWQoc2NvcGVOYW1lLCBncmFtbWFyKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnROYW1lID0gY2FwdHVyZVJ1bGUuZ2V0Q29udGVudE5hbWUobGluZVRleHRDb250ZW50LCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50TmFtZVNjb3Blc0xpc3QgPSBuYW1lU2NvcGVzTGlzdC5wdXNoQXR0cmlidXRlZChjb250ZW50TmFtZSwgZ3JhbW1hcik7XG4gICAgICAgICAgICBjb25zdCBzdGFja0Nsb25lID0gc3RhY2sucHVzaChjYXB0dXJlUnVsZS5yZXRva2VuaXplQ2FwdHVyZWRXaXRoUnVsZUlkLCBjYXB0dXJlSW5kZXguc3RhcnQsIC0xLCBmYWxzZSwgbnVsbCwgbmFtZVNjb3Blc0xpc3QsIGNvbnRlbnROYW1lU2NvcGVzTGlzdCk7XG4gICAgICAgICAgICBjb25zdCBvbmlnU3ViU3RyID0gZ3JhbW1hci5jcmVhdGVPbmlnU3RyaW5nKGxpbmVUZXh0Q29udGVudC5zdWJzdHJpbmcoMCwgY2FwdHVyZUluZGV4LmVuZCkpO1xuICAgICAgICAgICAgX3Rva2VuaXplU3RyaW5nKGdyYW1tYXIsIG9uaWdTdWJTdHIsIChpc0ZpcnN0TGluZSAmJiBjYXB0dXJlSW5kZXguc3RhcnQgPT09IDApLCBjYXB0dXJlSW5kZXguc3RhcnQsIHN0YWNrQ2xvbmUsIGxpbmVUb2tlbnMsIGZhbHNlLCAvKiBubyB0aW1lIGxpbWl0ICovIDApO1xuICAgICAgICAgICAgZGlzcG9zZU9uaWdTdHJpbmcob25pZ1N1YlN0cik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYXB0dXJlUnVsZVNjb3BlTmFtZSA9IGNhcHR1cmVSdWxlLmdldE5hbWUobGluZVRleHRDb250ZW50LCBjYXB0dXJlSW5kaWNlcyk7XG4gICAgICAgIGlmIChjYXB0dXJlUnVsZVNjb3BlTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gcHVzaFxuICAgICAgICAgICAgY29uc3QgYmFzZSA9IGxvY2FsU3RhY2subGVuZ3RoID4gMCA/IGxvY2FsU3RhY2tbbG9jYWxTdGFjay5sZW5ndGggLSAxXS5zY29wZXMgOiBzdGFjay5jb250ZW50TmFtZVNjb3Blc0xpc3Q7XG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlUnVsZVNjb3Blc0xpc3QgPSBiYXNlLnB1c2hBdHRyaWJ1dGVkKGNhcHR1cmVSdWxlU2NvcGVOYW1lLCBncmFtbWFyKTtcbiAgICAgICAgICAgIGxvY2FsU3RhY2sucHVzaChuZXcgTG9jYWxTdGFja0VsZW1lbnQoY2FwdHVyZVJ1bGVTY29wZXNMaXN0LCBjYXB0dXJlSW5kZXguZW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKGxvY2FsU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBwb3AhXG4gICAgICAgIGxpbmVUb2tlbnMucHJvZHVjZUZyb21TY29wZXMobG9jYWxTdGFja1tsb2NhbFN0YWNrLmxlbmd0aCAtIDFdLnNjb3BlcywgbG9jYWxTdGFja1tsb2NhbFN0YWNrLmxlbmd0aCAtIDFdLmVuZFBvcyk7XG4gICAgICAgIGxvY2FsU3RhY2sucG9wKCk7XG4gICAgfVxufVxuY2xhc3MgTG9jYWxTdGFja0VsZW1lbnQge1xuICAgIHNjb3BlcztcbiAgICBlbmRQb3M7XG4gICAgY29uc3RydWN0b3Ioc2NvcGVzLCBlbmRQb3MpIHtcbiAgICAgICAgdGhpcy5zY29wZXMgPSBzY29wZXM7XG4gICAgICAgIHRoaXMuZW5kUG9zID0gZW5kUG9zO1xuICAgIH1cbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoQykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5mdW5jdGlvbiBjcmVhdGVHcmFtbWFyKHNjb3BlTmFtZSwgZ3JhbW1hciwgaW5pdGlhbExhbmd1YWdlLCBlbWJlZGRlZExhbmd1YWdlcywgdG9rZW5UeXBlcywgYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzLCBncmFtbWFyUmVwb3NpdG9yeSwgb25pZ0xpYikge1xuICAgIHJldHVybiBuZXcgR3JhbW1hcihzY29wZU5hbWUsIGdyYW1tYXIsIGluaXRpYWxMYW5ndWFnZSwgZW1iZWRkZWRMYW5ndWFnZXMsIHRva2VuVHlwZXMsIGJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycywgZ3JhbW1hclJlcG9zaXRvcnksIG9uaWdMaWIpOyAvL1RPRE9cbn1cbmZ1bmN0aW9uIGNvbGxlY3RJbmplY3Rpb25zKHJlc3VsdCwgc2VsZWN0b3IsIHJ1bGUsIHJ1bGVGYWN0b3J5SGVscGVyLCBncmFtbWFyKSB7XG4gICAgY29uc3QgbWF0Y2hlcnMgPSBjcmVhdGVNYXRjaGVycyhzZWxlY3RvciwgbmFtZU1hdGNoZXIpO1xuICAgIGNvbnN0IHJ1bGVJZCA9IFJ1bGVGYWN0b3J5LmdldENvbXBpbGVkUnVsZUlkKHJ1bGUsIHJ1bGVGYWN0b3J5SGVscGVyLCBncmFtbWFyLnJlcG9zaXRvcnkpO1xuICAgIGZvciAoY29uc3QgbWF0Y2hlciBvZiBtYXRjaGVycykge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICBkZWJ1Z1NlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICAgIG1hdGNoZXI6IG1hdGNoZXIubWF0Y2hlcixcbiAgICAgICAgICAgIHJ1bGVJZDogcnVsZUlkLFxuICAgICAgICAgICAgZ3JhbW1hcjogZ3JhbW1hcixcbiAgICAgICAgICAgIHByaW9yaXR5OiBtYXRjaGVyLnByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5hbWVNYXRjaGVyKGlkZW50aWZlcnMsIHNjb3Blcykge1xuICAgIGlmIChzY29wZXMubGVuZ3RoIDwgaWRlbnRpZmVycy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gaWRlbnRpZmVycy5ldmVyeShpZGVudGlmaWVyID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGxhc3RJbmRleDsgaSA8IHNjb3Blcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNjb3Blc0FyZU1hdGNoaW5nKHNjb3Blc1tpXSwgaWRlbnRpZmllcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzY29wZXNBcmVNYXRjaGluZyh0aGlzU2NvcGVOYW1lLCBzY29wZU5hbWUpIHtcbiAgICBpZiAoIXRoaXNTY29wZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpc1Njb3BlTmFtZSA9PT0gc2NvcGVOYW1lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBsZW4gPSBzY29wZU5hbWUubGVuZ3RoO1xuICAgIHJldHVybiB0aGlzU2NvcGVOYW1lLmxlbmd0aCA+IGxlbiAmJiB0aGlzU2NvcGVOYW1lLnN1YnN0cigwLCBsZW4pID09PSBzY29wZU5hbWUgJiYgdGhpc1Njb3BlTmFtZVtsZW5dID09PSAnLic7XG59XG5jbGFzcyBHcmFtbWFyIHtcbiAgICBfcm9vdFNjb3BlTmFtZTtcbiAgICBiYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnM7XG4gICAgX29uaWdMaWI7XG4gICAgX3Jvb3RJZDtcbiAgICBfbGFzdFJ1bGVJZDtcbiAgICBfcnVsZUlkMmRlc2M7XG4gICAgX2luY2x1ZGVkR3JhbW1hcnM7XG4gICAgX2dyYW1tYXJSZXBvc2l0b3J5O1xuICAgIF9ncmFtbWFyO1xuICAgIF9pbmplY3Rpb25zO1xuICAgIF9iYXNpY1Njb3BlQXR0cmlidXRlc1Byb3ZpZGVyO1xuICAgIF90b2tlblR5cGVNYXRjaGVycztcbiAgICBnZXQgdGhlbWVQcm92aWRlcigpIHsgcmV0dXJuIHRoaXMuX2dyYW1tYXJSZXBvc2l0b3J5OyB9XG4gICAgY29uc3RydWN0b3IoX3Jvb3RTY29wZU5hbWUsIGdyYW1tYXIsIGluaXRpYWxMYW5ndWFnZSwgZW1iZWRkZWRMYW5ndWFnZXMsIHRva2VuVHlwZXMsIGJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycywgZ3JhbW1hclJlcG9zaXRvcnksIF9vbmlnTGliKSB7XG4gICAgICAgIHRoaXMuX3Jvb3RTY29wZU5hbWUgPSBfcm9vdFNjb3BlTmFtZTtcbiAgICAgICAgdGhpcy5iYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMgPSBiYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnM7XG4gICAgICAgIHRoaXMuX29uaWdMaWIgPSBfb25pZ0xpYjtcbiAgICAgICAgdGhpcy5fYmFzaWNTY29wZUF0dHJpYnV0ZXNQcm92aWRlciA9IG5ldyBCYXNpY1Njb3BlQXR0cmlidXRlc1Byb3ZpZGVyKGluaXRpYWxMYW5ndWFnZSwgZW1iZWRkZWRMYW5ndWFnZXMpO1xuICAgICAgICB0aGlzLl9yb290SWQgPSAtMTtcbiAgICAgICAgdGhpcy5fbGFzdFJ1bGVJZCA9IDA7XG4gICAgICAgIHRoaXMuX3J1bGVJZDJkZXNjID0gW251bGxdO1xuICAgICAgICB0aGlzLl9pbmNsdWRlZEdyYW1tYXJzID0ge307XG4gICAgICAgIHRoaXMuX2dyYW1tYXJSZXBvc2l0b3J5ID0gZ3JhbW1hclJlcG9zaXRvcnk7XG4gICAgICAgIHRoaXMuX2dyYW1tYXIgPSBpbml0R3JhbW1hcihncmFtbWFyLCBudWxsKTtcbiAgICAgICAgdGhpcy5faW5qZWN0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Rva2VuVHlwZU1hdGNoZXJzID0gW107XG4gICAgICAgIGlmICh0b2tlblR5cGVzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIE9iamVjdC5rZXlzKHRva2VuVHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcnMgPSBjcmVhdGVNYXRjaGVycyhzZWxlY3RvciwgbmFtZU1hdGNoZXIpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbWF0Y2hlciBvZiBtYXRjaGVycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b2tlblR5cGVNYXRjaGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXI6IG1hdGNoZXIubWF0Y2hlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRva2VuVHlwZXNbc2VsZWN0b3JdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuX3J1bGVJZDJkZXNjKSB7XG4gICAgICAgICAgICBpZiAocnVsZSkge1xuICAgICAgICAgICAgICAgIHJ1bGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZU9uaWdTY2FubmVyKHNvdXJjZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uaWdMaWIuY3JlYXRlT25pZ1NjYW5uZXIoc291cmNlcyk7XG4gICAgfVxuICAgIGNyZWF0ZU9uaWdTdHJpbmcoc291cmNlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25pZ0xpYi5jcmVhdGVPbmlnU3RyaW5nKHNvdXJjZXMpO1xuICAgIH1cbiAgICBnZXRNZXRhZGF0YUZvclNjb3BlKHNjb3BlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNpY1Njb3BlQXR0cmlidXRlc1Byb3ZpZGVyLmdldEJhc2ljU2NvcGVBdHRyaWJ1dGVzKHNjb3BlKTtcbiAgICB9XG4gICAgX2NvbGxlY3RJbmplY3Rpb25zKCkge1xuICAgICAgICBjb25zdCBncmFtbWFyUmVwb3NpdG9yeSA9IHtcbiAgICAgICAgICAgIGxvb2t1cDogKHNjb3BlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzY29wZU5hbWUgPT09IHRoaXMuX3Jvb3RTY29wZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEV4dGVybmFsR3JhbW1hcihzY29wZU5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluamVjdGlvbnM6IChzY29wZU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ3JhbW1hclJlcG9zaXRvcnkuaW5qZWN0aW9ucyhzY29wZU5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IHRoaXMuX3Jvb3RTY29wZU5hbWU7XG4gICAgICAgIGNvbnN0IGdyYW1tYXIgPSBncmFtbWFyUmVwb3NpdG9yeS5sb29rdXAoc2NvcGVOYW1lKTtcbiAgICAgICAgaWYgKGdyYW1tYXIpIHtcbiAgICAgICAgICAgIC8vIGFkZCBpbmplY3Rpb25zIGZyb20gdGhlIGN1cnJlbnQgZ3JhbW1hclxuICAgICAgICAgICAgY29uc3QgcmF3SW5qZWN0aW9ucyA9IGdyYW1tYXIuaW5qZWN0aW9ucztcbiAgICAgICAgICAgIGlmIChyYXdJbmplY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZXhwcmVzc2lvbiBpbiByYXdJbmplY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3RJbmplY3Rpb25zKHJlc3VsdCwgZXhwcmVzc2lvbiwgcmF3SW5qZWN0aW9uc1tleHByZXNzaW9uXSwgdGhpcywgZ3JhbW1hcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIGluamVjdGlvbiBncmFtbWFycyBjb250cmlidXRlZCBmb3IgdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgICAgICAgIGNvbnN0IGluamVjdGlvblNjb3BlTmFtZXMgPSB0aGlzLl9ncmFtbWFyUmVwb3NpdG9yeS5pbmplY3Rpb25zKHNjb3BlTmFtZSk7XG4gICAgICAgICAgICBpZiAoaW5qZWN0aW9uU2NvcGVOYW1lcykge1xuICAgICAgICAgICAgICAgIGluamVjdGlvblNjb3BlTmFtZXMuZm9yRWFjaCgoaW5qZWN0aW9uU2NvcGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGlvbkdyYW1tYXIgPSB0aGlzLmdldEV4dGVybmFsR3JhbW1hcihpbmplY3Rpb25TY29wZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5qZWN0aW9uR3JhbW1hcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBpbmplY3Rpb25HcmFtbWFyLmluamVjdGlvblNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdEluamVjdGlvbnMocmVzdWx0LCBzZWxlY3RvciwgaW5qZWN0aW9uR3JhbW1hciwgdGhpcywgaW5qZWN0aW9uR3JhbW1hcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuc29ydCgoaTEsIGkyKSA9PiBpMS5wcmlvcml0eSAtIGkyLnByaW9yaXR5KTsgLy8gc29ydCBieSBwcmlvcml0eVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXRJbmplY3Rpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5faW5qZWN0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faW5qZWN0aW9ucyA9IHRoaXMuX2NvbGxlY3RJbmplY3Rpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luamVjdGlvbnM7XG4gICAgfVxuICAgIHJlZ2lzdGVyUnVsZShmYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGlkID0gKyt0aGlzLl9sYXN0UnVsZUlkO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBmYWN0b3J5KHJ1bGVJZEZyb21OdW1iZXIoaWQpKTtcbiAgICAgICAgdGhpcy5fcnVsZUlkMmRlc2NbaWRdID0gcmVzdWx0O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXRSdWxlKHJ1bGVJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZUlkMmRlc2NbcnVsZUlkVG9OdW1iZXIocnVsZUlkKV07XG4gICAgfVxuICAgIGdldEV4dGVybmFsR3JhbW1hcihzY29wZU5hbWUsIHJlcG9zaXRvcnkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luY2x1ZGVkR3JhbW1hcnNbc2NvcGVOYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luY2x1ZGVkR3JhbW1hcnNbc2NvcGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ncmFtbWFyUmVwb3NpdG9yeSkge1xuICAgICAgICAgICAgY29uc3QgcmF3SW5jbHVkZWRHcmFtbWFyID0gdGhpcy5fZ3JhbW1hclJlcG9zaXRvcnkubG9va3VwKHNjb3BlTmFtZSk7XG4gICAgICAgICAgICBpZiAocmF3SW5jbHVkZWRHcmFtbWFyKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0xPQURFRCBHUkFNTUFSICcgKyBwYXR0ZXJuLmluY2x1ZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luY2x1ZGVkR3JhbW1hcnNbc2NvcGVOYW1lXSA9IGluaXRHcmFtbWFyKHJhd0luY2x1ZGVkR3JhbW1hciwgcmVwb3NpdG9yeSAmJiByZXBvc2l0b3J5LiRiYXNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5jbHVkZWRHcmFtbWFyc1tzY29wZU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRva2VuaXplTGluZShsaW5lVGV4dCwgcHJldlN0YXRlLCB0aW1lTGltaXQgPSAwKSB7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLl90b2tlbml6ZShsaW5lVGV4dCwgcHJldlN0YXRlLCBmYWxzZSwgdGltZUxpbWl0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2Vuczogci5saW5lVG9rZW5zLmdldFJlc3VsdChyLnJ1bGVTdGFjaywgci5saW5lTGVuZ3RoKSxcbiAgICAgICAgICAgIHJ1bGVTdGFjazogci5ydWxlU3RhY2ssXG4gICAgICAgICAgICBzdG9wcGVkRWFybHk6IHIuc3RvcHBlZEVhcmx5LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b2tlbml6ZUxpbmUyKGxpbmVUZXh0LCBwcmV2U3RhdGUsIHRpbWVMaW1pdCA9IDApIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuX3Rva2VuaXplKGxpbmVUZXh0LCBwcmV2U3RhdGUsIHRydWUsIHRpbWVMaW1pdCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbnM6IHIubGluZVRva2Vucy5nZXRCaW5hcnlSZXN1bHQoci5ydWxlU3RhY2ssIHIubGluZUxlbmd0aCksXG4gICAgICAgICAgICBydWxlU3RhY2s6IHIucnVsZVN0YWNrLFxuICAgICAgICAgICAgc3RvcHBlZEVhcmx5OiByLnN0b3BwZWRFYXJseSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3Rva2VuaXplKGxpbmVUZXh0LCBwcmV2U3RhdGUsIGVtaXRCaW5hcnlUb2tlbnMsIHRpbWVMaW1pdCkge1xuICAgICAgICBpZiAodGhpcy5fcm9vdElkID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdElkID0gUnVsZUZhY3RvcnkuZ2V0Q29tcGlsZWRSdWxlSWQodGhpcy5fZ3JhbW1hci5yZXBvc2l0b3J5LiRzZWxmLCB0aGlzLCB0aGlzLl9ncmFtbWFyLnJlcG9zaXRvcnkpO1xuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIGlkcyBhcmUgZGV0ZXJtaW5pc3RpYywgYW5kIHRodXMgZXF1YWwgaW4gcmVuZGVyZXIgYW5kIHdlYndvcmtlci5cbiAgICAgICAgICAgIHRoaXMuZ2V0SW5qZWN0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpc0ZpcnN0TGluZTtcbiAgICAgICAgaWYgKCFwcmV2U3RhdGUgfHwgcHJldlN0YXRlID09PSBTdGF0ZVN0YWNrSW1wbC5OVUxMKSB7XG4gICAgICAgICAgICBpc0ZpcnN0TGluZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByYXdEZWZhdWx0TWV0YWRhdGEgPSB0aGlzLl9iYXNpY1Njb3BlQXR0cmlidXRlc1Byb3ZpZGVyLmdldERlZmF1bHRBdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0U3R5bGUgPSB0aGlzLnRoZW1lUHJvdmlkZXIuZ2V0RGVmYXVsdHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRNZXRhZGF0YSA9IEVuY29kZWRUb2tlbkF0dHJpYnV0ZXMuc2V0KDAsIHJhd0RlZmF1bHRNZXRhZGF0YS5sYW5ndWFnZUlkLCByYXdEZWZhdWx0TWV0YWRhdGEudG9rZW5UeXBlLCBudWxsLCBkZWZhdWx0U3R5bGUuZm9udFN0eWxlLCBkZWZhdWx0U3R5bGUuZm9yZWdyb3VuZElkLCBkZWZhdWx0U3R5bGUuYmFja2dyb3VuZElkKTtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RTY29wZU5hbWUgPSB0aGlzLmdldFJ1bGUodGhpcy5fcm9vdElkKS5nZXROYW1lKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgbGV0IHNjb3BlTGlzdDtcbiAgICAgICAgICAgIGlmIChyb290U2NvcGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVMaXN0ID0gQXR0cmlidXRlZFNjb3BlU3RhY2suY3JlYXRlUm9vdEFuZExvb2tVcFNjb3BlTmFtZShyb290U2NvcGVOYW1lLCBkZWZhdWx0TWV0YWRhdGEsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGVMaXN0ID0gQXR0cmlidXRlZFNjb3BlU3RhY2suY3JlYXRlUm9vdChcInVua25vd25cIiwgZGVmYXVsdE1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZTdGF0ZSA9IG5ldyBTdGF0ZVN0YWNrSW1wbChudWxsLCB0aGlzLl9yb290SWQsIC0xLCAtMSwgZmFsc2UsIG51bGwsIHNjb3BlTGlzdCwgc2NvcGVMaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlzRmlyc3RMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICBwcmV2U3RhdGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lVGV4dCA9IGxpbmVUZXh0ICsgXCJcXG5cIjtcbiAgICAgICAgY29uc3Qgb25pZ0xpbmVUZXh0ID0gdGhpcy5jcmVhdGVPbmlnU3RyaW5nKGxpbmVUZXh0KTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IG9uaWdMaW5lVGV4dC5jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGluZVRva2VucyA9IG5ldyBMaW5lVG9rZW5zKGVtaXRCaW5hcnlUb2tlbnMsIGxpbmVUZXh0LCB0aGlzLl90b2tlblR5cGVNYXRjaGVycywgdGhpcy5iYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMpO1xuICAgICAgICBjb25zdCByID0gX3Rva2VuaXplU3RyaW5nKHRoaXMsIG9uaWdMaW5lVGV4dCwgaXNGaXJzdExpbmUsIDAsIHByZXZTdGF0ZSwgbGluZVRva2VucywgdHJ1ZSwgdGltZUxpbWl0KTtcbiAgICAgICAgZGlzcG9zZU9uaWdTdHJpbmcob25pZ0xpbmVUZXh0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmVMZW5ndGg6IGxpbmVMZW5ndGgsXG4gICAgICAgICAgICBsaW5lVG9rZW5zOiBsaW5lVG9rZW5zLFxuICAgICAgICAgICAgcnVsZVN0YWNrOiByLnN0YWNrLFxuICAgICAgICAgICAgc3RvcHBlZEVhcmx5OiByLnN0b3BwZWRFYXJseSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbml0R3JhbW1hcihncmFtbWFyLCBiYXNlKSB7XG4gICAgZ3JhbW1hciA9IGNsb25lKGdyYW1tYXIpO1xuICAgIGdyYW1tYXIucmVwb3NpdG9yeSA9IGdyYW1tYXIucmVwb3NpdG9yeSB8fCB7fTtcbiAgICBncmFtbWFyLnJlcG9zaXRvcnkuJHNlbGYgPSB7XG4gICAgICAgICR2c2NvZGVUZXh0bWF0ZUxvY2F0aW9uOiBncmFtbWFyLiR2c2NvZGVUZXh0bWF0ZUxvY2F0aW9uLFxuICAgICAgICBwYXR0ZXJuczogZ3JhbW1hci5wYXR0ZXJucyxcbiAgICAgICAgbmFtZTogZ3JhbW1hci5zY29wZU5hbWVcbiAgICB9O1xuICAgIGdyYW1tYXIucmVwb3NpdG9yeS4kYmFzZSA9IGJhc2UgfHwgZ3JhbW1hci5yZXBvc2l0b3J5LiRzZWxmO1xuICAgIHJldHVybiBncmFtbWFyO1xufVxuY2xhc3MgQXR0cmlidXRlZFNjb3BlU3RhY2sge1xuICAgIHBhcmVudDtcbiAgICBzY29wZVBhdGg7XG4gICAgdG9rZW5BdHRyaWJ1dGVzO1xuICAgIHN0YXRpYyBmcm9tRXh0ZW5zaW9uKG5hbWVzU2NvcGVMaXN0LCBjb250ZW50TmFtZVNjb3Blc0xpc3QpIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBuYW1lc1Njb3BlTGlzdDtcbiAgICAgICAgbGV0IHNjb3BlTmFtZXMgPSBuYW1lc1Njb3BlTGlzdD8uc2NvcGVQYXRoID8/IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgZnJhbWUgb2YgY29udGVudE5hbWVTY29wZXNMaXN0KSB7XG4gICAgICAgICAgICBzY29wZU5hbWVzID0gU2NvcGVTdGFjay5wdXNoKHNjb3BlTmFtZXMsIGZyYW1lLnNjb3BlTmFtZXMpO1xuICAgICAgICAgICAgY3VycmVudCA9IG5ldyBBdHRyaWJ1dGVkU2NvcGVTdGFjayhjdXJyZW50LCBzY29wZU5hbWVzLCBmcmFtZS5lbmNvZGVkVG9rZW5BdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVJvb3Qoc2NvcGVOYW1lLCB0b2tlbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVkU2NvcGVTdGFjayhudWxsLCBuZXcgU2NvcGVTdGFjayhudWxsLCBzY29wZU5hbWUpLCB0b2tlbkF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlUm9vdEFuZExvb2tVcFNjb3BlTmFtZShzY29wZU5hbWUsIHRva2VuQXR0cmlidXRlcywgZ3JhbW1hcikge1xuICAgICAgICBjb25zdCByYXdSb290TWV0YWRhdGEgPSBncmFtbWFyLmdldE1ldGFkYXRhRm9yU2NvcGUoc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3Qgc2NvcGVQYXRoID0gbmV3IFNjb3BlU3RhY2sobnVsbCwgc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3Qgcm9vdFN0eWxlID0gZ3JhbW1hci50aGVtZVByb3ZpZGVyLnRoZW1lTWF0Y2goc2NvcGVQYXRoKTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRUb2tlbkF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVkU2NvcGVTdGFjay5tZXJnZUF0dHJpYnV0ZXModG9rZW5BdHRyaWJ1dGVzLCByYXdSb290TWV0YWRhdGEsIHJvb3RTdHlsZSk7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlZFNjb3BlU3RhY2sobnVsbCwgc2NvcGVQYXRoLCByZXNvbHZlZFRva2VuQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGdldCBzY29wZU5hbWUoKSB7IHJldHVybiB0aGlzLnNjb3BlUGF0aC5zY29wZU5hbWU7IH1cbiAgICAvKipcbiAgICAgKiBJbnZhcmlhbnQ6XG4gICAgICogYGBgXG4gICAgICogaWYgKHBhcmVudCAmJiAhc2NvcGVQYXRoLmV4dGVuZHMocGFyZW50LnNjb3BlUGF0aCkpIHtcbiAgICAgKiBcdHRocm93IG5ldyBFcnJvcigpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHNjb3BlUGF0aCwgdG9rZW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnNjb3BlUGF0aCA9IHNjb3BlUGF0aDtcbiAgICAgICAgdGhpcy50b2tlbkF0dHJpYnV0ZXMgPSB0b2tlbkF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTY29wZU5hbWVzKCkuam9pbignICcpO1xuICAgIH1cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZWRTY29wZVN0YWNrLmVxdWFscyh0aGlzLCBvdGhlcik7XG4gICAgfVxuICAgIHN0YXRpYyBlcXVhbHMoYSwgYikge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhICYmICFiKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIGxpc3QgcmVhY2hlZCBmb3IgYm90aFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhIHx8ICFiKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIGxpc3QgcmVhY2hlZCBvbmx5IGZvciBvbmVcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYS5zY29wZU5hbWUgIT09IGIuc2NvcGVOYW1lIHx8IGEudG9rZW5BdHRyaWJ1dGVzICE9PSBiLnRva2VuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdvIHRvIHByZXZpb3VzIHBhaXJcbiAgICAgICAgICAgIGEgPSBhLnBhcmVudDtcbiAgICAgICAgICAgIGIgPSBiLnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUF0dHJpYnV0ZXMoZXhpc3RpbmdUb2tlbkF0dHJpYnV0ZXMsIGJhc2ljU2NvcGVBdHRyaWJ1dGVzLCBzdHlsZUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgbGV0IGZvbnRTdHlsZSA9IC0xIC8qIEZvbnRTdHlsZS5Ob3RTZXQgKi87XG4gICAgICAgIGxldCBmb3JlZ3JvdW5kID0gMDtcbiAgICAgICAgbGV0IGJhY2tncm91bmQgPSAwO1xuICAgICAgICBpZiAoc3R5bGVBdHRyaWJ1dGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb250U3R5bGUgPSBzdHlsZUF0dHJpYnV0ZXMuZm9udFN0eWxlO1xuICAgICAgICAgICAgZm9yZWdyb3VuZCA9IHN0eWxlQXR0cmlidXRlcy5mb3JlZ3JvdW5kSWQ7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kID0gc3R5bGVBdHRyaWJ1dGVzLmJhY2tncm91bmRJZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRW5jb2RlZFRva2VuQXR0cmlidXRlcy5zZXQoZXhpc3RpbmdUb2tlbkF0dHJpYnV0ZXMsIGJhc2ljU2NvcGVBdHRyaWJ1dGVzLmxhbmd1YWdlSWQsIGJhc2ljU2NvcGVBdHRyaWJ1dGVzLnRva2VuVHlwZSwgbnVsbCwgZm9udFN0eWxlLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgcHVzaEF0dHJpYnV0ZWQoc2NvcGVQYXRoLCBncmFtbWFyKSB7XG4gICAgICAgIGlmIChzY29wZVBhdGggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY29wZVBhdGguaW5kZXhPZignICcpID09PSAtMSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY29tbW9uIGNhc2UgYW5kIG11Y2ggZmFzdGVyXG4gICAgICAgICAgICByZXR1cm4gQXR0cmlidXRlZFNjb3BlU3RhY2suX3B1c2hBdHRyaWJ1dGVkKHRoaXMsIHNjb3BlUGF0aCwgZ3JhbW1hcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NvcGVzID0gc2NvcGVQYXRoLnNwbGl0KC8gL2cpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcztcbiAgICAgICAgZm9yIChjb25zdCBzY29wZSBvZiBzY29wZXMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEF0dHJpYnV0ZWRTY29wZVN0YWNrLl9wdXNoQXR0cmlidXRlZChyZXN1bHQsIHNjb3BlLCBncmFtbWFyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgX3B1c2hBdHRyaWJ1dGVkKHRhcmdldCwgc2NvcGVOYW1lLCBncmFtbWFyKSB7XG4gICAgICAgIGNvbnN0IHJhd01ldGFkYXRhID0gZ3JhbW1hci5nZXRNZXRhZGF0YUZvclNjb3BlKHNjb3BlTmFtZSk7XG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSB0YXJnZXQuc2NvcGVQYXRoLnB1c2goc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3Qgc2NvcGVUaGVtZU1hdGNoUmVzdWx0ID0gZ3JhbW1hci50aGVtZVByb3ZpZGVyLnRoZW1lTWF0Y2gobmV3UGF0aCk7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gQXR0cmlidXRlZFNjb3BlU3RhY2subWVyZ2VBdHRyaWJ1dGVzKHRhcmdldC50b2tlbkF0dHJpYnV0ZXMsIHJhd01ldGFkYXRhLCBzY29wZVRoZW1lTWF0Y2hSZXN1bHQpO1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZWRTY29wZVN0YWNrKHRhcmdldCwgbmV3UGF0aCwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXRTY29wZU5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZVBhdGguZ2V0U2VnbWVudHMoKTtcbiAgICB9XG4gICAgZ2V0RXh0ZW5zaW9uSWZEZWZpbmVkKGJhc2UpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHNlbGYgJiYgc2VsZiAhPT0gYmFzZSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgIGVuY29kZWRUb2tlbkF0dHJpYnV0ZXM6IHNlbGYudG9rZW5BdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIHNjb3BlTmFtZXM6IHNlbGYuc2NvcGVQYXRoLmdldEV4dGVuc2lvbklmRGVmaW5lZChzZWxmLnBhcmVudD8uc2NvcGVQYXRoID8/IG51bGwpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWxmID0gc2VsZi5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYgPT09IGJhc2UgPyByZXN1bHQucmV2ZXJzZSgpIDogdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIFwicHVzaGVkXCIgc3RhdGUgb24gdGhlIHN0YWNrIChhcyBhIGxpbmtlZCBsaXN0IGVsZW1lbnQpLlxuICovXG5jbGFzcyBTdGF0ZVN0YWNrSW1wbCB7XG4gICAgcGFyZW50O1xuICAgIHJ1bGVJZDtcbiAgICBiZWdpblJ1bGVDYXB0dXJlZEVPTDtcbiAgICBlbmRSdWxlO1xuICAgIG5hbWVTY29wZXNMaXN0O1xuICAgIGNvbnRlbnROYW1lU2NvcGVzTGlzdDtcbiAgICBfc3RhY2tFbGVtZW50QnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgLy8gVE9ETyByZW1vdmUgbWVcbiAgICBzdGF0aWMgTlVMTCA9IG5ldyBTdGF0ZVN0YWNrSW1wbChudWxsLCAwLCAwLCAwLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9uIHRoZSBjdXJyZW50IGxpbmUgd2hlcmUgdGhpcyBzdGF0ZSB3YXMgcHVzaGVkLlxuICAgICAqIFRoaXMgaXMgcmVsZXZhbnQgb25seSB3aGlsZSB0b2tlbml6aW5nIGEgbGluZSwgdG8gZGV0ZWN0IGVuZGxlc3MgbG9vcHMuXG4gICAgICogSXRzIHZhbHVlIGlzIG1lYW5pbmdsZXNzIGFjcm9zcyBsaW5lcy5cbiAgICAgKi9cbiAgICBfZW50ZXJQb3M7XG4gICAgLyoqXG4gICAgICogVGhlIGNhcHR1cmVkIGFuY2hvciBwb3NpdGlvbiB3aGVuIHRoaXMgc3RhY2sgZWxlbWVudCB3YXMgcHVzaGVkLlxuICAgICAqIFRoaXMgaXMgcmVsZXZhbnQgb25seSB3aGlsZSB0b2tlbml6aW5nIGEgbGluZSwgdG8gcmVzdG9yZSB0aGUgYW5jaG9yIHBvc2l0aW9uIHdoZW4gcG9wcGluZy5cbiAgICAgKiBJdHMgdmFsdWUgaXMgbWVhbmluZ2xlc3MgYWNyb3NzIGxpbmVzLlxuICAgICAqL1xuICAgIF9hbmNob3JQb3M7XG4gICAgLyoqXG4gICAgICogVGhlIGRlcHRoIG9mIHRoZSBzdGFjay5cbiAgICAgKi9cbiAgICBkZXB0aDtcbiAgICAvKipcbiAgICAgKiBJbnZhcmlhbnQ6XG4gICAgICogYGBgXG4gICAgICogaWYgKGNvbnRlbnROYW1lU2NvcGVzTGlzdCAhPT0gbmFtZVNjb3Blc0xpc3QgJiYgY29udGVudE5hbWVTY29wZXNMaXN0Py5wYXJlbnQgIT09IG5hbWVTY29wZXNMaXN0KSB7XG4gICAgICogXHR0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgKiB9XG4gICAgICogaWYgKHRoaXMucGFyZW50ICYmICFuYW1lU2NvcGVzTGlzdC5leHRlbmRzKHRoaXMucGFyZW50LmNvbnRlbnROYW1lU2NvcGVzTGlzdCkpIHtcbiAgICAgKiBcdHRocm93IG5ldyBFcnJvcigpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgc3RhdGUgb24gdGhlIHN0YWNrIChvciBudWxsIGZvciB0aGUgcm9vdCBzdGF0ZSkuXG4gICAgICovXG4gICAgcGFyZW50LCBcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgKHJ1bGUpIHRoYXQgdGhpcyBlbGVtZW50IHJlcHJlc2VudHMuXG4gICAgICovXG4gICAgcnVsZUlkLCBlbnRlclBvcywgYW5jaG9yUG9zLCBcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgaGFzIGVudGVyZWQgYW5kIGNhcHR1cmVkIFxcbi4gVGhpcyBtZWFucyB0aGF0IHRoZSBuZXh0IGxpbmUgc2hvdWxkIGhhdmUgYW4gYW5jaG9yUG9zaXRpb24gb2YgMC5cbiAgICAgKi9cbiAgICBiZWdpblJ1bGVDYXB0dXJlZEVPTCwgXG4gICAgLyoqXG4gICAgICogVGhlIFwicG9wXCIgKGVuZCkgY29uZGl0aW9uIGZvciB0aGlzIHN0YXRlIGluIGNhc2UgdGhhdCBpdCB3YXMgZHluYW1pY2FsbHkgZ2VuZXJhdGVkIHRocm91Z2ggY2FwdHVyZWQgdGV4dC5cbiAgICAgKi9cbiAgICBlbmRSdWxlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBzY29wZXMgY29udGFpbmluZyB0aGUgXCJuYW1lXCIgZm9yIHRoaXMgc3RhdGUuXG4gICAgICovXG4gICAgbmFtZVNjb3Blc0xpc3QsIFxuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIHNjb3BlcyBjb250YWluaW5nIHRoZSBcImNvbnRlbnROYW1lXCIgKGJlc2lkZXMgXCJuYW1lXCIpIGZvciB0aGlzIHN0YXRlLlxuICAgICAqIFRoaXMgbGlzdCAqKm11c3QqKiBjb250YWluIGFzIGFuIGVsZW1lbnQgYHNjb3BlTmFtZWAuXG4gICAgICovXG4gICAgY29udGVudE5hbWVTY29wZXNMaXN0KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnJ1bGVJZCA9IHJ1bGVJZDtcbiAgICAgICAgdGhpcy5iZWdpblJ1bGVDYXB0dXJlZEVPTCA9IGJlZ2luUnVsZUNhcHR1cmVkRU9MO1xuICAgICAgICB0aGlzLmVuZFJ1bGUgPSBlbmRSdWxlO1xuICAgICAgICB0aGlzLm5hbWVTY29wZXNMaXN0ID0gbmFtZVNjb3Blc0xpc3Q7XG4gICAgICAgIHRoaXMuY29udGVudE5hbWVTY29wZXNMaXN0ID0gY29udGVudE5hbWVTY29wZXNMaXN0O1xuICAgICAgICB0aGlzLmRlcHRoID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5kZXB0aCArIDEgOiAxO1xuICAgICAgICB0aGlzLl9lbnRlclBvcyA9IGVudGVyUG9zO1xuICAgICAgICB0aGlzLl9hbmNob3JQb3MgPSBhbmNob3JQb3M7XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAob3RoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RhdGVTdGFja0ltcGwuX2VxdWFscyh0aGlzLCBvdGhlcik7XG4gICAgfVxuICAgIHN0YXRpYyBfZXF1YWxzKGEsIGIpIHtcbiAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fc3RydWN0dXJhbEVxdWFscyhhLCBiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBdHRyaWJ1dGVkU2NvcGVTdGFjay5lcXVhbHMoYS5jb250ZW50TmFtZVNjb3Blc0xpc3QsIGIuY29udGVudE5hbWVTY29wZXNMaXN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdHJ1Y3R1cmFsIGVxdWFscyBjaGVjay4gRG9lcyBub3QgdGFrZSBpbnRvIGFjY291bnQgYHNjb3Blc2AuXG4gICAgICovXG4gICAgc3RhdGljIF9zdHJ1Y3R1cmFsRXF1YWxzKGEsIGIpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYSAmJiAhYikge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBsaXN0IHJlYWNoZWQgZm9yIGJvdGhcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYSB8fCAhYikge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBsaXN0IHJlYWNoZWQgb25seSBmb3Igb25lXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGEuZGVwdGggIT09IGIuZGVwdGggfHxcbiAgICAgICAgICAgICAgICBhLnJ1bGVJZCAhPT0gYi5ydWxlSWQgfHxcbiAgICAgICAgICAgICAgICBhLmVuZFJ1bGUgIT09IGIuZW5kUnVsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdvIHRvIHByZXZpb3VzIHBhaXJcbiAgICAgICAgICAgIGEgPSBhLnBhcmVudDtcbiAgICAgICAgICAgIGIgPSBiLnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIF9yZXNldChlbCkge1xuICAgICAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgICAgIGVsLl9lbnRlclBvcyA9IC0xO1xuICAgICAgICAgICAgZWwuX2FuY2hvclBvcyA9IC0xO1xuICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIFN0YXRlU3RhY2tJbXBsLl9yZXNldCh0aGlzKTtcbiAgICB9XG4gICAgcG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgfVxuICAgIHNhZmVQb3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBwdXNoKHJ1bGVJZCwgZW50ZXJQb3MsIGFuY2hvclBvcywgYmVnaW5SdWxlQ2FwdHVyZWRFT0wsIGVuZFJ1bGUsIG5hbWVTY29wZXNMaXN0LCBjb250ZW50TmFtZVNjb3Blc0xpc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZVN0YWNrSW1wbCh0aGlzLCBydWxlSWQsIGVudGVyUG9zLCBhbmNob3JQb3MsIGJlZ2luUnVsZUNhcHR1cmVkRU9MLCBlbmRSdWxlLCBuYW1lU2NvcGVzTGlzdCwgY29udGVudE5hbWVTY29wZXNMaXN0KTtcbiAgICB9XG4gICAgZ2V0RW50ZXJQb3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRlclBvcztcbiAgICB9XG4gICAgZ2V0QW5jaG9yUG9zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yUG9zO1xuICAgIH1cbiAgICBnZXRSdWxlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXIuZ2V0UnVsZSh0aGlzLnJ1bGVJZCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHRoaXMuX3dyaXRlU3RyaW5nKHIsIDApO1xuICAgICAgICByZXR1cm4gXCJbXCIgKyByLmpvaW4oXCIsXCIpICsgXCJdXCI7XG4gICAgfVxuICAgIF93cml0ZVN0cmluZyhyZXMsIG91dEluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgb3V0SW5kZXggPSB0aGlzLnBhcmVudC5fd3JpdGVTdHJpbmcocmVzLCBvdXRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzW291dEluZGV4KytdID0gYCgke3RoaXMucnVsZUlkfSwgJHt0aGlzLm5hbWVTY29wZXNMaXN0Py50b1N0cmluZygpfSwgJHt0aGlzLmNvbnRlbnROYW1lU2NvcGVzTGlzdD8udG9TdHJpbmcoKX0pYDtcbiAgICAgICAgcmV0dXJuIG91dEluZGV4O1xuICAgIH1cbiAgICB3aXRoQ29udGVudE5hbWVTY29wZXNMaXN0KGNvbnRlbnROYW1lU2NvcGVTdGFjaykge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50TmFtZVNjb3Blc0xpc3QgPT09IGNvbnRlbnROYW1lU2NvcGVTdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnB1c2godGhpcy5ydWxlSWQsIHRoaXMuX2VudGVyUG9zLCB0aGlzLl9hbmNob3JQb3MsIHRoaXMuYmVnaW5SdWxlQ2FwdHVyZWRFT0wsIHRoaXMuZW5kUnVsZSwgdGhpcy5uYW1lU2NvcGVzTGlzdCwgY29udGVudE5hbWVTY29wZVN0YWNrKTtcbiAgICB9XG4gICAgd2l0aEVuZFJ1bGUoZW5kUnVsZSkge1xuICAgICAgICBpZiAodGhpcy5lbmRSdWxlID09PSBlbmRSdWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0YXRlU3RhY2tJbXBsKHRoaXMucGFyZW50LCB0aGlzLnJ1bGVJZCwgdGhpcy5fZW50ZXJQb3MsIHRoaXMuX2FuY2hvclBvcywgdGhpcy5iZWdpblJ1bGVDYXB0dXJlZEVPTCwgZW5kUnVsZSwgdGhpcy5uYW1lU2NvcGVzTGlzdCwgdGhpcy5jb250ZW50TmFtZVNjb3Blc0xpc3QpO1xuICAgIH1cbiAgICAvLyBVc2VkIHRvIHdhcm4gb2YgZW5kbGVzcyBsb29wc1xuICAgIGhhc1NhbWVSdWxlQXMob3RoZXIpIHtcbiAgICAgICAgbGV0IGVsID0gdGhpcztcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsLl9lbnRlclBvcyA9PT0gb3RoZXIuX2VudGVyUG9zKSB7XG4gICAgICAgICAgICBpZiAoZWwucnVsZUlkID09PSBvdGhlci5ydWxlSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsID0gZWwucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdG9TdGF0ZVN0YWNrRnJhbWUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydWxlSWQ6IHJ1bGVJZFRvTnVtYmVyKHRoaXMucnVsZUlkKSxcbiAgICAgICAgICAgIGJlZ2luUnVsZUNhcHR1cmVkRU9MOiB0aGlzLmJlZ2luUnVsZUNhcHR1cmVkRU9MLFxuICAgICAgICAgICAgZW5kUnVsZTogdGhpcy5lbmRSdWxlLFxuICAgICAgICAgICAgbmFtZVNjb3Blc0xpc3Q6IHRoaXMubmFtZVNjb3Blc0xpc3Q/LmdldEV4dGVuc2lvbklmRGVmaW5lZCh0aGlzLnBhcmVudD8ubmFtZVNjb3Blc0xpc3QgPz8gbnVsbCkgPz8gW10sXG4gICAgICAgICAgICBjb250ZW50TmFtZVNjb3Blc0xpc3Q6IHRoaXMuY29udGVudE5hbWVTY29wZXNMaXN0Py5nZXRFeHRlbnNpb25JZkRlZmluZWQodGhpcy5uYW1lU2NvcGVzTGlzdCkgPz8gW10sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBwdXNoRnJhbWUoc2VsZiwgZnJhbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZXNTY29wZUxpc3QgPSBBdHRyaWJ1dGVkU2NvcGVTdGFjay5mcm9tRXh0ZW5zaW9uKHNlbGY/Lm5hbWVTY29wZXNMaXN0ID8/IG51bGwsIGZyYW1lLm5hbWVTY29wZXNMaXN0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZVN0YWNrSW1wbChzZWxmLCBydWxlSWRGcm9tTnVtYmVyKGZyYW1lLnJ1bGVJZCksIGZyYW1lLmVudGVyUG9zID8/IC0xLCBmcmFtZS5hbmNob3JQb3MgPz8gLTEsIGZyYW1lLmJlZ2luUnVsZUNhcHR1cmVkRU9MLCBmcmFtZS5lbmRSdWxlLCBuYW1lc1Njb3BlTGlzdCwgQXR0cmlidXRlZFNjb3BlU3RhY2suZnJvbUV4dGVuc2lvbihuYW1lc1Njb3BlTGlzdCwgZnJhbWUuY29udGVudE5hbWVTY29wZXNMaXN0KSk7XG4gICAgfVxufVxuY2xhc3MgQmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzIHtcbiAgICBiYWxhbmNlZEJyYWNrZXRTY29wZXM7XG4gICAgdW5iYWxhbmNlZEJyYWNrZXRTY29wZXM7XG4gICAgYWxsb3dBbnkgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihiYWxhbmNlZEJyYWNrZXRTY29wZXMsIHVuYmFsYW5jZWRCcmFja2V0U2NvcGVzKSB7XG4gICAgICAgIHRoaXMuYmFsYW5jZWRCcmFja2V0U2NvcGVzID0gYmFsYW5jZWRCcmFja2V0U2NvcGVzLmZsYXRNYXAoKHNlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dBbnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVNYXRjaGVycyhzZWxlY3RvciwgbmFtZU1hdGNoZXIpLm1hcCgobSkgPT4gbS5tYXRjaGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5iYWxhbmNlZEJyYWNrZXRTY29wZXMgPSB1bmJhbGFuY2VkQnJhY2tldFNjb3Blcy5mbGF0TWFwKChzZWxlY3RvcikgPT4gY3JlYXRlTWF0Y2hlcnMoc2VsZWN0b3IsIG5hbWVNYXRjaGVyKS5tYXAoKG0pID0+IG0ubWF0Y2hlcikpO1xuICAgIH1cbiAgICBnZXQgbWF0Y2hlc0Fsd2F5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxsb3dBbnkgJiYgdGhpcy51bmJhbGFuY2VkQnJhY2tldFNjb3Blcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGdldCBtYXRjaGVzTmV2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2VkQnJhY2tldFNjb3Blcy5sZW5ndGggPT09IDAgJiYgIXRoaXMuYWxsb3dBbnk7XG4gICAgfVxuICAgIG1hdGNoKHNjb3Blcykge1xuICAgICAgICBmb3IgKGNvbnN0IGV4Y2x1ZGVyIG9mIHRoaXMudW5iYWxhbmNlZEJyYWNrZXRTY29wZXMpIHtcbiAgICAgICAgICAgIGlmIChleGNsdWRlcihzY29wZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaW5jbHVkZXIgb2YgdGhpcy5iYWxhbmNlZEJyYWNrZXRTY29wZXMpIHtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlcihzY29wZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWxsb3dBbnk7XG4gICAgfVxufVxuY2xhc3MgTGluZVRva2VucyB7XG4gICAgYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzO1xuICAgIF9lbWl0QmluYXJ5VG9rZW5zO1xuICAgIC8qKlxuICAgICAqIGRlZmluZWQgb25seSBpZiBgZmFsc2VgLlxuICAgICAqL1xuICAgIF9saW5lVGV4dDtcbiAgICAvKipcbiAgICAgKiB1c2VkIG9ubHkgaWYgYF9lbWl0QmluYXJ5VG9rZW5zYCBpcyBmYWxzZS5cbiAgICAgKi9cbiAgICBfdG9rZW5zO1xuICAgIC8qKlxuICAgICAqIHVzZWQgb25seSBpZiBgX2VtaXRCaW5hcnlUb2tlbnNgIGlzIHRydWUuXG4gICAgICovXG4gICAgX2JpbmFyeVRva2VucztcbiAgICBfbGFzdFRva2VuRW5kSW5kZXg7XG4gICAgX3Rva2VuVHlwZU92ZXJyaWRlcztcbiAgICBjb25zdHJ1Y3RvcihlbWl0QmluYXJ5VG9rZW5zLCBsaW5lVGV4dCwgdG9rZW5UeXBlT3ZlcnJpZGVzLCBiYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMpIHtcbiAgICAgICAgdGhpcy5iYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMgPSBiYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnM7XG4gICAgICAgIHRoaXMuX2VtaXRCaW5hcnlUb2tlbnMgPSBlbWl0QmluYXJ5VG9rZW5zO1xuICAgICAgICB0aGlzLl90b2tlblR5cGVPdmVycmlkZXMgPSB0b2tlblR5cGVPdmVycmlkZXM7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVUZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90b2tlbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fYmluYXJ5VG9rZW5zID0gW107XG4gICAgICAgIHRoaXMuX2xhc3RUb2tlbkVuZEluZGV4ID0gMDtcbiAgICB9XG4gICAgcHJvZHVjZShzdGFjaywgZW5kSW5kZXgpIHtcbiAgICAgICAgdGhpcy5wcm9kdWNlRnJvbVNjb3BlcyhzdGFjay5jb250ZW50TmFtZVNjb3Blc0xpc3QsIGVuZEluZGV4KTtcbiAgICB9XG4gICAgcHJvZHVjZUZyb21TY29wZXMoc2NvcGVzTGlzdCwgZW5kSW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RUb2tlbkVuZEluZGV4ID49IGVuZEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2VtaXRCaW5hcnlUb2tlbnMpIHtcbiAgICAgICAgICAgIGxldCBtZXRhZGF0YSA9IHNjb3Blc0xpc3Q/LnRva2VuQXR0cmlidXRlcyA/PyAwO1xuICAgICAgICAgICAgbGV0IGNvbnRhaW5zQmFsYW5jZWRCcmFja2V0cyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzPy5tYXRjaGVzQWx3YXlzKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl90b2tlblR5cGVPdmVycmlkZXMubGVuZ3RoID4gMCB8fCAodGhpcy5iYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMgJiYgIXRoaXMuYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzLm1hdGNoZXNBbHdheXMgJiYgIXRoaXMuYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzLm1hdGNoZXNOZXZlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGdlbmVyYXRlIHNjb3BlIGFycmF5IHdoZW4gcmVxdWlyZWQgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZVxuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlcyA9IHNjb3Blc0xpc3Q/LmdldFNjb3BlTmFtZXMoKSA/PyBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuVHlwZSBvZiB0aGlzLl90b2tlblR5cGVPdmVycmlkZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuVHlwZS5tYXRjaGVyKHNjb3BlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gRW5jb2RlZFRva2VuQXR0cmlidXRlcy5zZXQobWV0YWRhdGEsIDAsIHRvT3B0aW9uYWxUb2tlblR5cGUodG9rZW5UeXBlLnR5cGUpLCBudWxsLCAtMSAvKiBGb250U3R5bGUuTm90U2V0ICovLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzID0gdGhpcy5iYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMubWF0Y2goc2NvcGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBFbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLnNldChtZXRhZGF0YSwgMCwgOCAvKiBPcHRpb25hbFN0YW5kYXJkVG9rZW5UeXBlLk5vdFNldCAqLywgY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzLCAtMSAvKiBGb250U3R5bGUuTm90U2V0ICovLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9iaW5hcnlUb2tlbnMubGVuZ3RoID4gMCAmJiB0aGlzLl9iaW5hcnlUb2tlbnNbdGhpcy5fYmluYXJ5VG9rZW5zLmxlbmd0aCAtIDFdID09PSBtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gcHVzaCBhIHRva2VuIHdpdGggdGhlIHNhbWUgbWV0YWRhdGFcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VG9rZW5FbmRJbmRleCA9IGVuZEluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JpbmFyeVRva2Vucy5wdXNoKHRoaXMuX2xhc3RUb2tlbkVuZEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuX2JpbmFyeVRva2Vucy5wdXNoKG1ldGFkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUb2tlbkVuZEluZGV4ID0gZW5kSW5kZXg7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NvcGVzID0gc2NvcGVzTGlzdD8uZ2V0U2NvcGVOYW1lcygpID8/IFtdO1xuICAgICAgICB0aGlzLl90b2tlbnMucHVzaCh7XG4gICAgICAgICAgICBzdGFydEluZGV4OiB0aGlzLl9sYXN0VG9rZW5FbmRJbmRleCxcbiAgICAgICAgICAgIGVuZEluZGV4OiBlbmRJbmRleCxcbiAgICAgICAgICAgIC8vIHZhbHVlOiBsaW5lVGV4dC5zdWJzdHJpbmcobGFzdFRva2VuRW5kSW5kZXgsIGVuZEluZGV4KSxcbiAgICAgICAgICAgIHNjb3Blczogc2NvcGVzXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9sYXN0VG9rZW5FbmRJbmRleCA9IGVuZEluZGV4O1xuICAgIH1cbiAgICBnZXRSZXN1bHQoc3RhY2ssIGxpbmVMZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Rva2Vucy5sZW5ndGggPiAwICYmIHRoaXMuX3Rva2Vuc1t0aGlzLl90b2tlbnMubGVuZ3RoIC0gMV0uc3RhcnRJbmRleCA9PT0gbGluZUxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIC8vIHBvcCBwcm9kdWNlZCB0b2tlbiBmb3IgbmV3bGluZVxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VG9rZW5FbmRJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5wcm9kdWNlKHN0YWNrLCBsaW5lTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuX3Rva2Vuc1t0aGlzLl90b2tlbnMubGVuZ3RoIC0gMV0uc3RhcnRJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VucztcbiAgICB9XG4gICAgZ2V0QmluYXJ5UmVzdWx0KHN0YWNrLCBsaW5lTGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iaW5hcnlUb2tlbnMubGVuZ3RoID4gMCAmJiB0aGlzLl9iaW5hcnlUb2tlbnNbdGhpcy5fYmluYXJ5VG9rZW5zLmxlbmd0aCAtIDJdID09PSBsaW5lTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgLy8gcG9wIHByb2R1Y2VkIHRva2VuIGZvciBuZXdsaW5lXG4gICAgICAgICAgICB0aGlzLl9iaW5hcnlUb2tlbnMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9iaW5hcnlUb2tlbnMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2JpbmFyeVRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUb2tlbkVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICB0aGlzLnByb2R1Y2Uoc3RhY2ssIGxpbmVMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5fYmluYXJ5VG9rZW5zW3RoaXMuX2JpbmFyeVRva2Vucy5sZW5ndGggLSAyXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuX2JpbmFyeVRva2Vucy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5fYmluYXJ5VG9rZW5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLl9iaW5hcnlUb2tlbnNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY2xhc3MgU3luY1JlZ2lzdHJ5IHtcbiAgICBfb25pZ0xpYlByb21pc2U7XG4gICAgX2dyYW1tYXJzID0gbmV3IE1hcCgpO1xuICAgIF9yYXdHcmFtbWFycyA9IG5ldyBNYXAoKTtcbiAgICBfaW5qZWN0aW9uR3JhbW1hcnMgPSBuZXcgTWFwKCk7XG4gICAgX3RoZW1lO1xuICAgIGNvbnN0cnVjdG9yKHRoZW1lLCBfb25pZ0xpYlByb21pc2UpIHtcbiAgICAgICAgdGhpcy5fb25pZ0xpYlByb21pc2UgPSBfb25pZ0xpYlByb21pc2U7XG4gICAgICAgIHRoaXMuX3RoZW1lID0gdGhlbWU7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZ3JhbW1hciBvZiB0aGlzLl9ncmFtbWFycy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZ3JhbW1hci5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0VGhlbWUodGhlbWUpIHtcbiAgICAgICAgdGhpcy5fdGhlbWUgPSB0aGVtZTtcbiAgICB9XG4gICAgZ2V0Q29sb3JNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVtZS5nZXRDb2xvck1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYGdyYW1tYXJgIHRvIHJlZ2lzdHJ5IGFuZCByZXR1cm4gYSBsaXN0IG9mIHJlZmVyZW5jZWQgc2NvcGUgbmFtZXNcbiAgICAgKi9cbiAgICBhZGRHcmFtbWFyKGdyYW1tYXIsIGluamVjdGlvblNjb3BlTmFtZXMpIHtcbiAgICAgICAgdGhpcy5fcmF3R3JhbW1hcnMuc2V0KGdyYW1tYXIuc2NvcGVOYW1lLCBncmFtbWFyKTtcbiAgICAgICAgaWYgKGluamVjdGlvblNjb3BlTmFtZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2luamVjdGlvbkdyYW1tYXJzLnNldChncmFtbWFyLnNjb3BlTmFtZSwgaW5qZWN0aW9uU2NvcGVOYW1lcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3VwIGEgcmF3IGdyYW1tYXIuXG4gICAgICovXG4gICAgbG9va3VwKHNjb3BlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3R3JhbW1hcnMuZ2V0KHNjb3BlTmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluamVjdGlvbnMgZm9yIHRoZSBnaXZlbiBncmFtbWFyXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyh0YXJnZXRTY29wZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5qZWN0aW9uR3JhbW1hcnMuZ2V0KHRhcmdldFNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IHRoZW1lIHNldHRpbmdzXG4gICAgICovXG4gICAgZ2V0RGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVtZS5nZXREZWZhdWx0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBhIHNjb3BlIGluIHRoZSB0aGVtZS5cbiAgICAgKi9cbiAgICB0aGVtZU1hdGNoKHNjb3BlUGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbWUubWF0Y2goc2NvcGVQYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3VwIGEgZ3JhbW1hci5cbiAgICAgKi9cbiAgICBhc3luYyBncmFtbWFyRm9yU2NvcGVOYW1lKHNjb3BlTmFtZSwgaW5pdGlhbExhbmd1YWdlLCBlbWJlZGRlZExhbmd1YWdlcywgdG9rZW5UeXBlcywgYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzKSB7XG4gICAgICAgIGlmICghdGhpcy5fZ3JhbW1hcnMuaGFzKHNjb3BlTmFtZSkpIHtcbiAgICAgICAgICAgIGxldCByYXdHcmFtbWFyID0gdGhpcy5fcmF3R3JhbW1hcnMuZ2V0KHNjb3BlTmFtZSk7XG4gICAgICAgICAgICBpZiAoIXJhd0dyYW1tYXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2dyYW1tYXJzLnNldChzY29wZU5hbWUsIGNyZWF0ZUdyYW1tYXIoc2NvcGVOYW1lLCByYXdHcmFtbWFyLCBpbml0aWFsTGFuZ3VhZ2UsIGVtYmVkZGVkTGFuZ3VhZ2VzLCB0b2tlblR5cGVzLCBiYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMsIHRoaXMsIGF3YWl0IHRoaXMuX29uaWdMaWJQcm9taXNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLmdldChzY29wZU5hbWUpO1xuICAgIH1cbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoQykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKipcbiAqIFRoZSByZWdpc3RyeSB0aGF0IHdpbGwgaG9sZCBhbGwgZ3JhbW1hcnMuXG4gKi9cbmxldCBSZWdpc3RyeSQxID0gY2xhc3MgUmVnaXN0cnkge1xuICAgIF9vcHRpb25zO1xuICAgIF9zeW5jUmVnaXN0cnk7XG4gICAgX2Vuc3VyZUdyYW1tYXJDYWNoZTtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9zeW5jUmVnaXN0cnkgPSBuZXcgU3luY1JlZ2lzdHJ5KFRoZW1lLmNyZWF0ZUZyb21SYXdUaGVtZShvcHRpb25zLnRoZW1lLCBvcHRpb25zLmNvbG9yTWFwKSwgb3B0aW9ucy5vbmlnTGliKTtcbiAgICAgICAgdGhpcy5fZW5zdXJlR3JhbW1hckNhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9zeW5jUmVnaXN0cnkuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIHRoZW1lLiBPbmNlIGNhbGxlZCwgbm8gcHJldmlvdXMgYHJ1bGVTdGFja2Agc2hvdWxkIGJlIHVzZWQgYW55bW9yZS5cbiAgICAgKi9cbiAgICBzZXRUaGVtZSh0aGVtZSwgY29sb3JNYXApIHtcbiAgICAgICAgdGhpcy5fc3luY1JlZ2lzdHJ5LnNldFRoZW1lKFRoZW1lLmNyZWF0ZUZyb21SYXdUaGVtZSh0aGVtZSwgY29sb3JNYXApKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxvb2t1cCBhcnJheSBmb3IgY29sb3IgaWRzLlxuICAgICAqL1xuICAgIGdldENvbG9yTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3luY1JlZ2lzdHJ5LmdldENvbG9yTWFwKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGdyYW1tYXIgZm9yIGBzY29wZU5hbWVgIGFuZCBhbGwgcmVmZXJlbmNlZCBpbmNsdWRlZCBncmFtbWFycyBhc3luY2hyb25vdXNseS5cbiAgICAgKiBQbGVhc2UgZG8gbm90IHVzZSBsYW5ndWFnZSBpZCAwLlxuICAgICAqL1xuICAgIGxvYWRHcmFtbWFyV2l0aEVtYmVkZGVkTGFuZ3VhZ2VzKGluaXRpYWxTY29wZU5hbWUsIGluaXRpYWxMYW5ndWFnZSwgZW1iZWRkZWRMYW5ndWFnZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEdyYW1tYXJXaXRoQ29uZmlndXJhdGlvbihpbml0aWFsU2NvcGVOYW1lLCBpbml0aWFsTGFuZ3VhZ2UsIHsgZW1iZWRkZWRMYW5ndWFnZXMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGdyYW1tYXIgZm9yIGBzY29wZU5hbWVgIGFuZCBhbGwgcmVmZXJlbmNlZCBpbmNsdWRlZCBncmFtbWFycyBhc3luY2hyb25vdXNseS5cbiAgICAgKiBQbGVhc2UgZG8gbm90IHVzZSBsYW5ndWFnZSBpZCAwLlxuICAgICAqL1xuICAgIGxvYWRHcmFtbWFyV2l0aENvbmZpZ3VyYXRpb24oaW5pdGlhbFNjb3BlTmFtZSwgaW5pdGlhbExhbmd1YWdlLCBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkR3JhbW1hcihpbml0aWFsU2NvcGVOYW1lLCBpbml0aWFsTGFuZ3VhZ2UsIGNvbmZpZ3VyYXRpb24uZW1iZWRkZWRMYW5ndWFnZXMsIGNvbmZpZ3VyYXRpb24udG9rZW5UeXBlcywgbmV3IEJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycyhjb25maWd1cmF0aW9uLmJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycyB8fCBbXSwgY29uZmlndXJhdGlvbi51bmJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycyB8fCBbXSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBncmFtbWFyIGZvciBgc2NvcGVOYW1lYCBhbmQgYWxsIHJlZmVyZW5jZWQgaW5jbHVkZWQgZ3JhbW1hcnMgYXN5bmNocm9ub3VzbHkuXG4gICAgICovXG4gICAgbG9hZEdyYW1tYXIoaW5pdGlhbFNjb3BlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZEdyYW1tYXIoaW5pdGlhbFNjb3BlTmFtZSwgMCwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgfVxuICAgIGFzeW5jIF9sb2FkR3JhbW1hcihpbml0aWFsU2NvcGVOYW1lLCBpbml0aWFsTGFuZ3VhZ2UsIGVtYmVkZGVkTGFuZ3VhZ2VzLCB0b2tlblR5cGVzLCBiYWxhbmNlZEJyYWNrZXRTZWxlY3RvcnMpIHtcbiAgICAgICAgY29uc3QgZGVwZW5kZW5jeVByb2Nlc3NvciA9IG5ldyBTY29wZURlcGVuZGVuY3lQcm9jZXNzb3IodGhpcy5fc3luY1JlZ2lzdHJ5LCBpbml0aWFsU2NvcGVOYW1lKTtcbiAgICAgICAgd2hpbGUgKGRlcGVuZGVuY3lQcm9jZXNzb3IuUS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChkZXBlbmRlbmN5UHJvY2Vzc29yLlEubWFwKChyZXF1ZXN0KSA9PiB0aGlzLl9sb2FkU2luZ2xlR3JhbW1hcihyZXF1ZXN0LnNjb3BlTmFtZSkpKTtcbiAgICAgICAgICAgIGRlcGVuZGVuY3lQcm9jZXNzb3IucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJGb3JTY29wZU5hbWUoaW5pdGlhbFNjb3BlTmFtZSwgaW5pdGlhbExhbmd1YWdlLCBlbWJlZGRlZExhbmd1YWdlcywgdG9rZW5UeXBlcywgYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzKTtcbiAgICB9XG4gICAgYXN5bmMgX2xvYWRTaW5nbGVHcmFtbWFyKHNjb3BlTmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2Vuc3VyZUdyYW1tYXJDYWNoZS5oYXMoc2NvcGVOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fZW5zdXJlR3JhbW1hckNhY2hlLnNldChzY29wZU5hbWUsIHRoaXMuX2RvTG9hZFNpbmdsZUdyYW1tYXIoc2NvcGVOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vuc3VyZUdyYW1tYXJDYWNoZS5nZXQoc2NvcGVOYW1lKTtcbiAgICB9XG4gICAgYXN5bmMgX2RvTG9hZFNpbmdsZUdyYW1tYXIoc2NvcGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXIgPSBhd2FpdCB0aGlzLl9vcHRpb25zLmxvYWRHcmFtbWFyKHNjb3BlTmFtZSk7XG4gICAgICAgIGlmIChncmFtbWFyKSB7XG4gICAgICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gdHlwZW9mIHRoaXMuX29wdGlvbnMuZ2V0SW5qZWN0aW9ucyA9PT0gXCJmdW5jdGlvblwiID8gdGhpcy5fb3B0aW9ucy5nZXRJbmplY3Rpb25zKHNjb3BlTmFtZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9zeW5jUmVnaXN0cnkuYWRkR3JhbW1hcihncmFtbWFyLCBpbmplY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcmF3R3JhbW1hci5cbiAgICAgKi9cbiAgICBhc3luYyBhZGRHcmFtbWFyKHJhd0dyYW1tYXIsIGluamVjdGlvbnMgPSBbXSwgaW5pdGlhbExhbmd1YWdlID0gMCwgZW1iZWRkZWRMYW5ndWFnZXMgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3N5bmNSZWdpc3RyeS5hZGRHcmFtbWFyKHJhd0dyYW1tYXIsIGluamVjdGlvbnMpO1xuICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMuX2dyYW1tYXJGb3JTY29wZU5hbWUocmF3R3JhbW1hci5zY29wZU5hbWUsIGluaXRpYWxMYW5ndWFnZSwgZW1iZWRkZWRMYW5ndWFnZXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBncmFtbWFyIGZvciBgc2NvcGVOYW1lYC4gVGhlIGdyYW1tYXIgbXVzdCBmaXJzdCBiZSBjcmVhdGVkIHZpYSBgbG9hZEdyYW1tYXJgIG9yIGBhZGRHcmFtbWFyYC5cbiAgICAgKi9cbiAgICBfZ3JhbW1hckZvclNjb3BlTmFtZShzY29wZU5hbWUsIGluaXRpYWxMYW5ndWFnZSA9IDAsIGVtYmVkZGVkTGFuZ3VhZ2VzID0gbnVsbCwgdG9rZW5UeXBlcyA9IG51bGwsIGJhbGFuY2VkQnJhY2tldFNlbGVjdG9ycyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N5bmNSZWdpc3RyeS5ncmFtbWFyRm9yU2NvcGVOYW1lKHNjb3BlTmFtZSwgaW5pdGlhbExhbmd1YWdlLCBlbWJlZGRlZExhbmd1YWdlcywgdG9rZW5UeXBlcywgYmFsYW5jZWRCcmFja2V0U2VsZWN0b3JzKTtcbiAgICB9XG59O1xuY29uc3QgSU5JVElBTCA9IFN0YXRlU3RhY2tJbXBsLk5VTEw7XG5cbi8qKlxuICogSGVscGVycyB0byBtYW5hZ2UgdGhlIFwiY29sbGFwc2VkXCIgbWV0YWRhdGEgb2YgYW4gZW50aXJlIFN0YWNrRWxlbWVudCBzdGFjay5cbiAqIFRoZSBmb2xsb3dpbmcgYXNzdW1wdGlvbnMgaGF2ZSBiZWVuIG1hZGU6XG4gKiAgLSBsYW5ndWFnZUlkIDwgMjU2ID0+IG5lZWRzIDggYml0c1xuICogIC0gdW5pcXVlIGNvbG9yIGNvdW50IDwgNTEyID0+IG5lZWRzIDkgYml0c1xuICpcbiAqIFRoZSBiaW5hcnkgZm9ybWF0IGlzOlxuICogLSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgICAgMzMyMiAyMjIyIDIyMjIgMTExMSAxMTExIDExMDAgMDAwMCAwMDAwXG4gKiAgICAgMTA5OCA3NjU0IDMyMTAgOTg3NiA1NDMyIDEwOTggNzY1NCAzMjEwXG4gKiAtIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICAgICB4eHh4IHh4eHggeHh4eCB4eHh4IHh4eHggeHh4eCB4eHh4IHh4eHhcbiAqICAgICBiYmJiIGJiYmIgYmZmZiBmZmZmIGZmRkYgRlRUVCBMTExMIExMTExcbiAqIC0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIC0gTCA9IExhbmd1YWdlSWQgKDggYml0cylcbiAqICAtIFQgPSBTdGFuZGFyZFRva2VuVHlwZSAoMyBiaXRzKVxuICogIC0gRiA9IEZvbnRTdHlsZSAoMyBiaXRzKVxuICogIC0gZiA9IGZvcmVncm91bmQgY29sb3IgKDkgYml0cylcbiAqICAtIGIgPSBiYWNrZ3JvdW5kIGNvbG9yICg5IGJpdHMpXG4gKi9cbmNvbnN0IE1ldGFkYXRhQ29uc3RzID0ge1xuICAgIExBTkdVQUdFSURfTUFTSzogMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTExMSxcbiAgICBUT0tFTl9UWVBFX01BU0s6IDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDExMDAwMDAwMDAsXG4gICAgQkFMQU5DRURfQlJBQ0tFVFNfTUFTSzogMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDAwMDAwMDAwMCxcbiAgICBGT05UX1NUWUxFX01BU0s6IDBiMDAwMDAwMDAwMDAwMDAwMDAwMTExMDAwMDAwMDAwMDAsXG4gICAgRk9SRUdST1VORF9NQVNLOiAwYjAwMDAwMDAwMDExMTExMTExMTAwMDAwMDAwMDAwMDAwLFxuICAgIEJBQ0tHUk9VTkRfTUFTSzogMGIxMTExMTExMTEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCxcbiAgICBMQU5HVUFHRUlEX09GRlNFVDogMCxcbiAgICBUT0tFTl9UWVBFX09GRlNFVDogOCxcbiAgICBCQUxBTkNFRF9CUkFDS0VUU19PRkZTRVQ6IDEwLFxuICAgIEZPTlRfU1RZTEVfT0ZGU0VUOiAxMSxcbiAgICBGT1JFR1JPVU5EX09GRlNFVDogMTUsXG4gICAgQkFDS0dST1VORF9PRkZTRVQ6IDI0LFxufTtcbmNsYXNzIFN0YWNrRWxlbWVudE1ldGFkYXRhIHtcbiAgICBzdGF0aWMgdG9CaW5hcnlTdHIobWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IHIgPSBtZXRhZGF0YS50b1N0cmluZygyKTtcbiAgICAgICAgd2hpbGUgKHIubGVuZ3RoIDwgMzIpXG4gICAgICAgICAgICByID0gYDAke3J9YDtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIC8vIHB1YmxpYyBzdGF0aWMgcHJpbnRNZXRhZGF0YShtZXRhZGF0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gICBjb25zdCBsYW5ndWFnZUlkID0gU3RhY2tFbGVtZW50TWV0YWRhdGEuZ2V0TGFuZ3VhZ2VJZChtZXRhZGF0YSlcbiAgICAvLyAgIGNvbnN0IHRva2VuVHlwZSA9IFN0YWNrRWxlbWVudE1ldGFkYXRhLmdldFRva2VuVHlwZShtZXRhZGF0YSlcbiAgICAvLyAgIGNvbnN0IGZvbnRTdHlsZSA9IFN0YWNrRWxlbWVudE1ldGFkYXRhLmdldEZvbnRTdHlsZShtZXRhZGF0YSlcbiAgICAvLyAgIGNvbnN0IGZvcmVncm91bmQgPSBTdGFja0VsZW1lbnRNZXRhZGF0YS5nZXRGb3JlZ3JvdW5kKG1ldGFkYXRhKVxuICAgIC8vICAgY29uc3QgYmFja2dyb3VuZCA9IFN0YWNrRWxlbWVudE1ldGFkYXRhLmdldEJhY2tncm91bmQobWV0YWRhdGEpXG4gICAgLy8gICBjb25zb2xlLmxvZyh7XG4gICAgLy8gICAgIGxhbmd1YWdlSWQsXG4gICAgLy8gICAgIHRva2VuVHlwZSxcbiAgICAvLyAgICAgZm9udFN0eWxlLFxuICAgIC8vICAgICBmb3JlZ3JvdW5kLFxuICAgIC8vICAgICBiYWNrZ3JvdW5kLFxuICAgIC8vICAgfSlcbiAgICAvLyB9XG4gICAgc3RhdGljIGdldExhbmd1YWdlSWQobWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIChtZXRhZGF0YSAmIE1ldGFkYXRhQ29uc3RzLkxBTkdVQUdFSURfTUFTSykgPj4+IE1ldGFkYXRhQ29uc3RzLkxBTkdVQUdFSURfT0ZGU0VUO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0VG9rZW5UeXBlKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiAobWV0YWRhdGEgJiBNZXRhZGF0YUNvbnN0cy5UT0tFTl9UWVBFX01BU0spID4+PiBNZXRhZGF0YUNvbnN0cy5UT0tFTl9UWVBFX09GRlNFVDtcbiAgICB9XG4gICAgc3RhdGljIGdldEZvbnRTdHlsZShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gKG1ldGFkYXRhICYgTWV0YWRhdGFDb25zdHMuRk9OVF9TVFlMRV9NQVNLKSA+Pj4gTWV0YWRhdGFDb25zdHMuRk9OVF9TVFlMRV9PRkZTRVQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRGb3JlZ3JvdW5kKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiAobWV0YWRhdGEgJiBNZXRhZGF0YUNvbnN0cy5GT1JFR1JPVU5EX01BU0spID4+PiBNZXRhZGF0YUNvbnN0cy5GT1JFR1JPVU5EX09GRlNFVDtcbiAgICB9XG4gICAgc3RhdGljIGdldEJhY2tncm91bmQobWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIChtZXRhZGF0YSAmIE1ldGFkYXRhQ29uc3RzLkJBQ0tHUk9VTkRfTUFTSykgPj4+IE1ldGFkYXRhQ29uc3RzLkJBQ0tHUk9VTkRfT0ZGU0VUO1xuICAgIH1cbiAgICBzdGF0aWMgY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiAobWV0YWRhdGEgJiBNZXRhZGF0YUNvbnN0cy5CQUxBTkNFRF9CUkFDS0VUU19NQVNLKSAhPT0gMDtcbiAgICB9XG4gICAgc3RhdGljIHNldChtZXRhZGF0YSwgbGFuZ3VhZ2VJZCwgdG9rZW5UeXBlLCBmb250U3R5bGUsIGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgICAgICAgbGV0IF9sYW5ndWFnZUlkID0gU3RhY2tFbGVtZW50TWV0YWRhdGEuZ2V0TGFuZ3VhZ2VJZChtZXRhZGF0YSk7XG4gICAgICAgIGxldCBfdG9rZW5UeXBlID0gU3RhY2tFbGVtZW50TWV0YWRhdGEuZ2V0VG9rZW5UeXBlKG1ldGFkYXRhKTtcbiAgICAgICAgbGV0IF9mb250U3R5bGUgPSBTdGFja0VsZW1lbnRNZXRhZGF0YS5nZXRGb250U3R5bGUobWV0YWRhdGEpO1xuICAgICAgICBsZXQgX2ZvcmVncm91bmQgPSBTdGFja0VsZW1lbnRNZXRhZGF0YS5nZXRGb3JlZ3JvdW5kKG1ldGFkYXRhKTtcbiAgICAgICAgbGV0IF9iYWNrZ3JvdW5kID0gU3RhY2tFbGVtZW50TWV0YWRhdGEuZ2V0QmFja2dyb3VuZChtZXRhZGF0YSk7XG4gICAgICAgIGNvbnN0IF9jb250YWluc0JhbGFuY2VkQnJhY2tldHNCaXQgPSBTdGFja0VsZW1lbnRNZXRhZGF0YS5jb250YWluc0JhbGFuY2VkQnJhY2tldHMobWV0YWRhdGEpXG4gICAgICAgICAgICA/IDFcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgaWYgKGxhbmd1YWdlSWQgIT09IDApXG4gICAgICAgICAgICBfbGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgICAgIGlmICh0b2tlblR5cGUgIT09IDAgLyogVGVtcG9yYXJ5U3RhbmRhcmRUb2tlblR5cGUuT3RoZXIgKi8pIHtcbiAgICAgICAgICAgIF90b2tlblR5cGVcbiAgICAgICAgICAgICAgICA9IHRva2VuVHlwZSA9PT0gOCAvKiBUZW1wb3JhcnlTdGFuZGFyZFRva2VuVHlwZS5NZXRhRW1iZWRkZWQgKi8gPyAwIC8qIFN0YW5kYXJkVG9rZW5UeXBlLk90aGVyICovIDogdG9rZW5UeXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb250U3R5bGUgIT09IEZvbnRTdHlsZS5Ob3RTZXQpXG4gICAgICAgICAgICBfZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICBpZiAoZm9yZWdyb3VuZCAhPT0gMClcbiAgICAgICAgICAgIF9mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZDtcbiAgICAgICAgaWYgKGJhY2tncm91bmQgIT09IDApXG4gICAgICAgICAgICBfYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgICAgIHJldHVybiAoKChfbGFuZ3VhZ2VJZCA8PCBNZXRhZGF0YUNvbnN0cy5MQU5HVUFHRUlEX09GRlNFVClcbiAgICAgICAgICAgIHwgKF90b2tlblR5cGUgPDwgTWV0YWRhdGFDb25zdHMuVE9LRU5fVFlQRV9PRkZTRVQpXG4gICAgICAgICAgICB8IChfZm9udFN0eWxlIDw8IE1ldGFkYXRhQ29uc3RzLkZPTlRfU1RZTEVfT0ZGU0VUKVxuICAgICAgICAgICAgfCAoX2NvbnRhaW5zQmFsYW5jZWRCcmFja2V0c0JpdCA8PCBNZXRhZGF0YUNvbnN0cy5CQUxBTkNFRF9CUkFDS0VUU19PRkZTRVQpXG4gICAgICAgICAgICB8IChfZm9yZWdyb3VuZCA8PCBNZXRhZGF0YUNvbnN0cy5GT1JFR1JPVU5EX09GRlNFVClcbiAgICAgICAgICAgIHwgKF9iYWNrZ3JvdW5kIDw8IE1ldGFkYXRhQ29uc3RzLkJBQ0tHUk9VTkRfT0ZGU0VUKSlcbiAgICAgICAgICAgID4+PiAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IElOSVRJQUwsIFJlZ2lzdHJ5JDEgYXMgUmVnaXN0cnksIFN0YWNrRWxlbWVudE1ldGFkYXRhIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/textmate.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/types.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/types.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontStyle: () => (/* binding */ FontStyle)\n/* harmony export */ });\nvar FontStyle;\n(function (FontStyle) {\n    FontStyle[FontStyle[\"NotSet\"] = -1] = \"NotSet\";\n    FontStyle[FontStyle[\"None\"] = 0] = \"None\";\n    FontStyle[FontStyle[\"Italic\"] = 1] = \"Italic\";\n    FontStyle[FontStyle[\"Bold\"] = 2] = \"Bold\";\n    FontStyle[FontStyle[\"Underline\"] = 4] = \"Underline\";\n})(FontStyle || (FontStyle = {}));\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppLWNvcmVAMC4xMC4yL25vZGVfbW9kdWxlcy9zaGlraWppLWNvcmUvZGlzdC90eXBlcy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7O0FBRVYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hY2JveGxpdS9wcm9qZWN0cy9iaWpvbi9lY2hvYWkvbm9kZV9tb2R1bGVzLy5wbnBtL3NoaWtpamktY29yZUAwLjEwLjIvbm9kZV9tb2R1bGVzL3NoaWtpamktY29yZS9kaXN0L3R5cGVzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRm9udFN0eWxlO1xuKGZ1bmN0aW9uIChGb250U3R5bGUpIHtcbiAgICBGb250U3R5bGVbRm9udFN0eWxlW1wiTm90U2V0XCJdID0gLTFdID0gXCJOb3RTZXRcIjtcbiAgICBGb250U3R5bGVbRm9udFN0eWxlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgRm9udFN0eWxlW0ZvbnRTdHlsZVtcIkl0YWxpY1wiXSA9IDFdID0gXCJJdGFsaWNcIjtcbiAgICBGb250U3R5bGVbRm9udFN0eWxlW1wiQm9sZFwiXSA9IDJdID0gXCJCb2xkXCI7XG4gICAgRm9udFN0eWxlW0ZvbnRTdHlsZVtcIlVuZGVybGluZVwiXSA9IDRdID0gXCJVbmRlcmxpbmVcIjtcbn0pKEZvbnRTdHlsZSB8fCAoRm9udFN0eWxlID0ge30pKTtcblxuZXhwb3J0IHsgRm9udFN0eWxlIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/types.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/wasm-inlined.mjs":
/*!************************************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/wasm-inlined.mjs ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getWasm)\n/* harmony export */ });\nconst getWasm = async (info) => {\n    // @ts-expect-error this will be compiled to ArrayBuffer\n    const binray = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji-core_0_10_2_node_modules_shikiji-core_dist_onig_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./onig.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/onig.mjs\")).then(m => m.default);\n    return WebAssembly.instantiate(binray, info).then(wasm => wasm.instance.exports);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppLWNvcmVAMC4xMC4yL25vZGVfbW9kdWxlcy9zaGlraWppLWNvcmUvZGlzdC93YXNtLWlubGluZWQubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EseUJBQXlCLHVUQUFvQjtBQUM3QztBQUNBOztBQUU4QiIsInNvdXJjZXMiOlsiL1VzZXJzL2FjYm94bGl1L3Byb2plY3RzL2Jpam9uL2VjaG9haS9ub2RlX21vZHVsZXMvLnBucG0vc2hpa2lqaS1jb3JlQDAuMTAuMi9ub2RlX21vZHVsZXMvc2hpa2lqaS1jb3JlL2Rpc3Qvd2FzbS1pbmxpbmVkLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZXRXYXNtID0gYXN5bmMgKGluZm8pID0+IHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRoaXMgd2lsbCBiZSBjb21waWxlZCB0byBBcnJheUJ1ZmZlclxuICAgIGNvbnN0IGJpbnJheSA9IGF3YWl0IGltcG9ydCgnLi9vbmlnLm1qcycpLnRoZW4obSA9PiBtLmRlZmF1bHQpO1xuICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5yYXksIGluZm8pLnRoZW4od2FzbSA9PiB3YXNtLmluc3RhbmNlLmV4cG9ydHMpO1xufTtcblxuZXhwb3J0IHsgZ2V0V2FzbSBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/wasm-inlined.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/bundle-full.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/bundle-full.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontStyle: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.FontStyle),\n/* harmony export */   addClassToHast: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.addClassToHast),\n/* harmony export */   applyColorReplacements: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.applyColorReplacements),\n/* harmony export */   bundledLanguages: () => (/* reexport safe */ _langs_mjs__WEBPACK_IMPORTED_MODULE_1__.bundledLanguages),\n/* harmony export */   bundledLanguagesAlias: () => (/* reexport safe */ _langs_mjs__WEBPACK_IMPORTED_MODULE_1__.bundledLanguagesAlias),\n/* harmony export */   bundledLanguagesBase: () => (/* reexport safe */ _langs_mjs__WEBPACK_IMPORTED_MODULE_1__.bundledLanguagesBase),\n/* harmony export */   bundledLanguagesInfo: () => (/* reexport safe */ _langs_mjs__WEBPACK_IMPORTED_MODULE_1__.bundledLanguagesInfo),\n/* harmony export */   bundledThemes: () => (/* reexport safe */ _themes_mjs__WEBPACK_IMPORTED_MODULE_2__.bundledThemes),\n/* harmony export */   bundledThemesInfo: () => (/* reexport safe */ _themes_mjs__WEBPACK_IMPORTED_MODULE_2__.bundledThemesInfo),\n/* harmony export */   codeToHast: () => (/* binding */ codeToHast),\n/* harmony export */   codeToHtml: () => (/* binding */ codeToHtml),\n/* harmony export */   codeToThemedTokens: () => (/* binding */ codeToThemedTokens),\n/* harmony export */   codeToTokensWithThemes: () => (/* binding */ codeToTokensWithThemes),\n/* harmony export */   createSingletonShorthands: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.createSingletonShorthands),\n/* harmony export */   createdBundledHighlighter: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.createdBundledHighlighter),\n/* harmony export */   getHighlighter: () => (/* binding */ getHighlighter),\n/* harmony export */   getHighlighterCore: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.getHighlighterCore),\n/* harmony export */   getShikiInternal: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.getShikiInternal),\n/* harmony export */   getSingletonHighlighter: () => (/* binding */ getSingletonHighlighter),\n/* harmony export */   getWasmInlined: () => (/* reexport safe */ shikiji_wasm__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   hastToHtml: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.hastToHtml),\n/* harmony export */   isNoneTheme: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.isNoneTheme),\n/* harmony export */   isPlainLang: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.isPlainLang),\n/* harmony export */   isPlaintext: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.isPlaintext),\n/* harmony export */   isSpecialLang: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.isSpecialLang),\n/* harmony export */   isSpecialTheme: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.isSpecialTheme),\n/* harmony export */   loadWasm: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.loadWasm),\n/* harmony export */   normalizeTheme: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.normalizeTheme),\n/* harmony export */   setDefaultWasmLoader: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.setDefaultWasmLoader),\n/* harmony export */   splitLines: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.splitLines),\n/* harmony export */   splitToken: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.splitToken),\n/* harmony export */   toArray: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.toArray),\n/* harmony export */   tokenizeAnsiWithTheme: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.tokenizeAnsiWithTheme),\n/* harmony export */   tokenizeWithTheme: () => (/* reexport safe */ shikiji_core__WEBPACK_IMPORTED_MODULE_3__.tokenizeWithTheme)\n/* harmony export */ });\n/* harmony import */ var shikiji_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! shikiji/wasm */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/wasm-inlined.mjs\");\n/* harmony import */ var _langs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./langs.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs.mjs\");\n/* harmony import */ var _themes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./themes.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes.mjs\");\n/* harmony import */ var shikiji_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! shikiji-core */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji-core@0.10.2/node_modules/shikiji-core/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\nconst getHighlighter = /* @__PURE__ */ (0,shikiji_core__WEBPACK_IMPORTED_MODULE_3__.createdBundledHighlighter)(\n  _langs_mjs__WEBPACK_IMPORTED_MODULE_1__.bundledLanguages,\n  _themes_mjs__WEBPACK_IMPORTED_MODULE_2__.bundledThemes,\n  shikiji_wasm__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n);\nconst {\n  codeToHtml,\n  codeToHast,\n  codeToThemedTokens,\n  codeToTokensWithThemes,\n  getSingletonHighlighter\n} = /* @__PURE__ */ (0,shikiji_core__WEBPACK_IMPORTED_MODULE_3__.createSingletonShorthands)(\n  getHighlighter\n);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppQDAuMTAuMi9ub2RlX21vZHVsZXMvc2hpa2lqaS9kaXN0L2J1bmRsZS1mdWxsLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtQztBQUNzQjtBQUNWO0FBQ2lEO0FBQ25EO0FBQ0k7QUFDbUM7QUFDdkQ7O0FBRTdCLHVDQUF1Qyx1RUFBeUI7QUFDaEUsRUFBRSx3REFBZ0I7QUFDbEIsRUFBRSxzREFBYTtBQUNmLEVBQUUsb0RBQU87QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsa0JBQWtCLHVFQUF5QjtBQUM3QztBQUNBOztBQUV3SiIsInNvdXJjZXMiOlsiL1VzZXJzL2FjYm94bGl1L3Byb2plY3RzL2Jpam9uL2VjaG9haS9ub2RlX21vZHVsZXMvLnBucG0vc2hpa2lqaUAwLjEwLjIvbm9kZV9tb2R1bGVzL3NoaWtpamkvZGlzdC9idW5kbGUtZnVsbC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFdhc20gZnJvbSAnc2hpa2lqaS93YXNtJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZ2V0V2FzbUlubGluZWQgfSBmcm9tICdzaGlraWppL3dhc20nO1xuaW1wb3J0IHsgYnVuZGxlZExhbmd1YWdlcyB9IGZyb20gJy4vbGFuZ3MubWpzJztcbmV4cG9ydCB7IGJ1bmRsZWRMYW5ndWFnZXNBbGlhcywgYnVuZGxlZExhbmd1YWdlc0Jhc2UsIGJ1bmRsZWRMYW5ndWFnZXNJbmZvIH0gZnJvbSAnLi9sYW5ncy5tanMnO1xuaW1wb3J0IHsgYnVuZGxlZFRoZW1lcyB9IGZyb20gJy4vdGhlbWVzLm1qcyc7XG5leHBvcnQgeyBidW5kbGVkVGhlbWVzSW5mbyB9IGZyb20gJy4vdGhlbWVzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVkQnVuZGxlZEhpZ2hsaWdodGVyLCBjcmVhdGVTaW5nbGV0b25TaG9ydGhhbmRzIH0gZnJvbSAnc2hpa2lqaS1jb3JlJztcbmV4cG9ydCAqIGZyb20gJ3NoaWtpamktY29yZSc7XG5cbmNvbnN0IGdldEhpZ2hsaWdodGVyID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZWRCdW5kbGVkSGlnaGxpZ2h0ZXIoXG4gIGJ1bmRsZWRMYW5ndWFnZXMsXG4gIGJ1bmRsZWRUaGVtZXMsXG4gIGdldFdhc21cbik7XG5jb25zdCB7XG4gIGNvZGVUb0h0bWwsXG4gIGNvZGVUb0hhc3QsXG4gIGNvZGVUb1RoZW1lZFRva2VucyxcbiAgY29kZVRvVG9rZW5zV2l0aFRoZW1lcyxcbiAgZ2V0U2luZ2xldG9uSGlnaGxpZ2h0ZXJcbn0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlU2luZ2xldG9uU2hvcnRoYW5kcyhcbiAgZ2V0SGlnaGxpZ2h0ZXJcbik7XG5cbmV4cG9ydCB7IGJ1bmRsZWRMYW5ndWFnZXMsIGJ1bmRsZWRUaGVtZXMsIGNvZGVUb0hhc3QsIGNvZGVUb0h0bWwsIGNvZGVUb1RoZW1lZFRva2VucywgY29kZVRvVG9rZW5zV2l0aFRoZW1lcywgZ2V0SGlnaGxpZ2h0ZXIsIGdldFNpbmdsZXRvbkhpZ2hsaWdodGVyIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/bundle-full.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bundledLanguages: () => (/* binding */ bundledLanguages),\n/* harmony export */   bundledLanguagesAlias: () => (/* binding */ bundledLanguagesAlias),\n/* harmony export */   bundledLanguagesBase: () => (/* binding */ bundledLanguagesBase),\n/* harmony export */   bundledLanguagesInfo: () => (/* binding */ bundledLanguagesInfo)\n/* harmony export */ });\nconst bundledLanguagesInfo = [\n  {\n    \"id\": \"abap\",\n    \"name\": \"ABAP\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_abap_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/abap.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/abap.mjs\"))\n  },\n  {\n    \"id\": \"actionscript-3\",\n    \"name\": \"ActionScript\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_actionscr-195766\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/actionscript-3.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/actionscript-3.mjs\"))\n  },\n  {\n    \"id\": \"ada\",\n    \"name\": \"Ada\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ada_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ada.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ada.mjs\"))\n  },\n  {\n    \"id\": \"angular-html\",\n    \"name\": \"Angular HTML\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_angular-h-5614e8\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/angular-html.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/angular-html.mjs\")).then(function (n) { return n.e; })\n  },\n  {\n    \"id\": \"angular-ts\",\n    \"name\": \"Angular TypeScript\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_angular-ts_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/angular-ts.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/angular-ts.mjs\"))\n  },\n  {\n    \"id\": \"apache\",\n    \"name\": \"Apache Conf\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_apache_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/apache.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/apache.mjs\"))\n  },\n  {\n    \"id\": \"apex\",\n    \"name\": \"Apex\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_apex_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/apex.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/apex.mjs\"))\n  },\n  {\n    \"id\": \"apl\",\n    \"name\": \"APL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_apl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/apl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/apl.mjs\"))\n  },\n  {\n    \"id\": \"applescript\",\n    \"name\": \"AppleScript\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_applescript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/applescript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/applescript.mjs\"))\n  },\n  {\n    \"id\": \"ara\",\n    \"name\": \"Ara\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ara_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ara.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ara.mjs\"))\n  },\n  {\n    \"id\": \"asm\",\n    \"name\": \"Assembly\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_asm_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/asm.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/asm.mjs\"))\n  },\n  {\n    \"id\": \"astro\",\n    \"name\": \"Astro\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_astro_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/astro.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/astro.mjs\"))\n  },\n  {\n    \"id\": \"awk\",\n    \"name\": \"AWK\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_awk_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/awk.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/awk.mjs\"))\n  },\n  {\n    \"id\": \"ballerina\",\n    \"name\": \"Ballerina\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ballerina_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ballerina.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ballerina.mjs\"))\n  },\n  {\n    \"id\": \"bat\",\n    \"name\": \"Batch File\",\n    \"aliases\": [\n      \"batch\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_bat_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/bat.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/bat.mjs\"))\n  },\n  {\n    \"id\": \"beancount\",\n    \"name\": \"Beancount\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_beancount_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/beancount.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/beancount.mjs\"))\n  },\n  {\n    \"id\": \"berry\",\n    \"name\": \"Berry\",\n    \"aliases\": [\n      \"be\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_berry_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/berry.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/berry.mjs\"))\n  },\n  {\n    \"id\": \"bibtex\",\n    \"name\": \"BibTeX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_bibtex_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/bibtex.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/bibtex.mjs\"))\n  },\n  {\n    \"id\": \"bicep\",\n    \"name\": \"Bicep\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_bicep_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/bicep.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/bicep.mjs\"))\n  },\n  {\n    \"id\": \"blade\",\n    \"name\": \"Blade\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_blade_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/blade.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/blade.mjs\"))\n  },\n  {\n    \"id\": \"c\",\n    \"name\": \"C\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_c_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/c.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/c.mjs\"))\n  },\n  {\n    \"id\": \"cadence\",\n    \"name\": \"Cadence\",\n    \"aliases\": [\n      \"cdc\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_cadence_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/cadence.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/cadence.mjs\"))\n  },\n  {\n    \"id\": \"clarity\",\n    \"name\": \"Clarity\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_clarity_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/clarity.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/clarity.mjs\"))\n  },\n  {\n    \"id\": \"clojure\",\n    \"name\": \"Clojure\",\n    \"aliases\": [\n      \"clj\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_clojure_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/clojure.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/clojure.mjs\"))\n  },\n  {\n    \"id\": \"cmake\",\n    \"name\": \"CMake\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_cmake_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/cmake.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/cmake.mjs\"))\n  },\n  {\n    \"id\": \"cobol\",\n    \"name\": \"COBOL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_cobol_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/cobol.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/cobol.mjs\"))\n  },\n  {\n    \"id\": \"codeql\",\n    \"name\": \"CodeQL\",\n    \"aliases\": [\n      \"ql\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_codeql_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/codeql.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/codeql.mjs\"))\n  },\n  {\n    \"id\": \"coffee\",\n    \"name\": \"CoffeeScript\",\n    \"aliases\": [\n      \"coffeescript\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_coffee_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/coffee.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/coffee.mjs\"))\n  },\n  {\n    \"id\": \"cpp\",\n    \"name\": \"C++\",\n    \"aliases\": [\n      \"c++\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_cpp_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/cpp.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/cpp.mjs\"))\n  },\n  {\n    \"id\": \"crystal\",\n    \"name\": \"Crystal\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_crystal_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/crystal.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/crystal.mjs\"))\n  },\n  {\n    \"id\": \"csharp\",\n    \"name\": \"C#\",\n    \"aliases\": [\n      \"c#\",\n      \"cs\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_csharp_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/csharp.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/csharp.mjs\"))\n  },\n  {\n    \"id\": \"css\",\n    \"name\": \"CSS\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_css_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/css.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/css.mjs\"))\n  },\n  {\n    \"id\": \"csv\",\n    \"name\": \"csv syntax\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_csv_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/csv.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/csv.mjs\"))\n  },\n  {\n    \"id\": \"cue\",\n    \"name\": \"CUE\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_cue_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/cue.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/cue.mjs\"))\n  },\n  {\n    \"id\": \"cypher\",\n    \"name\": \"Cypher\",\n    \"aliases\": [\n      \"cql\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_cypher_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/cypher.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/cypher.mjs\"))\n  },\n  {\n    \"id\": \"d\",\n    \"name\": \"D\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_d_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/d.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/d.mjs\"))\n  },\n  {\n    \"id\": \"dart\",\n    \"name\": \"Dart\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_dart_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/dart.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/dart.mjs\"))\n  },\n  {\n    \"id\": \"dax\",\n    \"name\": \"DAX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_dax_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/dax.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/dax.mjs\"))\n  },\n  {\n    \"id\": \"diff\",\n    \"name\": \"Diff\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_diff_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/diff.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/diff.mjs\"))\n  },\n  {\n    \"id\": \"docker\",\n    \"name\": \"Dockerfile\",\n    \"aliases\": [\n      \"dockerfile\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_docker_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/docker.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/docker.mjs\"))\n  },\n  {\n    \"id\": \"dream-maker\",\n    \"name\": \"Dream Maker\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_dream-maker_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/dream-maker.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/dream-maker.mjs\"))\n  },\n  {\n    \"id\": \"elixir\",\n    \"name\": \"Elixir\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_elixir_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/elixir.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/elixir.mjs\"))\n  },\n  {\n    \"id\": \"elm\",\n    \"name\": \"Elm\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_elm_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/elm.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/elm.mjs\"))\n  },\n  {\n    \"id\": \"erb\",\n    \"name\": \"ERB\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_erb_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/erb.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/erb.mjs\"))\n  },\n  {\n    \"id\": \"erlang\",\n    \"name\": \"Erlang\",\n    \"aliases\": [\n      \"erl\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_erlang_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/erlang.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/erlang.mjs\"))\n  },\n  {\n    \"id\": \"fish\",\n    \"name\": \"Fish\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_fish_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/fish.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/fish.mjs\"))\n  },\n  {\n    \"id\": \"fsharp\",\n    \"name\": \"F#\",\n    \"aliases\": [\n      \"f#\",\n      \"fs\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_fsharp_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/fsharp.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/fsharp.mjs\"))\n  },\n  {\n    \"id\": \"gdresource\",\n    \"name\": \"GDResource\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_gdresource_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/gdresource.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/gdresource.mjs\"))\n  },\n  {\n    \"id\": \"gdscript\",\n    \"name\": \"GDScript\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_gdscript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/gdscript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/gdscript.mjs\"))\n  },\n  {\n    \"id\": \"gdshader\",\n    \"name\": \"GDShader\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_gdshader_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/gdshader.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/gdshader.mjs\"))\n  },\n  {\n    \"id\": \"gherkin\",\n    \"name\": \"Gherkin\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_gherkin_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/gherkin.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/gherkin.mjs\"))\n  },\n  {\n    \"id\": \"git-commit\",\n    \"name\": \"Git Commit Message\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_git-commit_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/git-commit.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/git-commit.mjs\"))\n  },\n  {\n    \"id\": \"git-rebase\",\n    \"name\": \"Git Rebase Message\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_git-rebase_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/git-rebase.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/git-rebase.mjs\"))\n  },\n  {\n    \"id\": \"glimmer-js\",\n    \"name\": \"Glimmer JS\",\n    \"aliases\": [\n      \"gjs\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_glimmer-js_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/glimmer-js.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/glimmer-js.mjs\"))\n  },\n  {\n    \"id\": \"glimmer-ts\",\n    \"name\": \"Glimmer TS\",\n    \"aliases\": [\n      \"gts\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_glimmer-ts_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/glimmer-ts.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/glimmer-ts.mjs\"))\n  },\n  {\n    \"id\": \"glsl\",\n    \"name\": \"GLSL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_glsl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/glsl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/glsl.mjs\"))\n  },\n  {\n    \"id\": \"gnuplot\",\n    \"name\": \"Gnuplot\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_gnuplot_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/gnuplot.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/gnuplot.mjs\"))\n  },\n  {\n    \"id\": \"go\",\n    \"name\": \"Go\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_go_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/go.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/go.mjs\"))\n  },\n  {\n    \"id\": \"graphql\",\n    \"name\": \"GraphQL\",\n    \"aliases\": [\n      \"gql\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_graphql_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/graphql.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/graphql.mjs\"))\n  },\n  {\n    \"id\": \"groovy\",\n    \"name\": \"Groovy\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_groovy_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/groovy.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/groovy.mjs\"))\n  },\n  {\n    \"id\": \"hack\",\n    \"name\": \"Hack\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_hack_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/hack.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/hack.mjs\"))\n  },\n  {\n    \"id\": \"haml\",\n    \"name\": \"Ruby Haml\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_haml_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/haml.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/haml.mjs\"))\n  },\n  {\n    \"id\": \"handlebars\",\n    \"name\": \"Handlebars\",\n    \"aliases\": [\n      \"hbs\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_handlebars_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/handlebars.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/handlebars.mjs\"))\n  },\n  {\n    \"id\": \"haskell\",\n    \"name\": \"Haskell\",\n    \"aliases\": [\n      \"hs\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_haskell_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/haskell.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/haskell.mjs\"))\n  },\n  {\n    \"id\": \"hcl\",\n    \"name\": \"HashiCorp HCL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_hcl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/hcl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/hcl.mjs\"))\n  },\n  {\n    \"id\": \"hjson\",\n    \"name\": \"Hjson\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_hjson_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/hjson.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/hjson.mjs\"))\n  },\n  {\n    \"id\": \"hlsl\",\n    \"name\": \"HLSL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_hlsl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/hlsl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/hlsl.mjs\"))\n  },\n  {\n    \"id\": \"html\",\n    \"name\": \"HTML\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_html_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/html.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/html.mjs\"))\n  },\n  {\n    \"id\": \"http\",\n    \"name\": \"HTTP\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_http_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/http.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/http.mjs\"))\n  },\n  {\n    \"id\": \"imba\",\n    \"name\": \"Imba\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_imba_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/imba.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/imba.mjs\"))\n  },\n  {\n    \"id\": \"ini\",\n    \"name\": \"INI\",\n    \"aliases\": [\n      \"properties\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ini_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ini.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ini.mjs\"))\n  },\n  {\n    \"id\": \"java\",\n    \"name\": \"Java\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_java_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/java.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/java.mjs\"))\n  },\n  {\n    \"id\": \"javascript\",\n    \"name\": \"JavaScript\",\n    \"aliases\": [\n      \"js\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_javascript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/javascript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/javascript.mjs\"))\n  },\n  {\n    \"id\": \"jinja\",\n    \"name\": \"Jinja\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jinja_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jinja.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jinja.mjs\"))\n  },\n  {\n    \"id\": \"jison\",\n    \"name\": \"Jison\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jison_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jison.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jison.mjs\"))\n  },\n  {\n    \"id\": \"json\",\n    \"name\": \"JSON\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_json_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/json.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/json.mjs\"))\n  },\n  {\n    \"id\": \"json5\",\n    \"name\": \"JSON5\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_json5_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/json5.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/json5.mjs\"))\n  },\n  {\n    \"id\": \"jsonc\",\n    \"name\": \"JSON with Comments\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jsonc_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jsonc.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jsonc.mjs\"))\n  },\n  {\n    \"id\": \"jsonl\",\n    \"name\": \"JSON Lines\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jsonl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jsonl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jsonl.mjs\"))\n  },\n  {\n    \"id\": \"jsonnet\",\n    \"name\": \"Jsonnet\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jsonnet_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jsonnet.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jsonnet.mjs\"))\n  },\n  {\n    \"id\": \"jssm\",\n    \"name\": \"JSSM\",\n    \"aliases\": [\n      \"fsl\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jssm_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jssm.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jssm.mjs\"))\n  },\n  {\n    \"id\": \"jsx\",\n    \"name\": \"JSX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_jsx_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/jsx.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/jsx.mjs\"))\n  },\n  {\n    \"id\": \"julia\",\n    \"name\": \"Julia\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_julia_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/julia.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/julia.mjs\"))\n  },\n  {\n    \"id\": \"kotlin\",\n    \"name\": \"Kotlin\",\n    \"aliases\": [\n      \"kt\",\n      \"kts\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_kotlin_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/kotlin.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/kotlin.mjs\"))\n  },\n  {\n    \"id\": \"kusto\",\n    \"name\": \"Kusto\",\n    \"aliases\": [\n      \"kql\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_kusto_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/kusto.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/kusto.mjs\"))\n  },\n  {\n    \"id\": \"latex\",\n    \"name\": \"LaTeX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_latex_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/latex.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/latex.mjs\"))\n  },\n  {\n    \"id\": \"less\",\n    \"name\": \"Less\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_less_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/less.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/less.mjs\"))\n  },\n  {\n    \"id\": \"liquid\",\n    \"name\": \"Liquid\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_liquid_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/liquid.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/liquid.mjs\"))\n  },\n  {\n    \"id\": \"lisp\",\n    \"name\": \"Lisp\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_lisp_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/lisp.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/lisp.mjs\"))\n  },\n  {\n    \"id\": \"logo\",\n    \"name\": \"Logo\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_logo_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/logo.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/logo.mjs\"))\n  },\n  {\n    \"id\": \"lua\",\n    \"name\": \"Lua\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_lua_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/lua.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/lua.mjs\"))\n  },\n  {\n    \"id\": \"make\",\n    \"name\": \"Makefile\",\n    \"aliases\": [\n      \"makefile\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_make_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/make.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/make.mjs\"))\n  },\n  {\n    \"id\": \"markdown\",\n    \"name\": \"Markdown\",\n    \"aliases\": [\n      \"md\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_markdown_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/markdown.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/markdown.mjs\"))\n  },\n  {\n    \"id\": \"marko\",\n    \"name\": \"Marko\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_marko_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/marko.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/marko.mjs\"))\n  },\n  {\n    \"id\": \"matlab\",\n    \"name\": \"MATLAB\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_matlab_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/matlab.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/matlab.mjs\"))\n  },\n  {\n    \"id\": \"mdc\",\n    \"name\": \"MDC\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_mdc_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/mdc.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/mdc.mjs\"))\n  },\n  {\n    \"id\": \"mdx\",\n    \"name\": \"MDX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_mdx_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/mdx.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/mdx.mjs\"))\n  },\n  {\n    \"id\": \"mermaid\",\n    \"name\": \"Mermaid\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_mermaid_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/mermaid.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/mermaid.mjs\"))\n  },\n  {\n    \"id\": \"mojo\",\n    \"name\": \"Mojo\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_mojo_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/mojo.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/mojo.mjs\"))\n  },\n  {\n    \"id\": \"narrat\",\n    \"name\": \"Narrat Language\",\n    \"aliases\": [\n      \"nar\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_narrat_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/narrat.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/narrat.mjs\"))\n  },\n  {\n    \"id\": \"nextflow\",\n    \"name\": \"Nextflow\",\n    \"aliases\": [\n      \"nf\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_nextflow_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/nextflow.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/nextflow.mjs\"))\n  },\n  {\n    \"id\": \"nginx\",\n    \"name\": \"Nginx\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_nginx_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/nginx.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/nginx.mjs\"))\n  },\n  {\n    \"id\": \"nim\",\n    \"name\": \"Nim\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_nim_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/nim.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/nim.mjs\"))\n  },\n  {\n    \"id\": \"nix\",\n    \"name\": \"Nix\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_nix_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/nix.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/nix.mjs\"))\n  },\n  {\n    \"id\": \"nushell\",\n    \"name\": \"nushell\",\n    \"aliases\": [\n      \"nu\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_nushell_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/nushell.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/nushell.mjs\"))\n  },\n  {\n    \"id\": \"objective-c\",\n    \"name\": \"Objective-C\",\n    \"aliases\": [\n      \"objc\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_objective-c_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/objective-c.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/objective-c.mjs\"))\n  },\n  {\n    \"id\": \"objective-cpp\",\n    \"name\": \"Objective-C++\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_objective-3ad257\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/objective-cpp.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/objective-cpp.mjs\"))\n  },\n  {\n    \"id\": \"ocaml\",\n    \"name\": \"OCaml\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ocaml_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ocaml.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ocaml.mjs\"))\n  },\n  {\n    \"id\": \"pascal\",\n    \"name\": \"Pascal\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_pascal_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/pascal.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/pascal.mjs\"))\n  },\n  {\n    \"id\": \"perl\",\n    \"name\": \"Perl\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_perl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/perl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/perl.mjs\"))\n  },\n  {\n    \"id\": \"php\",\n    \"name\": \"PHP\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_php_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/php.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/php.mjs\"))\n  },\n  {\n    \"id\": \"plsql\",\n    \"name\": \"PL/SQL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_plsql_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/plsql.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/plsql.mjs\"))\n  },\n  {\n    \"id\": \"postcss\",\n    \"name\": \"PostCSS\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_postcss_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/postcss.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/postcss.mjs\"))\n  },\n  {\n    \"id\": \"powerquery\",\n    \"name\": \"PowerQuery\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_powerquery_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/powerquery.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/powerquery.mjs\"))\n  },\n  {\n    \"id\": \"powershell\",\n    \"name\": \"PowerShell\",\n    \"aliases\": [\n      \"ps\",\n      \"ps1\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_powershell_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/powershell.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/powershell.mjs\"))\n  },\n  {\n    \"id\": \"prisma\",\n    \"name\": \"Prisma\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_prisma_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/prisma.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/prisma.mjs\"))\n  },\n  {\n    \"id\": \"prolog\",\n    \"name\": \"Prolog\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_prolog_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/prolog.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/prolog.mjs\"))\n  },\n  {\n    \"id\": \"proto\",\n    \"name\": \"Protocol Buffer 3\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_proto_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/proto.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/proto.mjs\"))\n  },\n  {\n    \"id\": \"pug\",\n    \"name\": \"Pug\",\n    \"aliases\": [\n      \"jade\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_pug_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/pug.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/pug.mjs\"))\n  },\n  {\n    \"id\": \"puppet\",\n    \"name\": \"Puppet\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_puppet_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/puppet.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/puppet.mjs\"))\n  },\n  {\n    \"id\": \"purescript\",\n    \"name\": \"PureScript\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_purescript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/purescript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/purescript.mjs\"))\n  },\n  {\n    \"id\": \"python\",\n    \"name\": \"Python\",\n    \"aliases\": [\n      \"py\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_python_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/python.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/python.mjs\"))\n  },\n  {\n    \"id\": \"r\",\n    \"name\": \"R\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_r_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/r.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/r.mjs\"))\n  },\n  {\n    \"id\": \"raku\",\n    \"name\": \"Raku\",\n    \"aliases\": [\n      \"perl6\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_raku_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/raku.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/raku.mjs\"))\n  },\n  {\n    \"id\": \"razor\",\n    \"name\": \"ASP.NET Razor\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_razor_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/razor.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/razor.mjs\"))\n  },\n  {\n    \"id\": \"reg\",\n    \"name\": \"Windows Registry Script\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_reg_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/reg.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/reg.mjs\"))\n  },\n  {\n    \"id\": \"rel\",\n    \"name\": \"Rel\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_rel_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/rel.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/rel.mjs\"))\n  },\n  {\n    \"id\": \"riscv\",\n    \"name\": \"RISC-V\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_riscv_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/riscv.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/riscv.mjs\"))\n  },\n  {\n    \"id\": \"rst\",\n    \"name\": \"reStructuredText\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_rst_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/rst.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/rst.mjs\"))\n  },\n  {\n    \"id\": \"ruby\",\n    \"name\": \"Ruby\",\n    \"aliases\": [\n      \"rb\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ruby_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ruby.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ruby.mjs\"))\n  },\n  {\n    \"id\": \"rust\",\n    \"name\": \"Rust\",\n    \"aliases\": [\n      \"rs\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_rust_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/rust.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/rust.mjs\"))\n  },\n  {\n    \"id\": \"sas\",\n    \"name\": \"SAS\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_sas_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/sas.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/sas.mjs\"))\n  },\n  {\n    \"id\": \"sass\",\n    \"name\": \"Sass\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_sass_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/sass.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/sass.mjs\"))\n  },\n  {\n    \"id\": \"scala\",\n    \"name\": \"Scala\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_scala_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/scala.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/scala.mjs\"))\n  },\n  {\n    \"id\": \"scheme\",\n    \"name\": \"Scheme\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_scheme_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/scheme.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/scheme.mjs\"))\n  },\n  {\n    \"id\": \"scss\",\n    \"name\": \"SCSS\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_scss_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/scss.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/scss.mjs\"))\n  },\n  {\n    \"id\": \"shaderlab\",\n    \"name\": \"ShaderLab\",\n    \"aliases\": [\n      \"shader\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_shaderlab_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/shaderlab.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/shaderlab.mjs\"))\n  },\n  {\n    \"id\": \"shellscript\",\n    \"name\": \"Shell\",\n    \"aliases\": [\n      \"bash\",\n      \"sh\",\n      \"shell\",\n      \"zsh\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_shellscript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/shellscript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/shellscript.mjs\"))\n  },\n  {\n    \"id\": \"shellsession\",\n    \"name\": \"Shell Session\",\n    \"aliases\": [\n      \"console\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_shellsess-719e85\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/shellsession.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/shellsession.mjs\"))\n  },\n  {\n    \"id\": \"smalltalk\",\n    \"name\": \"Smalltalk\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_smalltalk_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/smalltalk.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/smalltalk.mjs\"))\n  },\n  {\n    \"id\": \"solidity\",\n    \"name\": \"Solidity\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_solidity_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/solidity.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/solidity.mjs\"))\n  },\n  {\n    \"id\": \"sparql\",\n    \"name\": \"SPARQL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_sparql_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/sparql.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/sparql.mjs\"))\n  },\n  {\n    \"id\": \"splunk\",\n    \"name\": \"Splunk Query Language\",\n    \"aliases\": [\n      \"spl\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_splunk_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/splunk.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/splunk.mjs\"))\n  },\n  {\n    \"id\": \"sql\",\n    \"name\": \"SQL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_sql_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/sql.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/sql.mjs\"))\n  },\n  {\n    \"id\": \"ssh-config\",\n    \"name\": \"SSH Config\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_ssh-config_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/ssh-config.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/ssh-config.mjs\"))\n  },\n  {\n    \"id\": \"stata\",\n    \"name\": \"Stata\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_stata_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/stata.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/stata.mjs\"))\n  },\n  {\n    \"id\": \"stylus\",\n    \"name\": \"Stylus\",\n    \"aliases\": [\n      \"styl\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_stylus_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/stylus.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/stylus.mjs\"))\n  },\n  {\n    \"id\": \"svelte\",\n    \"name\": \"Svelte\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_svelte_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/svelte.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/svelte.mjs\"))\n  },\n  {\n    \"id\": \"swift\",\n    \"name\": \"Swift\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_swift_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/swift.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/swift.mjs\"))\n  },\n  {\n    \"id\": \"system-verilog\",\n    \"name\": \"SystemVerilog\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_system-ve-04834a\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/system-verilog.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/system-verilog.mjs\"))\n  },\n  {\n    \"id\": \"tasl\",\n    \"name\": \"Tasl\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_tasl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/tasl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/tasl.mjs\"))\n  },\n  {\n    \"id\": \"tcl\",\n    \"name\": \"Tcl\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_tcl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/tcl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/tcl.mjs\"))\n  },\n  {\n    \"id\": \"tex\",\n    \"name\": \"TeX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_tex_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/tex.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/tex.mjs\"))\n  },\n  {\n    \"id\": \"toml\",\n    \"name\": \"TOML\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_toml_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/toml.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/toml.mjs\"))\n  },\n  {\n    \"id\": \"tsx\",\n    \"name\": \"TSX\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_tsx_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/tsx.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/tsx.mjs\"))\n  },\n  {\n    \"id\": \"turtle\",\n    \"name\": \"Turtle\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_turtle_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/turtle.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/turtle.mjs\"))\n  },\n  {\n    \"id\": \"twig\",\n    \"name\": \"Twig\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_twig_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/twig.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/twig.mjs\"))\n  },\n  {\n    \"id\": \"typescript\",\n    \"name\": \"TypeScript\",\n    \"aliases\": [\n      \"ts\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_typescript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/typescript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/typescript.mjs\"))\n  },\n  {\n    \"id\": \"v\",\n    \"name\": \"V\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_v_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/v.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/v.mjs\"))\n  },\n  {\n    \"id\": \"vb\",\n    \"name\": \"Visual Basic\",\n    \"aliases\": [\n      \"cmd\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_vb_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/vb.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/vb.mjs\"))\n  },\n  {\n    \"id\": \"verilog\",\n    \"name\": \"Verilog\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_verilog_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/verilog.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/verilog.mjs\"))\n  },\n  {\n    \"id\": \"vhdl\",\n    \"name\": \"VHDL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_vhdl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/vhdl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/vhdl.mjs\"))\n  },\n  {\n    \"id\": \"viml\",\n    \"name\": \"Vim Script\",\n    \"aliases\": [\n      \"vim\",\n      \"vimscript\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_viml_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/viml.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/viml.mjs\"))\n  },\n  {\n    \"id\": \"vue\",\n    \"name\": \"Vue\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_vue_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/vue.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/vue.mjs\"))\n  },\n  {\n    \"id\": \"vue-html\",\n    \"name\": \"Vue HTML\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_vue-html_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/vue-html.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/vue-html.mjs\"))\n  },\n  {\n    \"id\": \"vyper\",\n    \"name\": \"Vyper\",\n    \"aliases\": [\n      \"vy\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_vyper_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/vyper.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/vyper.mjs\"))\n  },\n  {\n    \"id\": \"wasm\",\n    \"name\": \"WebAssembly\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_wasm_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/wasm.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/wasm.mjs\"))\n  },\n  {\n    \"id\": \"wenyan\",\n    \"name\": \"Wenyan\",\n    \"aliases\": [\n      \"\\u6587\\u8A00\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_wenyan_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/wenyan.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/wenyan.mjs\"))\n  },\n  {\n    \"id\": \"wgsl\",\n    \"name\": \"WGSL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_wgsl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/wgsl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/wgsl.mjs\"))\n  },\n  {\n    \"id\": \"wolfram\",\n    \"name\": \"Wolfram\",\n    \"aliases\": [\n      \"wl\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_wolfram_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/wolfram.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/wolfram.mjs\"))\n  },\n  {\n    \"id\": \"xml\",\n    \"name\": \"XML\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_xml_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/xml.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/xml.mjs\"))\n  },\n  {\n    \"id\": \"xsl\",\n    \"name\": \"XSL\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_xsl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/xsl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/xsl.mjs\"))\n  },\n  {\n    \"id\": \"yaml\",\n    \"name\": \"YAML\",\n    \"aliases\": [\n      \"yml\"\n    ],\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_yaml_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/yaml.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/yaml.mjs\"))\n  },\n  {\n    \"id\": \"zenscript\",\n    \"name\": \"ZenScript\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_zenscript_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/zenscript.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/zenscript.mjs\"))\n  },\n  {\n    \"id\": \"zig\",\n    \"name\": \"zig\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_langs_zig_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./langs/zig.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs/zig.mjs\"))\n  }\n];\nconst bundledLanguagesBase = Object.fromEntries(bundledLanguagesInfo.map((i) => [i.id, i.import]));\nconst bundledLanguagesAlias = Object.fromEntries(bundledLanguagesInfo.flatMap((i) => i.aliases?.map((a) => [a, i.import]) || []));\nconst bundledLanguages = {\n  ...bundledLanguagesBase,\n  ...bundledLanguagesAlias\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppQDAuMTAuMi9ub2RlX21vZHVsZXMvc2hpa2lqaS9kaXN0L2xhbmdzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaVZBQW9DO0FBQ3hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNlVBQWtDLHFCQUFxQixhQUFhO0FBQ3hGLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdVVBQWdDO0FBQ3BELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMFVBQWlDO0FBQ3JELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb1VBQStCO0FBQ25ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb1VBQStCO0FBQ25ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNFNBQXVCO0FBQzNDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0U0FBdUI7QUFDM0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwVUFBaUM7QUFDckQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJUQUE0QjtBQUNoRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlVQUE4QjtBQUNsRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlVQUE4QjtBQUNsRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhUQUE2QjtBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhUQUE2QjtBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtTQUF3QjtBQUM1QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhUQUE2QjtBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJUQUE0QjtBQUNoRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhUQUE2QjtBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhUQUE2QjtBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaVVBQThCO0FBQ2xELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaVVBQThCO0FBQ2xELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMFVBQWlDO0FBQ3JELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK1VBQW1DO0FBQ3ZELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMlRBQTRCO0FBQ2hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscVRBQTBCO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa1RBQXlCO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd1RBQTJCO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOFRBQTZCO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdVVBQWdDO0FBQ3BELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1VUFBZ0M7QUFDcEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1VUFBZ0M7QUFDcEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0U0FBdUI7QUFDM0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvVUFBK0I7QUFDbkQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwVUFBaUM7QUFDckQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2VUFBa0M7QUFDdEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvVUFBK0I7QUFDbkQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpVUFBOEI7QUFDbEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1VUFBZ0M7QUFDcEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpVkFBb0M7QUFDeEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrVEFBeUI7QUFDN0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVEFBNEI7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1VUFBZ0M7QUFDcEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0U0FBdUI7QUFDM0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrU0FBd0I7QUFDNUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4VEFBNkI7QUFDakQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlVQUE4QjtBQUNsRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdUQUEyQjtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJUQUE0QjtBQUNoRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhUQUE2QjtBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFUQUEwQjtBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9VQUErQjtBQUNuRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtUQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FjYm94bGl1L3Byb2plY3RzL2Jpam9uL2VjaG9haS9ub2RlX21vZHVsZXMvLnBucG0vc2hpa2lqaUAwLjEwLjIvbm9kZV9tb2R1bGVzL3NoaWtpamkvZGlzdC9sYW5ncy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVuZGxlZExhbmd1YWdlc0luZm8gPSBbXG4gIHtcbiAgICBcImlkXCI6IFwiYWJhcFwiLFxuICAgIFwibmFtZVwiOiBcIkFCQVBcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvYWJhcC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImFjdGlvbnNjcmlwdC0zXCIsXG4gICAgXCJuYW1lXCI6IFwiQWN0aW9uU2NyaXB0XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2FjdGlvbnNjcmlwdC0zLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiYWRhXCIsXG4gICAgXCJuYW1lXCI6IFwiQWRhXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2FkYS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImFuZ3VsYXItaHRtbFwiLFxuICAgIFwibmFtZVwiOiBcIkFuZ3VsYXIgSFRNTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9hbmd1bGFyLWh0bWwubWpzJykudGhlbihmdW5jdGlvbiAobikgeyByZXR1cm4gbi5lOyB9KVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImFuZ3VsYXItdHNcIixcbiAgICBcIm5hbWVcIjogXCJBbmd1bGFyIFR5cGVTY3JpcHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvYW5ndWxhci10cy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImFwYWNoZVwiLFxuICAgIFwibmFtZVwiOiBcIkFwYWNoZSBDb25mXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2FwYWNoZS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImFwZXhcIixcbiAgICBcIm5hbWVcIjogXCJBcGV4XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2FwZXgubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJhcGxcIixcbiAgICBcIm5hbWVcIjogXCJBUExcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvYXBsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiYXBwbGVzY3JpcHRcIixcbiAgICBcIm5hbWVcIjogXCJBcHBsZVNjcmlwdFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9hcHBsZXNjcmlwdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImFyYVwiLFxuICAgIFwibmFtZVwiOiBcIkFyYVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9hcmEubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJhc21cIixcbiAgICBcIm5hbWVcIjogXCJBc3NlbWJseVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9hc20ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJhc3Ryb1wiLFxuICAgIFwibmFtZVwiOiBcIkFzdHJvXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2FzdHJvLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiYXdrXCIsXG4gICAgXCJuYW1lXCI6IFwiQVdLXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2F3ay5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImJhbGxlcmluYVwiLFxuICAgIFwibmFtZVwiOiBcIkJhbGxlcmluYVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9iYWxsZXJpbmEubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJiYXRcIixcbiAgICBcIm5hbWVcIjogXCJCYXRjaCBGaWxlXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiYmF0Y2hcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2JhdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImJlYW5jb3VudFwiLFxuICAgIFwibmFtZVwiOiBcIkJlYW5jb3VudFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9iZWFuY291bnQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJiZXJyeVwiLFxuICAgIFwibmFtZVwiOiBcIkJlcnJ5XCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiYmVcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2JlcnJ5Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiYmlidGV4XCIsXG4gICAgXCJuYW1lXCI6IFwiQmliVGVYXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2JpYnRleC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImJpY2VwXCIsXG4gICAgXCJuYW1lXCI6IFwiQmljZXBcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvYmljZXAubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJibGFkZVwiLFxuICAgIFwibmFtZVwiOiBcIkJsYWRlXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2JsYWRlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY1wiLFxuICAgIFwibmFtZVwiOiBcIkNcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvYy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImNhZGVuY2VcIixcbiAgICBcIm5hbWVcIjogXCJDYWRlbmNlXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiY2RjXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jYWRlbmNlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY2xhcml0eVwiLFxuICAgIFwibmFtZVwiOiBcIkNsYXJpdHlcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvY2xhcml0eS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImNsb2p1cmVcIixcbiAgICBcIm5hbWVcIjogXCJDbG9qdXJlXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiY2xqXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jbG9qdXJlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY21ha2VcIixcbiAgICBcIm5hbWVcIjogXCJDTWFrZVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jbWFrZS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImNvYm9sXCIsXG4gICAgXCJuYW1lXCI6IFwiQ09CT0xcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvY29ib2wubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJjb2RlcWxcIixcbiAgICBcIm5hbWVcIjogXCJDb2RlUUxcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJxbFwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvY29kZXFsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY29mZmVlXCIsXG4gICAgXCJuYW1lXCI6IFwiQ29mZmVlU2NyaXB0XCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiY29mZmVlc2NyaXB0XCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jb2ZmZWUubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJjcHBcIixcbiAgICBcIm5hbWVcIjogXCJDKytcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJjKytcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2NwcC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImNyeXN0YWxcIixcbiAgICBcIm5hbWVcIjogXCJDcnlzdGFsXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2NyeXN0YWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJjc2hhcnBcIixcbiAgICBcIm5hbWVcIjogXCJDI1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImMjXCIsXG4gICAgICBcImNzXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jc2hhcnAubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJjc3NcIixcbiAgICBcIm5hbWVcIjogXCJDU1NcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvY3NzLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY3N2XCIsXG4gICAgXCJuYW1lXCI6IFwiY3N2IHN5bnRheFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jc3YubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJjdWVcIixcbiAgICBcIm5hbWVcIjogXCJDVUVcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvY3VlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY3lwaGVyXCIsXG4gICAgXCJuYW1lXCI6IFwiQ3lwaGVyXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiY3FsXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9jeXBoZXIubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJkXCIsXG4gICAgXCJuYW1lXCI6IFwiRFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9kLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZGFydFwiLFxuICAgIFwibmFtZVwiOiBcIkRhcnRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvZGFydC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImRheFwiLFxuICAgIFwibmFtZVwiOiBcIkRBWFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9kYXgubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJkaWZmXCIsXG4gICAgXCJuYW1lXCI6IFwiRGlmZlwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9kaWZmLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZG9ja2VyXCIsXG4gICAgXCJuYW1lXCI6IFwiRG9ja2VyZmlsZVwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImRvY2tlcmZpbGVcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2RvY2tlci5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImRyZWFtLW1ha2VyXCIsXG4gICAgXCJuYW1lXCI6IFwiRHJlYW0gTWFrZXJcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvZHJlYW0tbWFrZXIubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJlbGl4aXJcIixcbiAgICBcIm5hbWVcIjogXCJFbGl4aXJcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvZWxpeGlyLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZWxtXCIsXG4gICAgXCJuYW1lXCI6IFwiRWxtXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2VsbS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImVyYlwiLFxuICAgIFwibmFtZVwiOiBcIkVSQlwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9lcmIubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJlcmxhbmdcIixcbiAgICBcIm5hbWVcIjogXCJFcmxhbmdcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJlcmxcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2VybGFuZy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImZpc2hcIixcbiAgICBcIm5hbWVcIjogXCJGaXNoXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2Zpc2gubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJmc2hhcnBcIixcbiAgICBcIm5hbWVcIjogXCJGI1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImYjXCIsXG4gICAgICBcImZzXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9mc2hhcnAubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJnZHJlc291cmNlXCIsXG4gICAgXCJuYW1lXCI6IFwiR0RSZXNvdXJjZVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9nZHJlc291cmNlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ2RzY3JpcHRcIixcbiAgICBcIm5hbWVcIjogXCJHRFNjcmlwdFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9nZHNjcmlwdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImdkc2hhZGVyXCIsXG4gICAgXCJuYW1lXCI6IFwiR0RTaGFkZXJcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvZ2RzaGFkZXIubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJnaGVya2luXCIsXG4gICAgXCJuYW1lXCI6IFwiR2hlcmtpblwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9naGVya2luLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ2l0LWNvbW1pdFwiLFxuICAgIFwibmFtZVwiOiBcIkdpdCBDb21taXQgTWVzc2FnZVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9naXQtY29tbWl0Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ2l0LXJlYmFzZVwiLFxuICAgIFwibmFtZVwiOiBcIkdpdCBSZWJhc2UgTWVzc2FnZVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9naXQtcmViYXNlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ2xpbW1lci1qc1wiLFxuICAgIFwibmFtZVwiOiBcIkdsaW1tZXIgSlNcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJnanNcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2dsaW1tZXItanMubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJnbGltbWVyLXRzXCIsXG4gICAgXCJuYW1lXCI6IFwiR2xpbW1lciBUU1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImd0c1wiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvZ2xpbW1lci10cy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImdsc2xcIixcbiAgICBcIm5hbWVcIjogXCJHTFNMXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2dsc2wubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJnbnVwbG90XCIsXG4gICAgXCJuYW1lXCI6IFwiR251cGxvdFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9nbnVwbG90Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ29cIixcbiAgICBcIm5hbWVcIjogXCJHb1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9nby5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImdyYXBocWxcIixcbiAgICBcIm5hbWVcIjogXCJHcmFwaFFMXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiZ3FsXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9ncmFwaHFsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ3Jvb3Z5XCIsXG4gICAgXCJuYW1lXCI6IFwiR3Jvb3Z5XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2dyb292eS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImhhY2tcIixcbiAgICBcIm5hbWVcIjogXCJIYWNrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2hhY2subWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJoYW1sXCIsXG4gICAgXCJuYW1lXCI6IFwiUnVieSBIYW1sXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2hhbWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJoYW5kbGViYXJzXCIsXG4gICAgXCJuYW1lXCI6IFwiSGFuZGxlYmFyc1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImhic1wiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvaGFuZGxlYmFycy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImhhc2tlbGxcIixcbiAgICBcIm5hbWVcIjogXCJIYXNrZWxsXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwiaHNcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2hhc2tlbGwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJoY2xcIixcbiAgICBcIm5hbWVcIjogXCJIYXNoaUNvcnAgSENMXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2hjbC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImhqc29uXCIsXG4gICAgXCJuYW1lXCI6IFwiSGpzb25cIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvaGpzb24ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJobHNsXCIsXG4gICAgXCJuYW1lXCI6IFwiSExTTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9obHNsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiaHRtbFwiLFxuICAgIFwibmFtZVwiOiBcIkhUTUxcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvaHRtbC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImh0dHBcIixcbiAgICBcIm5hbWVcIjogXCJIVFRQXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2h0dHAubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJpbWJhXCIsXG4gICAgXCJuYW1lXCI6IFwiSW1iYVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9pbWJhLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiaW5pXCIsXG4gICAgXCJuYW1lXCI6IFwiSU5JXCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwicHJvcGVydGllc1wiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvaW5pLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiamF2YVwiLFxuICAgIFwibmFtZVwiOiBcIkphdmFcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvamF2YS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImphdmFzY3JpcHRcIixcbiAgICBcIm5hbWVcIjogXCJKYXZhU2NyaXB0XCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwianNcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2phdmFzY3JpcHQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJqaW5qYVwiLFxuICAgIFwibmFtZVwiOiBcIkppbmphXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2ppbmphLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiamlzb25cIixcbiAgICBcIm5hbWVcIjogXCJKaXNvblwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9qaXNvbi5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImpzb25cIixcbiAgICBcIm5hbWVcIjogXCJKU09OXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2pzb24ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJqc29uNVwiLFxuICAgIFwibmFtZVwiOiBcIkpTT041XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2pzb241Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwianNvbmNcIixcbiAgICBcIm5hbWVcIjogXCJKU09OIHdpdGggQ29tbWVudHNcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvanNvbmMubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJqc29ubFwiLFxuICAgIFwibmFtZVwiOiBcIkpTT04gTGluZXNcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvanNvbmwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJqc29ubmV0XCIsXG4gICAgXCJuYW1lXCI6IFwiSnNvbm5ldFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9qc29ubmV0Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwianNzbVwiLFxuICAgIFwibmFtZVwiOiBcIkpTU01cIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJmc2xcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2pzc20ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJqc3hcIixcbiAgICBcIm5hbWVcIjogXCJKU1hcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvanN4Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwianVsaWFcIixcbiAgICBcIm5hbWVcIjogXCJKdWxpYVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9qdWxpYS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImtvdGxpblwiLFxuICAgIFwibmFtZVwiOiBcIktvdGxpblwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImt0XCIsXG4gICAgICBcImt0c1wiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mva290bGluLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwia3VzdG9cIixcbiAgICBcIm5hbWVcIjogXCJLdXN0b1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImtxbFwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mva3VzdG8ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJsYXRleFwiLFxuICAgIFwibmFtZVwiOiBcIkxhVGVYXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL2xhdGV4Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibGVzc1wiLFxuICAgIFwibmFtZVwiOiBcIkxlc3NcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbGVzcy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImxpcXVpZFwiLFxuICAgIFwibmFtZVwiOiBcIkxpcXVpZFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9saXF1aWQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJsaXNwXCIsXG4gICAgXCJuYW1lXCI6IFwiTGlzcFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9saXNwLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibG9nb1wiLFxuICAgIFwibmFtZVwiOiBcIkxvZ29cIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbG9nby5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImx1YVwiLFxuICAgIFwibmFtZVwiOiBcIkx1YVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9sdWEubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJtYWtlXCIsXG4gICAgXCJuYW1lXCI6IFwiTWFrZWZpbGVcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJtYWtlZmlsZVwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbWFrZS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm1hcmtkb3duXCIsXG4gICAgXCJuYW1lXCI6IFwiTWFya2Rvd25cIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJtZFwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbWFya2Rvd24ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJtYXJrb1wiLFxuICAgIFwibmFtZVwiOiBcIk1hcmtvXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL21hcmtvLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibWF0bGFiXCIsXG4gICAgXCJuYW1lXCI6IFwiTUFUTEFCXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL21hdGxhYi5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm1kY1wiLFxuICAgIFwibmFtZVwiOiBcIk1EQ1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9tZGMubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJtZHhcIixcbiAgICBcIm5hbWVcIjogXCJNRFhcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbWR4Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibWVybWFpZFwiLFxuICAgIFwibmFtZVwiOiBcIk1lcm1haWRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbWVybWFpZC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm1vam9cIixcbiAgICBcIm5hbWVcIjogXCJNb2pvXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL21vam8ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJuYXJyYXRcIixcbiAgICBcIm5hbWVcIjogXCJOYXJyYXQgTGFuZ3VhZ2VcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJuYXJcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL25hcnJhdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm5leHRmbG93XCIsXG4gICAgXCJuYW1lXCI6IFwiTmV4dGZsb3dcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJuZlwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvbmV4dGZsb3cubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJuZ2lueFwiLFxuICAgIFwibmFtZVwiOiBcIk5naW54XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL25naW54Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibmltXCIsXG4gICAgXCJuYW1lXCI6IFwiTmltXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL25pbS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm5peFwiLFxuICAgIFwibmFtZVwiOiBcIk5peFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9uaXgubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJudXNoZWxsXCIsXG4gICAgXCJuYW1lXCI6IFwibnVzaGVsbFwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcIm51XCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9udXNoZWxsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwib2JqZWN0aXZlLWNcIixcbiAgICBcIm5hbWVcIjogXCJPYmplY3RpdmUtQ1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcIm9iamNcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL29iamVjdGl2ZS1jLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwib2JqZWN0aXZlLWNwcFwiLFxuICAgIFwibmFtZVwiOiBcIk9iamVjdGl2ZS1DKytcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvb2JqZWN0aXZlLWNwcC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm9jYW1sXCIsXG4gICAgXCJuYW1lXCI6IFwiT0NhbWxcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvb2NhbWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwYXNjYWxcIixcbiAgICBcIm5hbWVcIjogXCJQYXNjYWxcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcGFzY2FsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicGVybFwiLFxuICAgIFwibmFtZVwiOiBcIlBlcmxcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcGVybC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInBocFwiLFxuICAgIFwibmFtZVwiOiBcIlBIUFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9waHAubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwbHNxbFwiLFxuICAgIFwibmFtZVwiOiBcIlBML1NRTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9wbHNxbC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInBvc3Rjc3NcIixcbiAgICBcIm5hbWVcIjogXCJQb3N0Q1NTXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3Bvc3Rjc3MubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwb3dlcnF1ZXJ5XCIsXG4gICAgXCJuYW1lXCI6IFwiUG93ZXJRdWVyeVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9wb3dlcnF1ZXJ5Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicG93ZXJzaGVsbFwiLFxuICAgIFwibmFtZVwiOiBcIlBvd2VyU2hlbGxcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJwc1wiLFxuICAgICAgXCJwczFcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3Bvd2Vyc2hlbGwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwcmlzbWFcIixcbiAgICBcIm5hbWVcIjogXCJQcmlzbWFcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcHJpc21hLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicHJvbG9nXCIsXG4gICAgXCJuYW1lXCI6IFwiUHJvbG9nXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3Byb2xvZy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInByb3RvXCIsXG4gICAgXCJuYW1lXCI6IFwiUHJvdG9jb2wgQnVmZmVyIDNcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcHJvdG8ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwdWdcIixcbiAgICBcIm5hbWVcIjogXCJQdWdcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJqYWRlXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9wdWcubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwdXBwZXRcIixcbiAgICBcIm5hbWVcIjogXCJQdXBwZXRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcHVwcGV0Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicHVyZXNjcmlwdFwiLFxuICAgIFwibmFtZVwiOiBcIlB1cmVTY3JpcHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcHVyZXNjcmlwdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInB5dGhvblwiLFxuICAgIFwibmFtZVwiOiBcIlB5dGhvblwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcInB5XCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9weXRob24ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJyXCIsXG4gICAgXCJuYW1lXCI6IFwiUlwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9yLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicmFrdVwiLFxuICAgIFwibmFtZVwiOiBcIlJha3VcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJwZXJsNlwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcmFrdS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInJhem9yXCIsXG4gICAgXCJuYW1lXCI6IFwiQVNQLk5FVCBSYXpvclwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9yYXpvci5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInJlZ1wiLFxuICAgIFwibmFtZVwiOiBcIldpbmRvd3MgUmVnaXN0cnkgU2NyaXB0XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3JlZy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInJlbFwiLFxuICAgIFwibmFtZVwiOiBcIlJlbFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9yZWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJyaXNjdlwiLFxuICAgIFwibmFtZVwiOiBcIlJJU0MtVlwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9yaXNjdi5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInJzdFwiLFxuICAgIFwibmFtZVwiOiBcInJlU3RydWN0dXJlZFRleHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcnN0Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicnVieVwiLFxuICAgIFwibmFtZVwiOiBcIlJ1YnlcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJyYlwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvcnVieS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInJ1c3RcIixcbiAgICBcIm5hbWVcIjogXCJSdXN0XCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwicnNcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3J1c3QubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzYXNcIixcbiAgICBcIm5hbWVcIjogXCJTQVNcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc2FzLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic2Fzc1wiLFxuICAgIFwibmFtZVwiOiBcIlNhc3NcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc2Fzcy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInNjYWxhXCIsXG4gICAgXCJuYW1lXCI6IFwiU2NhbGFcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc2NhbGEubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzY2hlbWVcIixcbiAgICBcIm5hbWVcIjogXCJTY2hlbWVcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc2NoZW1lLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic2Nzc1wiLFxuICAgIFwibmFtZVwiOiBcIlNDU1NcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc2Nzcy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInNoYWRlcmxhYlwiLFxuICAgIFwibmFtZVwiOiBcIlNoYWRlckxhYlwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcInNoYWRlclwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc2hhZGVybGFiLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic2hlbGxzY3JpcHRcIixcbiAgICBcIm5hbWVcIjogXCJTaGVsbFwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcImJhc2hcIixcbiAgICAgIFwic2hcIixcbiAgICAgIFwic2hlbGxcIixcbiAgICAgIFwienNoXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zaGVsbHNjcmlwdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInNoZWxsc2Vzc2lvblwiLFxuICAgIFwibmFtZVwiOiBcIlNoZWxsIFNlc3Npb25cIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJjb25zb2xlXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zaGVsbHNlc3Npb24ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzbWFsbHRhbGtcIixcbiAgICBcIm5hbWVcIjogXCJTbWFsbHRhbGtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvc21hbGx0YWxrLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic29saWRpdHlcIixcbiAgICBcIm5hbWVcIjogXCJTb2xpZGl0eVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zb2xpZGl0eS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInNwYXJxbFwiLFxuICAgIFwibmFtZVwiOiBcIlNQQVJRTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zcGFycWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzcGx1bmtcIixcbiAgICBcIm5hbWVcIjogXCJTcGx1bmsgUXVlcnkgTGFuZ3VhZ2VcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJzcGxcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3NwbHVuay5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInNxbFwiLFxuICAgIFwibmFtZVwiOiBcIlNRTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zcWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzc2gtY29uZmlnXCIsXG4gICAgXCJuYW1lXCI6IFwiU1NIIENvbmZpZ1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zc2gtY29uZmlnLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic3RhdGFcIixcbiAgICBcIm5hbWVcIjogXCJTdGF0YVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zdGF0YS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInN0eWx1c1wiLFxuICAgIFwibmFtZVwiOiBcIlN0eWx1c1wiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcInN0eWxcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3N0eWx1cy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInN2ZWx0ZVwiLFxuICAgIFwibmFtZVwiOiBcIlN2ZWx0ZVwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy9zdmVsdGUubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzd2lmdFwiLFxuICAgIFwibmFtZVwiOiBcIlN3aWZ0XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3N3aWZ0Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic3lzdGVtLXZlcmlsb2dcIixcbiAgICBcIm5hbWVcIjogXCJTeXN0ZW1WZXJpbG9nXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3N5c3RlbS12ZXJpbG9nLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidGFzbFwiLFxuICAgIFwibmFtZVwiOiBcIlRhc2xcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdGFzbC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInRjbFwiLFxuICAgIFwibmFtZVwiOiBcIlRjbFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy90Y2wubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ0ZXhcIixcbiAgICBcIm5hbWVcIjogXCJUZVhcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdGV4Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidG9tbFwiLFxuICAgIFwibmFtZVwiOiBcIlRPTUxcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdG9tbC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInRzeFwiLFxuICAgIFwibmFtZVwiOiBcIlRTWFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy90c3gubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ0dXJ0bGVcIixcbiAgICBcIm5hbWVcIjogXCJUdXJ0bGVcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdHVydGxlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidHdpZ1wiLFxuICAgIFwibmFtZVwiOiBcIlR3aWdcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdHdpZy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInR5cGVzY3JpcHRcIixcbiAgICBcIm5hbWVcIjogXCJUeXBlU2NyaXB0XCIsXG4gICAgXCJhbGlhc2VzXCI6IFtcbiAgICAgIFwidHNcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3R5cGVzY3JpcHQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ2XCIsXG4gICAgXCJuYW1lXCI6IFwiVlwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy92Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidmJcIixcbiAgICBcIm5hbWVcIjogXCJWaXN1YWwgQmFzaWNcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJjbWRcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3ZiLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidmVyaWxvZ1wiLFxuICAgIFwibmFtZVwiOiBcIlZlcmlsb2dcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdmVyaWxvZy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInZoZGxcIixcbiAgICBcIm5hbWVcIjogXCJWSERMXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3ZoZGwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ2aW1sXCIsXG4gICAgXCJuYW1lXCI6IFwiVmltIFNjcmlwdFwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcInZpbVwiLFxuICAgICAgXCJ2aW1zY3JpcHRcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3ZpbWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ2dWVcIixcbiAgICBcIm5hbWVcIjogXCJWdWVcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdnVlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidnVlLWh0bWxcIixcbiAgICBcIm5hbWVcIjogXCJWdWUgSFRNTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy92dWUtaHRtbC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInZ5cGVyXCIsXG4gICAgXCJuYW1lXCI6IFwiVnlwZXJcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJ2eVwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvdnlwZXIubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ3YXNtXCIsXG4gICAgXCJuYW1lXCI6IFwiV2ViQXNzZW1ibHlcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvd2FzbS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIndlbnlhblwiLFxuICAgIFwibmFtZVwiOiBcIldlbnlhblwiLFxuICAgIFwiYWxpYXNlc1wiOiBbXG4gICAgICBcIlxcdTY1ODdcXHU4QTAwXCJcbiAgICBdLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy93ZW55YW4ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ3Z3NsXCIsXG4gICAgXCJuYW1lXCI6IFwiV0dTTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy93Z3NsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwid29sZnJhbVwiLFxuICAgIFwibmFtZVwiOiBcIldvbGZyYW1cIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJ3bFwiXG4gICAgXSxcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3Mvd29sZnJhbS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInhtbFwiLFxuICAgIFwibmFtZVwiOiBcIlhNTFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi9sYW5ncy94bWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ4c2xcIixcbiAgICBcIm5hbWVcIjogXCJYU0xcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MveHNsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwieWFtbFwiLFxuICAgIFwibmFtZVwiOiBcIllBTUxcIixcbiAgICBcImFsaWFzZXNcIjogW1xuICAgICAgXCJ5bWxcIlxuICAgIF0sXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3lhbWwubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ6ZW5zY3JpcHRcIixcbiAgICBcIm5hbWVcIjogXCJaZW5TY3JpcHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vbGFuZ3MvemVuc2NyaXB0Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiemlnXCIsXG4gICAgXCJuYW1lXCI6IFwiemlnXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL2xhbmdzL3ppZy5tanMnKVxuICB9XG5dO1xuY29uc3QgYnVuZGxlZExhbmd1YWdlc0Jhc2UgPSBPYmplY3QuZnJvbUVudHJpZXMoYnVuZGxlZExhbmd1YWdlc0luZm8ubWFwKChpKSA9PiBbaS5pZCwgaS5pbXBvcnRdKSk7XG5jb25zdCBidW5kbGVkTGFuZ3VhZ2VzQWxpYXMgPSBPYmplY3QuZnJvbUVudHJpZXMoYnVuZGxlZExhbmd1YWdlc0luZm8uZmxhdE1hcCgoaSkgPT4gaS5hbGlhc2VzPy5tYXAoKGEpID0+IFthLCBpLmltcG9ydF0pIHx8IFtdKSk7XG5jb25zdCBidW5kbGVkTGFuZ3VhZ2VzID0ge1xuICAuLi5idW5kbGVkTGFuZ3VhZ2VzQmFzZSxcbiAgLi4uYnVuZGxlZExhbmd1YWdlc0FsaWFzXG59O1xuXG5leHBvcnQgeyBidW5kbGVkTGFuZ3VhZ2VzLCBidW5kbGVkTGFuZ3VhZ2VzQWxpYXMsIGJ1bmRsZWRMYW5ndWFnZXNCYXNlLCBidW5kbGVkTGFuZ3VhZ2VzSW5mbyB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/langs.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bundledThemes: () => (/* binding */ bundledThemes),\n/* harmony export */   bundledThemesInfo: () => (/* binding */ bundledThemesInfo)\n/* harmony export */ });\nconst bundledThemesInfo = [\n  {\n    \"id\": \"andromeeda\",\n    \"displayName\": \"Andromeeda\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_andromeeda_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/andromeeda.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/andromeeda.mjs\"))\n  },\n  {\n    \"id\": \"aurora-x\",\n    \"displayName\": \"Aurora X\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_aurora-x_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/aurora-x.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/aurora-x.mjs\"))\n  },\n  {\n    \"id\": \"ayu-dark\",\n    \"displayName\": \"Ayu Dark\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_ayu-dark_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/ayu-dark.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/ayu-dark.mjs\"))\n  },\n  {\n    \"id\": \"catppuccin-frappe\",\n    \"displayName\": \"Catppuccin Frapp\\xE9\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_catppucc-497484\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/catppuccin-frappe.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/catppuccin-frappe.mjs\"))\n  },\n  {\n    \"id\": \"catppuccin-latte\",\n    \"displayName\": \"Catppuccin Latte\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_catppucc-6a4c23\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/catppuccin-latte.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/catppuccin-latte.mjs\"))\n  },\n  {\n    \"id\": \"catppuccin-macchiato\",\n    \"displayName\": \"Catppuccin Macchiato\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_catppucc-689427\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/catppuccin-macchiato.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/catppuccin-macchiato.mjs\"))\n  },\n  {\n    \"id\": \"catppuccin-mocha\",\n    \"displayName\": \"Catppuccin Mocha\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_catppucc-93bae5\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/catppuccin-mocha.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/catppuccin-mocha.mjs\"))\n  },\n  {\n    \"id\": \"dark-plus\",\n    \"displayName\": \"Dark Plus\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_dark-plus_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/dark-plus.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/dark-plus.mjs\"))\n  },\n  {\n    \"id\": \"dracula\",\n    \"displayName\": \"Dracula\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_dracula_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/dracula.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/dracula.mjs\"))\n  },\n  {\n    \"id\": \"dracula-soft\",\n    \"displayName\": \"Dracula Soft\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_dracula--4b7c7d\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/dracula-soft.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/dracula-soft.mjs\"))\n  },\n  {\n    \"id\": \"github-dark\",\n    \"displayName\": \"GitHub Dark\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_github-d-887a28\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/github-dark.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/github-dark.mjs\"))\n  },\n  {\n    \"id\": \"github-dark-dimmed\",\n    \"displayName\": \"GitHub Dark Dimmed\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_github-d-cfe1c6\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/github-dark-dimmed.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/github-dark-dimmed.mjs\"))\n  },\n  {\n    \"id\": \"github-light\",\n    \"displayName\": \"GitHub Light\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_github-l-aa891d\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/github-light.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/github-light.mjs\"))\n  },\n  {\n    \"id\": \"light-plus\",\n    \"displayName\": \"Light Plus\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_light-plus_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/light-plus.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/light-plus.mjs\"))\n  },\n  {\n    \"id\": \"material-theme\",\n    \"displayName\": \"Material Theme\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_material-1288bd\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/material-theme.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/material-theme.mjs\"))\n  },\n  {\n    \"id\": \"material-theme-darker\",\n    \"displayName\": \"Material Theme Darker\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_material-13d8e0\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/material-theme-darker.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/material-theme-darker.mjs\"))\n  },\n  {\n    \"id\": \"material-theme-lighter\",\n    \"displayName\": \"Material Theme Lighter\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_material-67ccd9\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/material-theme-lighter.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/material-theme-lighter.mjs\"))\n  },\n  {\n    \"id\": \"material-theme-ocean\",\n    \"displayName\": \"Material Theme Ocean\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_material-2293fe\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/material-theme-ocean.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/material-theme-ocean.mjs\"))\n  },\n  {\n    \"id\": \"material-theme-palenight\",\n    \"displayName\": \"Material Theme Palenight\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_material-c17ec2\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/material-theme-palenight.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/material-theme-palenight.mjs\"))\n  },\n  {\n    \"id\": \"min-dark\",\n    \"displayName\": \"Min Dark\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_min-dark_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/min-dark.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/min-dark.mjs\"))\n  },\n  {\n    \"id\": \"min-light\",\n    \"displayName\": \"Min Light\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_min-light_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/min-light.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/min-light.mjs\"))\n  },\n  {\n    \"id\": \"monokai\",\n    \"displayName\": \"Monokai\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_monokai_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/monokai.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/monokai.mjs\"))\n  },\n  {\n    \"id\": \"night-owl\",\n    \"displayName\": \"Night Owl\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_night-owl_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/night-owl.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/night-owl.mjs\"))\n  },\n  {\n    \"id\": \"nord\",\n    \"displayName\": \"Nord\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_nord_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/nord.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/nord.mjs\"))\n  },\n  {\n    \"id\": \"one-dark-pro\",\n    \"displayName\": \"One Dark Pro\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_one-dark-0015e4\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/one-dark-pro.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/one-dark-pro.mjs\"))\n  },\n  {\n    \"id\": \"poimandres\",\n    \"displayName\": \"Poimandres\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_poimandres_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/poimandres.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/poimandres.mjs\"))\n  },\n  {\n    \"id\": \"red\",\n    \"displayName\": \"Red\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_red_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/red.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/red.mjs\"))\n  },\n  {\n    \"id\": \"rose-pine\",\n    \"displayName\": \"Ros\\xE9 Pine\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_rose-pine_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/rose-pine.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/rose-pine.mjs\"))\n  },\n  {\n    \"id\": \"rose-pine-dawn\",\n    \"displayName\": \"Ros\\xE9 Pine Dawn\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_rose-pin-92ee40\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/rose-pine-dawn.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/rose-pine-dawn.mjs\"))\n  },\n  {\n    \"id\": \"rose-pine-moon\",\n    \"displayName\": \"Ros\\xE9 Pine Moon\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_rose-pin-19465e\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/rose-pine-moon.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/rose-pine-moon.mjs\"))\n  },\n  {\n    \"id\": \"slack-dark\",\n    \"displayName\": \"Slack Dark\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_slack-dark_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/slack-dark.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/slack-dark.mjs\"))\n  },\n  {\n    \"id\": \"slack-ochin\",\n    \"displayName\": \"Slack Ochin\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_slack-oc-8e5cde\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/slack-ochin.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/slack-ochin.mjs\"))\n  },\n  {\n    \"id\": \"solarized-dark\",\n    \"displayName\": \"Solarized Dark\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_solarize-0e9a13\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/solarized-dark.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/solarized-dark.mjs\"))\n  },\n  {\n    \"id\": \"solarized-light\",\n    \"displayName\": \"Solarized Light\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_solarize-da73a1\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/solarized-light.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/solarized-light.mjs\"))\n  },\n  {\n    \"id\": \"synthwave-84\",\n    \"displayName\": \"Synthwave '84\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_synthwav-e52748\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/synthwave-84.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/synthwave-84.mjs\"))\n  },\n  {\n    \"id\": \"tokyo-night\",\n    \"displayName\": \"Tokyo Night\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_tokyo-ni-a92b27\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/tokyo-night.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/tokyo-night.mjs\"))\n  },\n  {\n    \"id\": \"vitesse-black\",\n    \"displayName\": \"Vitesse Black\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_vitesse--21a8a8\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/vitesse-black.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/vitesse-black.mjs\"))\n  },\n  {\n    \"id\": \"vitesse-dark\",\n    \"displayName\": \"Vitesse Dark\",\n    \"type\": \"dark\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_vitesse--89eda2\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/vitesse-dark.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/vitesse-dark.mjs\"))\n  },\n  {\n    \"id\": \"vitesse-light\",\n    \"displayName\": \"Vitesse Light\",\n    \"type\": \"light\",\n    \"import\": () => __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_shikiji_0_10_2_node_modules_shikiji_dist_themes_vitesse--ca8ff0\").then(__webpack_require__.bind(__webpack_require__, /*! ./themes/vitesse-light.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes/vitesse-light.mjs\"))\n  }\n];\nconst bundledThemes = Object.fromEntries(bundledThemesInfo.map((i) => [i.id, i.import]));\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zaGlraWppQDAuMTAuMi9ub2RlX21vZHVsZXMvc2hpa2lqaS9kaXN0L3RoZW1lcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBVQUFpQztBQUNyRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb1VBQStCO0FBQ25ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvVUFBK0I7QUFDbkQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlWQUF3QztBQUM1RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdVZBQXVDO0FBQzNELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrVkFBMkM7QUFDL0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVWQUF1QztBQUMzRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdVVBQWdDO0FBQ3BELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpVUFBOEI7QUFDbEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtVQUFtQztBQUN2RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNlVBQWtDO0FBQ3RELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyVkFBeUM7QUFDN0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtVQUFtQztBQUN2RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMFVBQWlDO0FBQ3JELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtVkFBcUM7QUFDekQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlXQUE0QztBQUNoRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbVdBQTZDO0FBQ2pFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrVkFBMkM7QUFDL0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVXQUErQztBQUNuRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb1VBQStCO0FBQ25ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1VUFBZ0M7QUFDcEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlVQUE4QjtBQUNsRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdVVBQWdDO0FBQ3BELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3VEFBMkI7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtVQUFtQztBQUN2RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMFVBQWlDO0FBQ3JELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxVEFBMEI7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVVQUFnQztBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbVZBQXFDO0FBQ3pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtVkFBcUM7QUFDekQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBVQUFpQztBQUNyRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNlVBQWtDO0FBQ3RELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtVkFBcUM7QUFDekQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFWQUFzQztBQUMxRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK1VBQW1DO0FBQ3ZELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2VUFBa0M7QUFDdEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlWQUFvQztBQUN4RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK1VBQW1DO0FBQ3ZELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpVkFBb0M7QUFDeEQ7QUFDQTtBQUNBOztBQUU0QyIsInNvdXJjZXMiOlsiL1VzZXJzL2FjYm94bGl1L3Byb2plY3RzL2Jpam9uL2VjaG9haS9ub2RlX21vZHVsZXMvLnBucG0vc2hpa2lqaUAwLjEwLjIvbm9kZV9tb2R1bGVzL3NoaWtpamkvZGlzdC90aGVtZXMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1bmRsZWRUaGVtZXNJbmZvID0gW1xuICB7XG4gICAgXCJpZFwiOiBcImFuZHJvbWVlZGFcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiQW5kcm9tZWVkYVwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL2FuZHJvbWVlZGEubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJhdXJvcmEteFwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJBdXJvcmEgWFwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL2F1cm9yYS14Lm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiYXl1LWRhcmtcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiQXl1IERhcmtcIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9heXUtZGFyay5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImNhdHBwdWNjaW4tZnJhcHBlXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIkNhdHBwdWNjaW4gRnJhcHBcXHhFOVwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL2NhdHBwdWNjaW4tZnJhcHBlLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY2F0cHB1Y2Npbi1sYXR0ZVwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJDYXRwcHVjY2luIExhdHRlXCIsXG4gICAgXCJ0eXBlXCI6IFwibGlnaHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL2NhdHBwdWNjaW4tbGF0dGUubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJjYXRwcHVjY2luLW1hY2NoaWF0b1wiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJDYXRwcHVjY2luIE1hY2NoaWF0b1wiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL2NhdHBwdWNjaW4tbWFjY2hpYXRvLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiY2F0cHB1Y2Npbi1tb2NoYVwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJDYXRwcHVjY2luIE1vY2hhXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvY2F0cHB1Y2Npbi1tb2NoYS5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImRhcmstcGx1c1wiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJEYXJrIFBsdXNcIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9kYXJrLXBsdXMubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJkcmFjdWxhXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIkRyYWN1bGFcIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9kcmFjdWxhLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZHJhY3VsYS1zb2Z0XCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIkRyYWN1bGEgU29mdFwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL2RyYWN1bGEtc29mdC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcImdpdGh1Yi1kYXJrXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIkdpdEh1YiBEYXJrXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvZ2l0aHViLWRhcmsubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJnaXRodWItZGFyay1kaW1tZWRcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiR2l0SHViIERhcmsgRGltbWVkXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvZ2l0aHViLWRhcmstZGltbWVkLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwiZ2l0aHViLWxpZ2h0XCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIkdpdEh1YiBMaWdodFwiLFxuICAgIFwidHlwZVwiOiBcImxpZ2h0XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9naXRodWItbGlnaHQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJsaWdodC1wbHVzXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIkxpZ2h0IFBsdXNcIixcbiAgICBcInR5cGVcIjogXCJsaWdodFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvbGlnaHQtcGx1cy5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm1hdGVyaWFsLXRoZW1lXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIk1hdGVyaWFsIFRoZW1lXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvbWF0ZXJpYWwtdGhlbWUubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJtYXRlcmlhbC10aGVtZS1kYXJrZXJcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiTWF0ZXJpYWwgVGhlbWUgRGFya2VyXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvbWF0ZXJpYWwtdGhlbWUtZGFya2VyLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibWF0ZXJpYWwtdGhlbWUtbGlnaHRlclwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJNYXRlcmlhbCBUaGVtZSBMaWdodGVyXCIsXG4gICAgXCJ0eXBlXCI6IFwibGlnaHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL21hdGVyaWFsLXRoZW1lLWxpZ2h0ZXIubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJtYXRlcmlhbC10aGVtZS1vY2VhblwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJNYXRlcmlhbCBUaGVtZSBPY2VhblwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL21hdGVyaWFsLXRoZW1lLW9jZWFuLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibWF0ZXJpYWwtdGhlbWUtcGFsZW5pZ2h0XCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIk1hdGVyaWFsIFRoZW1lIFBhbGVuaWdodFwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL21hdGVyaWFsLXRoZW1lLXBhbGVuaWdodC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm1pbi1kYXJrXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIk1pbiBEYXJrXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvbWluLWRhcmsubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJtaW4tbGlnaHRcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiTWluIExpZ2h0XCIsXG4gICAgXCJ0eXBlXCI6IFwibGlnaHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL21pbi1saWdodC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm1vbm9rYWlcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiTW9ub2thaVwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL21vbm9rYWkubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJuaWdodC1vd2xcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiTmlnaHQgT3dsXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvbmlnaHQtb3dsLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwibm9yZFwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJOb3JkXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvbm9yZC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcIm9uZS1kYXJrLXByb1wiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJPbmUgRGFyayBQcm9cIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9vbmUtZGFyay1wcm8ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJwb2ltYW5kcmVzXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlBvaW1hbmRyZXNcIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9wb2ltYW5kcmVzLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicmVkXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlJlZFwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL3JlZC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInJvc2UtcGluZVwiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJSb3NcXHhFOSBQaW5lXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvcm9zZS1waW5lLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicm9zZS1waW5lLWRhd25cIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiUm9zXFx4RTkgUGluZSBEYXduXCIsXG4gICAgXCJ0eXBlXCI6IFwibGlnaHRcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL3Jvc2UtcGluZS1kYXduLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwicm9zZS1waW5lLW1vb25cIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiUm9zXFx4RTkgUGluZSBNb29uXCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvcm9zZS1waW5lLW1vb24ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzbGFjay1kYXJrXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlNsYWNrIERhcmtcIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9zbGFjay1kYXJrLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic2xhY2stb2NoaW5cIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiU2xhY2sgT2NoaW5cIixcbiAgICBcInR5cGVcIjogXCJsaWdodFwiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvc2xhY2stb2NoaW4ubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzb2xhcml6ZWQtZGFya1wiLFxuICAgIFwiZGlzcGxheU5hbWVcIjogXCJTb2xhcml6ZWQgRGFya1wiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL3NvbGFyaXplZC1kYXJrLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwic29sYXJpemVkLWxpZ2h0XCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlNvbGFyaXplZCBMaWdodFwiLFxuICAgIFwidHlwZVwiOiBcImxpZ2h0XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy9zb2xhcml6ZWQtbGlnaHQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJzeW50aHdhdmUtODRcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiU3ludGh3YXZlICc4NFwiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL3N5bnRod2F2ZS04NC5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInRva3lvLW5pZ2h0XCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlRva3lvIE5pZ2h0XCIsXG4gICAgXCJ0eXBlXCI6IFwiZGFya1wiLFxuICAgIFwiaW1wb3J0XCI6ICgpID0+IGltcG9ydCgnLi90aGVtZXMvdG9reW8tbmlnaHQubWpzJylcbiAgfSxcbiAge1xuICAgIFwiaWRcIjogXCJ2aXRlc3NlLWJsYWNrXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlZpdGVzc2UgQmxhY2tcIixcbiAgICBcInR5cGVcIjogXCJkYXJrXCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy92aXRlc3NlLWJsYWNrLm1qcycpXG4gIH0sXG4gIHtcbiAgICBcImlkXCI6IFwidml0ZXNzZS1kYXJrXCIsXG4gICAgXCJkaXNwbGF5TmFtZVwiOiBcIlZpdGVzc2UgRGFya1wiLFxuICAgIFwidHlwZVwiOiBcImRhcmtcIixcbiAgICBcImltcG9ydFwiOiAoKSA9PiBpbXBvcnQoJy4vdGhlbWVzL3ZpdGVzc2UtZGFyay5tanMnKVxuICB9LFxuICB7XG4gICAgXCJpZFwiOiBcInZpdGVzc2UtbGlnaHRcIixcbiAgICBcImRpc3BsYXlOYW1lXCI6IFwiVml0ZXNzZSBMaWdodFwiLFxuICAgIFwidHlwZVwiOiBcImxpZ2h0XCIsXG4gICAgXCJpbXBvcnRcIjogKCkgPT4gaW1wb3J0KCcuL3RoZW1lcy92aXRlc3NlLWxpZ2h0Lm1qcycpXG4gIH1cbl07XG5jb25zdCBidW5kbGVkVGhlbWVzID0gT2JqZWN0LmZyb21FbnRyaWVzKGJ1bmRsZWRUaGVtZXNJbmZvLm1hcCgoaSkgPT4gW2kuaWQsIGkuaW1wb3J0XSkpO1xuXG5leHBvcnQgeyBidW5kbGVkVGhlbWVzLCBidW5kbGVkVGhlbWVzSW5mbyB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/shikiji@0.10.2/node_modules/shikiji/dist/themes.mjs\n"));

/***/ })

});